{"version":3,"names":["Environments","PRODUCTION","PREVIEW","TEST","LOCAL","getEnvironment","test","toString","EventActions","GENERAL_LOAD","COUNTRY_RECOMMENDER_LOAD","COUNTRY_RECOMMENDER_CHANGE","COUNTRY_RECOMMENDER_CLOSE","CREST_CLICK","NAVIGATION_LOAD","MODEL_OVERLAY_LOAD","MENU_BACK_CLICK","MENU_CLOSE_CLICK","META_FUNCTION_CLICK","MODEL_CLICK","MODEL_META_FUNCTION_CLICK","MODEL_CTA_CLICK","MODEL_RANGE_CLICK","MORE_CLICK","NAVIGATION_CLICK","NAVIGATION_LINK_CLICK","DEALER_SEARCH_SCREEN_LOAD","DEALER_RESULTS_SCREEN_LOAD","DEALER_SEARCH_CLICK","DEALER_GEOLOCATION_CLICK","DEALER_RESULT_CLICK","DEALER_DETAILS_SCREEN_LOAD","DEALER_CONTACT_CLICK","DEALER_MAP_CLICK","CONTEXTUAL_BUTTON_CLICK","DRAWER_LOAD","PCOM_SEARCH_CLICK","DATA_LAYER_APP_ID","DATA_LAYER_APPLICATION_NAME","ElementTypes","closeButton","backdrop","backButton","menuItem","sideDrawerItem","doubleDrawer","singleDrawer","bodyTypeButton","myPorscheDrawer","dealerSearchForm","ClickElementTypes","Link","Button","Image","DisplayElementTypes","SingleDrawer","DoubleDrawer","DEALER_SEARCH_DISPLAY_ELEMENT_ID","DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER","DEALER_SEARCH_TARGET_ELEMENT","DEALER_SEARCH_ELEMENT_TYPE","__extends","NaviError","_super","message","type","_this","call","this","Object","setPrototypeOf","prototype","Error","NaviErrorTypes","NO_INPUT","INVALID_INPUT","NO_RESULTS","GENERAL","RETRY","GEOLOCATION_DENIED","UNAUTHORIZED","getErrorMessage","errorContent","err","wrong","noInput","invalidInput","noResults","retry","geolocationDenied","RegionLocales","ASIA_PACIFIC","EASTERN_EUROPE","MIDDLE_EAST","LATIN_AMERICA","INTERNATIONAL","RegionLocaleMap","AP","CE","LL","WW","isCountryInOneOfRegions","country","values","includes","splitLocale","localeStr","isString","language","substring","indexOf","toLowerCase","toUpperCase","concat","hasKey","appendToMap","map","propName","value","items","get","set","push","debounce","fn","ms","timeoutId","args","_i","arguments","length","clearTimeout","setTimeout","apply","isConnected","maybeElement","cleanupElements","_b","keys","key","filter","stencilSubscription","getRenderingRef","elmsToUpdate","Map","dispose","clear","elm","elements","forceUpdate","reset","forEach","elms","unwrap","val","createObservableMap","defaultState","shouldUpdate","a","b","unwrappedState","states","entries","handlers","_a","cb","oldValue","state","Proxy","_","ownKeys","Array","from","getOwnPropertyDescriptor","enumerable","configurable","has","on","eventName","callback","removeFromArray","onChange","unSet","newValue","unReset","use","subscriptions","unsubs","reduce","subscription","unsub","array","item","index","createStore","navStateStore","loggedInState","LOGGED_OUT_USER_STATUS","unreadMessagesCount","DEFAULT_UNREAD_MESSAGES_COUNT","userConsent","env","DEFAULT_ENVIRONMENT","app","Application","default","EMPTY_LINK","id","text","link","icon","description","EMPTY_BUTTON","EMPTY_COUNTRY_RECOMMENDER","statement","region","change","EMPTY_MODELS","all","series","EMPTY_MENU","children","EMPTY_SHOP_MENU","cart","additionalContent","availableLocales","availableLocalesOnlyForShop","logoLinksToShopLocales","EMPTY_MYPORSCHE","loggedInFallback","login","loginText","logout","messages","more","signup","signupText","links","savedSearches","savedVehicles","EMPTY_DEALER","numberOfDealers","search","form","inputPlaceholder","inputDescription","or","geolocation","dropdown","province","city","selectAProvince","selectACity","load","outboundLink","details","finder","bookService","testDrive","backToSearch","openingHours","EMPTY_ERRORS","EMPTY_CONTENT","menu","crest","back","close","accessibilityStatement","countryRecommender","contextualButtons","contextualLinks","models","dealer","myPorsche","vehiclePurchase","shop","externalShop","experience","services","error","loadingDescription","legacyMore","legacyShop","findMenuItemById","isArray","child","foundChild","navContentStore"],"sources":["src/entities/environment.ts","src/utility/constants/analytics.ts","src/utility/navi-error.ts","src/entities/locale.ts","node_modules/@stencil/store/dist/index.mjs","src/state/nav-state-store.ts","src/entities/content.ts","src/state/nav-content-store.ts"],"sourcesContent":["export const Environments = {\n  PRODUCTION: 'production',\n  PREVIEW: 'preview',\n  TEST: 'test',\n  LOCAL: 'local'\n} as const;\n\nexport type Environment = (typeof Environments)[keyof typeof Environments];\n\nexport function getEnvironment(test: string): Environment {\n  switch (test) {\n    case Environments.PREVIEW.toString():\n      return Environments.PREVIEW;\n\n    case Environments.TEST.toString():\n      return Environments.TEST;\n\n    case Environments.LOCAL.toString():\n      return Environments.LOCAL;\n\n    case Environments.PRODUCTION.toString():\n    default:\n      return Environments.PRODUCTION;\n  }\n}\n","export const EventActions = {\n  GENERAL_LOAD: 'PAGHomeNav_General_Load',\n  COUNTRY_RECOMMENDER_LOAD: 'PAGHomeNav_CountryRecommender_Load',\n  COUNTRY_RECOMMENDER_CHANGE: 'PAGHomeNav_CountryRecommenderChange_Click',\n  COUNTRY_RECOMMENDER_CLOSE: 'PAGHomeNav_CountryRecommenderClose_Click',\n  CREST_CLICK: 'PAGHomeNav_Crest_Click',\n  NAVIGATION_LOAD: 'PAGHomeNav_Navigation_Load',\n  MODEL_OVERLAY_LOAD: 'PAGHomeNav_ModelRangeOverlay_Load',\n  MENU_BACK_CLICK: 'PAGHomeNav_MenuBack_Click',\n  MENU_CLOSE_CLICK: 'PAGHomeNav_MenuClose_Click',\n  META_FUNCTION_CLICK: 'PAGHomeNav_MetaFunction_Click',\n  MODEL_CLICK: 'PAGHomeNav_Model_Click',\n  MODEL_META_FUNCTION_CLICK: 'PAGHomeNav_ModelMetaFunction_Click',\n  MODEL_CTA_CLICK: 'PAGHomeNav_ModelCTA_Click',\n  MODEL_RANGE_CLICK: 'PAGHomeNav_ModelRange_Click',\n  MORE_CLICK: 'PAGHomeNav_More_Click',\n  NAVIGATION_CLICK: 'PAGHomeNav_Navigation_Click',\n  NAVIGATION_LINK_CLICK: 'PAGHomeNav_NavigationLink_Click',\n  DEALER_SEARCH_SCREEN_LOAD: 'PAGHomeNav_FindADealerSearchScreen_Load',\n  DEALER_RESULTS_SCREEN_LOAD: 'PAGHomeNav_FindADealerResultsScreen_Load',\n  DEALER_SEARCH_CLICK: 'PAGHomeNav_FindADealerSearch_Click',\n  DEALER_GEOLOCATION_CLICK: 'PAGHomeNav_FindADealerLocateMe_Click',\n  DEALER_RESULT_CLICK: 'PAGHomeNav_FindADealerDealer_Click',\n  DEALER_DETAILS_SCREEN_LOAD: 'PAGHomeNav_FindADealerDealerScreen_Load',\n  DEALER_CONTACT_CLICK: 'PAGHomeNav_FindADealerDealerContact_Click',\n  DEALER_MAP_CLICK: 'PAGHomeNav_FindADealerMap_Click',\n  CONTEXTUAL_BUTTON_CLICK: 'PAGHomeNav_IconContextLink_Click',\n  DRAWER_LOAD: 'PAGHomeNav_Drawer_Load',\n  PCOM_SEARCH_CLICK: 'PAGHomeNav_IconGlobalLink_Click'\n} as const;\n\nexport type EventAction = (typeof EventActions)[keyof typeof EventActions];\n\nexport const DATA_LAYER_APP_ID = 'nav';\nexport const DATA_LAYER_APPLICATION_NAME = 'edgecast_CDN';\n\nexport const ElementTypes = {\n  closeButton: 'close-button',\n  backdrop: 'backdrop',\n  backButton: 'back-button',\n  menuItem: 'menu-item',\n  sideDrawerItem: 'side-drawer-item',\n  doubleDrawer: 'double-drawer',\n  singleDrawer: 'single-drawer',\n  bodyTypeButton: 'body-type-button',\n  myPorscheDrawer: 'my-porsche-drawer',\n  dealerSearchForm: 'dealer-search-form'\n} as const;\n\nexport type ElementType = (typeof ElementTypes)[keyof typeof ElementTypes];\n\nexport const ClickElementTypes = {\n  Link: 'link',\n  Button: 'button',\n  Image: 'image'\n} as const;\n\nexport type ClickElementType = (typeof ClickElementTypes)[keyof typeof ClickElementTypes];\n\nexport const DisplayElementTypes = {\n  SingleDrawer: 'singleDrawer',\n  DoubleDrawer: 'doubleDrawer'\n} as const;\n\nexport type DisplayElementType = (typeof DisplayElementTypes)[keyof typeof DisplayElementTypes];\n\nexport const DEALER_SEARCH_DISPLAY_ELEMENT_ID = 'level1-mainmenu_level2-find_a_dealer';\nexport const DEALER_SEARCH_RESULT_DISPLAY_ELEMENT_ID_DOUBLE_DRAWER = 'level1-mainmenu_level3-dealer-details';\nexport const DEALER_SEARCH_TARGET_ELEMENT = 'level2_dealer-search-form';\nexport const DEALER_SEARCH_ELEMENT_TYPE = 'level3_dealer-details';\n","import { Errors } from '../entities/content';\n\nexport class NaviError extends Error {\n  type: NaviErrorType;\n\n  constructor(message: string, type: NaviErrorType) {\n    super(message);\n    this.type = type;\n\n    // This line fixes a bug/feature in typescript to do with extending built-in classes.\n    // Do not touch.\n    // Link: https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, NaviError.prototype);\n  }\n}\n\nexport const NaviErrorTypes = {\n  NO_INPUT: 'NO_INPUT',\n  INVALID_INPUT: 'INVALID_INPUT',\n  NO_RESULTS: 'NO_RESULTS',\n  GENERAL: 'GENERAL',\n  RETRY: 'RETRY',\n  GEOLOCATION_DENIED: 'GEOLOCATION_DENIED',\n  UNAUTHORIZED: 'UNAUTHORIZED'\n} as const;\n\nexport type NaviErrorType = (typeof NaviErrorTypes)[keyof typeof NaviErrorTypes];\n\nexport function getErrorMessage(errorContent: Errors, err: Error): string {\n  if (!(err instanceof NaviError)) {\n    return errorContent.wrong;\n  }\n\n  switch (err.type) {\n    case NaviErrorTypes.NO_INPUT:\n      return errorContent.noInput;\n    case NaviErrorTypes.INVALID_INPUT:\n      return errorContent.invalidInput;\n    case NaviErrorTypes.NO_RESULTS:\n      return errorContent.noResults;\n    case NaviErrorTypes.GENERAL:\n      return errorContent.wrong;\n    case NaviErrorTypes.RETRY:\n      return errorContent.retry;\n    case NaviErrorTypes.GEOLOCATION_DENIED:\n      return errorContent.geolocationDenied;\n    default:\n      return errorContent.wrong;\n  }\n}\n","import { hasKey, isString } from '../utility/helper';\nimport { NaviError, NaviErrorTypes } from '../utility/navi-error';\n\nexport const RegionLocales = {\n  ASIA_PACIFIC: 'asia-pacific', // https://www.porsche.com/pap/\n  EASTERN_EUROPE: 'eastern-europe', // https://www.porsche.com/central-eastern-europe/ru/ https://www.porsche.com/central-eastern-europe/en/\n  MIDDLE_EAST: 'middle-east', // https://www.porsche.com/middle-east/ https://www.porsche.com/middle-east/fr/\n  LATIN_AMERICA: 'latin-america', // https://www.porsche.com/latin-america-en/ https://www.porsche.com/latin-america-es/\n  INTERNATIONAL: 'international' // https://www.porsche.com/international/ -> has myporsche\n} as const;\n\nexport type RegionLocale = (typeof RegionLocales)[keyof typeof RegionLocales];\n\nexport const RegionLocaleMap = {\n  AP: RegionLocales.ASIA_PACIFIC,\n  CE: RegionLocales.EASTERN_EUROPE,\n  LL: RegionLocales.LATIN_AMERICA,\n  WW: RegionLocales.INTERNATIONAL\n} as const;\n\nexport function isCountryInOneOfRegions(country: string): boolean {\n  return Object.values<string>(RegionLocales).includes(country);\n}\n\nexport function splitLocale(localeStr: string): { language: string; country: string } {\n  if (!isString(localeStr)) {\n    throw new NaviError('empty locale passed', NaviErrorTypes.NO_INPUT);\n  }\n\n  const language = localeStr.substring(0, localeStr.indexOf('-')).toLowerCase();\n  let country = localeStr.substring(localeStr.indexOf('-') + 1).toLowerCase();\n\n  if (!isCountryInOneOfRegions(country)) {\n    country = country.toUpperCase();\n  }\n\n  if (!isString(language) || !isString(country)) {\n    throw new NaviError(`invalid locale ${localeStr} passed`, NaviErrorTypes.INVALID_INPUT);\n  }\n\n  return {\n    language,\n    country: hasKey(RegionLocaleMap, country) ? RegionLocaleMap[country] : country\n  };\n}\n","import { getRenderingRef, forceUpdate } from '@stencil/core';\n\nconst appendToMap = (map, propName, value) => {\n    const items = map.get(propName);\n    if (!items) {\n        map.set(propName, [value]);\n    }\n    else if (!items.includes(value)) {\n        items.push(value);\n    }\n};\nconst debounce = (fn, ms) => {\n    let timeoutId;\n    return (...args) => {\n        if (timeoutId) {\n            clearTimeout(timeoutId);\n        }\n        timeoutId = setTimeout(() => {\n            timeoutId = 0;\n            fn(...args);\n        }, ms);\n    };\n};\n\n/**\n * Check if a possible element isConnected.\n * The property might not be there, so we check for it.\n *\n * We want it to return true if isConnected is not a property,\n * otherwise we would remove these elements and would not update.\n *\n * Better leak in Edge than to be useless.\n */\nconst isConnected = (maybeElement) => !('isConnected' in maybeElement) || maybeElement.isConnected;\nconst cleanupElements = debounce((map) => {\n    for (let key of map.keys()) {\n        map.set(key, map.get(key).filter(isConnected));\n    }\n}, 2000);\nconst stencilSubscription = () => {\n    if (typeof getRenderingRef !== 'function') {\n        // If we are not in a stencil project, we do nothing.\n        // This function is not really exported by @stencil/core.\n        return {};\n    }\n    const elmsToUpdate = new Map();\n    return {\n        dispose: () => elmsToUpdate.clear(),\n        get: (propName) => {\n            const elm = getRenderingRef();\n            if (elm) {\n                appendToMap(elmsToUpdate, propName, elm);\n            }\n        },\n        set: (propName) => {\n            const elements = elmsToUpdate.get(propName);\n            if (elements) {\n                elmsToUpdate.set(propName, elements.filter(forceUpdate));\n            }\n            cleanupElements(elmsToUpdate);\n        },\n        reset: () => {\n            elmsToUpdate.forEach((elms) => elms.forEach(forceUpdate));\n            cleanupElements(elmsToUpdate);\n        },\n    };\n};\n\nconst unwrap = (val) => (typeof val === 'function' ? val() : val);\nconst createObservableMap = (defaultState, shouldUpdate = (a, b) => a !== b) => {\n    const unwrappedState = unwrap(defaultState);\n    let states = new Map(Object.entries(unwrappedState !== null && unwrappedState !== void 0 ? unwrappedState : {}));\n    const handlers = {\n        dispose: [],\n        get: [],\n        set: [],\n        reset: [],\n    };\n    const reset = () => {\n        var _a;\n        // When resetting the state, the default state may be a function - unwrap it to invoke it.\n        // otherwise, the state won't be properly reset\n        states = new Map(Object.entries((_a = unwrap(defaultState)) !== null && _a !== void 0 ? _a : {}));\n        handlers.reset.forEach((cb) => cb());\n    };\n    const dispose = () => {\n        // Call first dispose as resetting the state would\n        // cause less updates ;)\n        handlers.dispose.forEach((cb) => cb());\n        reset();\n    };\n    const get = (propName) => {\n        handlers.get.forEach((cb) => cb(propName));\n        return states.get(propName);\n    };\n    const set = (propName, value) => {\n        const oldValue = states.get(propName);\n        if (shouldUpdate(value, oldValue, propName)) {\n            states.set(propName, value);\n            handlers.set.forEach((cb) => cb(propName, value, oldValue));\n        }\n    };\n    const state = (typeof Proxy === 'undefined'\n        ? {}\n        : new Proxy(unwrappedState, {\n            get(_, propName) {\n                return get(propName);\n            },\n            ownKeys(_) {\n                return Array.from(states.keys());\n            },\n            getOwnPropertyDescriptor() {\n                return {\n                    enumerable: true,\n                    configurable: true,\n                };\n            },\n            has(_, propName) {\n                return states.has(propName);\n            },\n            set(_, propName, value) {\n                set(propName, value);\n                return true;\n            },\n        }));\n    const on = (eventName, callback) => {\n        handlers[eventName].push(callback);\n        return () => {\n            removeFromArray(handlers[eventName], callback);\n        };\n    };\n    const onChange = (propName, cb) => {\n        const unSet = on('set', (key, newValue) => {\n            if (key === propName) {\n                cb(newValue);\n            }\n        });\n        // We need to unwrap the defaultState because it might be a function.\n        // Otherwise we might not be sending the right reset value.\n        const unReset = on('reset', () => cb(unwrap(defaultState)[propName]));\n        return () => {\n            unSet();\n            unReset();\n        };\n    };\n    const use = (...subscriptions) => {\n        const unsubs = subscriptions.reduce((unsubs, subscription) => {\n            if (subscription.set) {\n                unsubs.push(on('set', subscription.set));\n            }\n            if (subscription.get) {\n                unsubs.push(on('get', subscription.get));\n            }\n            if (subscription.reset) {\n                unsubs.push(on('reset', subscription.reset));\n            }\n            if (subscription.dispose) {\n                unsubs.push(on('dispose', subscription.dispose));\n            }\n            return unsubs;\n        }, []);\n        return () => unsubs.forEach((unsub) => unsub());\n    };\n    const forceUpdate = (key) => {\n        const oldValue = states.get(key);\n        handlers.set.forEach((cb) => cb(key, oldValue, oldValue));\n    };\n    return {\n        state,\n        get,\n        set,\n        on,\n        onChange,\n        use,\n        dispose,\n        reset,\n        forceUpdate,\n    };\n};\nconst removeFromArray = (array, item) => {\n    const index = array.indexOf(item);\n    if (index >= 0) {\n        array[index] = array[array.length - 1];\n        array.length--;\n    }\n};\n\nconst createStore = (defaultState, shouldUpdate) => {\n    const map = createObservableMap(defaultState, shouldUpdate);\n    map.use(stencilSubscription());\n    return map;\n};\n\nexport { createObservableMap, createStore };\n","import { createStore } from '@stencil/store';\nimport { Environment, getEnvironment } from '../entities/environment';\nimport { DEFAULT_ENVIRONMENT, DEFAULT_UNREAD_MESSAGES_COUNT, LOGGED_OUT_USER_STATUS } from '../utility/constants';\nimport { ApplicationType, Application } from '../utility/constants/app';\n\nexport interface NavState {\n  loggedInState: string;\n  unreadMessagesCount: number;\n  userConsent: boolean;\n  env: Environment;\n  app: ApplicationType;\n}\n\nexport const navStateStore = createStore<NavState>({\n  loggedInState: LOGGED_OUT_USER_STATUS,\n  unreadMessagesCount: DEFAULT_UNREAD_MESSAGES_COUNT,\n  userConsent: false,\n  env: getEnvironment(DEFAULT_ENVIRONMENT),\n  app: Application.default\n});\n","import { isString } from '../utility/helper';\nimport { AvailableExperiment } from '../utility/constants/ab-testing';\n\nexport type TLink = {\n  id: string;\n  text: string;\n  link: string;\n  icon: string;\n  description: string;\n};\n\nexport type TButton = {\n  id: string;\n  text: string;\n  description: string;\n};\n\nexport type TMenu = {\n  id: string;\n  text: string;\n  link: string;\n  children: TMenu[];\n  experienceName?: AvailableExperiment;\n};\n\nexport type TShopAuthStatus = 'loggedOut' | 'loggedIn' | null;\n\nexport type TShopAdditionalContentMenu = {\n  id: string;\n  link: string;\n  text: string;\n  iconUrl?: string;\n  icon?: string;\n  authStatus?: TShopAuthStatus;\n};\n\nexport type TShopMenu = {\n  id: string;\n  text: string;\n  link: string;\n  cart?: string;\n  children: TMenu[];\n  additionalContent: TShopAdditionalContentMenu[];\n  availableLocales: string[];\n  availableLocalesOnlyForShop: string[];\n  logoLinksToShopLocales: string[];\n};\n\nexport type ShopContentResponse = {\n  menuItems: TMenu[];\n  additionalContent: TShopAdditionalContentMenu[];\n};\n\nexport type TVehiclePurchaseMenu = {\n  id: string;\n  text: string;\n  link: string;\n  children: TMenu[];\n  savedVehicles?: TLink | null;\n};\n\nexport type TCountryRecommender = {\n  statement: string;\n  region: string;\n  language: string;\n  change: TButton;\n};\n\nexport type Models = {\n  text: string;\n  id: string;\n  all: TLink;\n  series: Series[];\n};\n\nexport type Series = {\n  name: string;\n  id: string;\n  all: TLink;\n  image: string;\n  links: TLink[];\n  tags: Tag[];\n  bodyTypes: BodyType[];\n};\n\nexport type BodyType = {\n  id: string;\n  name: string;\n  description: string;\n  image: string;\n  link: string;\n};\n\nexport type Tag = {\n  text: string;\n  icon: string;\n};\n\nexport type Dealer = {\n  id: string;\n  text: string;\n  numberOfDealers: number;\n  search: {\n    id: string;\n    text: string;\n    form: {\n      inputPlaceholder: string;\n      inputDescription: string;\n    };\n    clear: TButton;\n    or: string;\n    geolocation: TButton;\n    dropdown: {\n      province: string;\n      city: string;\n      selectAProvince: string;\n      selectACity: string;\n    };\n    load: string;\n    map: TLink;\n    outboundLink: TLink | null;\n  };\n  details: {\n    id: string;\n    finder: TLink | null;\n    bookService: TLink | null;\n    testDrive: TLink | null;\n    backToSearch: string;\n  };\n  openingHours: OpeningHours | null;\n};\n\nexport type MyPorsche = {\n  id: string;\n  text: string;\n  link: string;\n  loggedInFallback: string; //fallback if user has no name\n  login: TLink;\n  loginText: string;\n  logout: TLink;\n  messages: TLink;\n  more: TLink | null;\n  signup: TLink;\n  signupText: string;\n  links: TLink[];\n  savedSearches: TLink | null;\n  savedVehicles: TLink | null;\n};\n\nexport type Errors = {\n  wrong: string;\n  retry: string;\n  noResults: string;\n  noInput: string;\n  invalidInput: string;\n  geolocationDenied: string;\n};\n\nexport type Content = {\n  menu: TButton;\n  crest: TLink;\n  back: TButton;\n  close: TButton;\n  accessibilityStatement: TLink | null;\n  countryRecommender: TCountryRecommender;\n  contextualButtons: {\n    [buttonName: string]: TButton;\n  };\n  contextualLinks: {\n    [linkName: string]: TLink;\n  };\n  models: Models;\n  dealer: Dealer;\n  myPorsche: MyPorsche | null;\n  vehiclePurchase: TMenu;\n  shop: TShopMenu | null;\n\n  externalShop: TLink | null;\n  experience: TMenu;\n  services: TMenu;\n  legacyMore: TMenu;\n  legacyShop: TMenu;\n  error: Errors;\n  loadingDescription: string;\n  abExperiences?: ContentExperimentDefinition[];\n};\n\nexport type Target = {\n  attribute: string;\n  inverted: string;\n  type: string;\n  value: string;\n};\n\nexport type VariationDefinition = {\n  name: string;\n  percentage: number;\n  children: TMenu[];\n};\n\nexport type ContentExperimentDefinition = {\n  name: string;\n  percentage: number;\n  includedTargets: Target[];\n  excludedTargets: Target[];\n  variations: VariationDefinition[];\n};\n\nexport type OpeningHours = {\n  monday: string;\n  tuesday: string;\n  wednesday: string;\n  thursday: string;\n  friday: string;\n  saturday: string;\n  sunday: string;\n  daily_lunch: string;\n  timeFormat?: number;\n};\n\nconst EMPTY_LINK: TLink = { id: '', text: '', link: '', icon: '', description: '' };\n\nconst EMPTY_BUTTON: TButton = { id: '', text: '', description: '' };\n\nconst EMPTY_COUNTRY_RECOMMENDER: TCountryRecommender = {\n  statement: '',\n  region: '',\n  language: '',\n  change: EMPTY_BUTTON\n};\n\nconst EMPTY_MODELS: Models = {\n  text: '',\n  id: '',\n  all: {\n    id: '',\n    text: '',\n    link: '',\n    icon: '',\n    description: ''\n  },\n  series: []\n};\n\nconst EMPTY_MENU: TMenu = {\n  id: '',\n  text: '',\n  link: '',\n  children: []\n};\n\nexport const EMPTY_SHOP_MENU: TShopMenu = {\n  cart: '',\n  additionalContent: [],\n  id: '',\n  text: '',\n  link: '',\n  children: [],\n  availableLocales: [],\n  availableLocalesOnlyForShop: [],\n  logoLinksToShopLocales: []\n};\n\nconst EMPTY_MYPORSCHE: MyPorsche = {\n  id: '',\n  text: '',\n  link: '',\n  loggedInFallback: '', //fallback if user has no name\n  login: EMPTY_LINK,\n  loginText: '',\n  logout: EMPTY_LINK,\n  messages: EMPTY_LINK,\n  more: null,\n  signup: EMPTY_LINK,\n  signupText: '',\n  links: [],\n  savedSearches: null,\n  savedVehicles: null\n};\n\nconst EMPTY_DEALER: Dealer = {\n  id: '',\n  text: '',\n  numberOfDealers: 42,\n  search: {\n    id: '',\n    text: '',\n    form: {\n      inputPlaceholder: '',\n      inputDescription: ''\n    },\n    clear: EMPTY_BUTTON,\n    or: '',\n    geolocation: EMPTY_BUTTON,\n    dropdown: {\n      province: '',\n      city: '',\n      selectAProvince: '',\n      selectACity: ''\n    },\n    load: '',\n    map: EMPTY_LINK,\n    outboundLink: EMPTY_LINK\n  },\n  details: {\n    id: '',\n    finder: EMPTY_LINK,\n    bookService: EMPTY_LINK,\n    testDrive: EMPTY_LINK,\n    backToSearch: ''\n  },\n  openingHours: null\n};\n\nconst EMPTY_ERRORS: Errors = {\n  wrong: '',\n  retry: '',\n  noResults: '',\n  noInput: '',\n  invalidInput: '',\n  geolocationDenied: ''\n};\n\nexport const EMPTY_CONTENT: Content = {\n  menu: EMPTY_BUTTON,\n  crest: EMPTY_LINK,\n  back: EMPTY_BUTTON,\n  close: EMPTY_BUTTON,\n  accessibilityStatement: EMPTY_LINK,\n  countryRecommender: EMPTY_COUNTRY_RECOMMENDER,\n  contextualButtons: {},\n  contextualLinks: {},\n  models: EMPTY_MODELS,\n  dealer: EMPTY_DEALER,\n  myPorsche: EMPTY_MYPORSCHE,\n  vehiclePurchase: EMPTY_MENU,\n  shop: EMPTY_SHOP_MENU,\n  externalShop: EMPTY_LINK,\n  experience: EMPTY_MENU,\n  services: EMPTY_MENU,\n  error: EMPTY_ERRORS,\n  loadingDescription: '',\n  legacyMore: EMPTY_MENU,\n  legacyShop: EMPTY_MENU\n} as const;\n\nexport function findMenuItemById(menu: TMenu | null, id: string): TMenu | null {\n  if (!isString(id)) {\n    return null;\n  }\n\n  if (menu !== null) {\n    if (menu.id === id) {\n      return menu;\n    }\n\n    if (!Array.isArray(menu.children)) {\n      return null;\n    }\n\n    for (const child of menu.children) {\n      const foundChild = findMenuItemById(child, id);\n\n      if (foundChild !== null) {\n        return foundChild;\n      }\n    }\n  }\n\n  return null;\n}\n","import { createStore } from '@stencil/store';\nimport { Content, EMPTY_CONTENT } from '../entities/content';\n\nexport const navContentStore = createStore<Content>(EMPTY_CONTENT);\n"],"mappings":"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"}