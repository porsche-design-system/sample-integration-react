{"version":3,"names":["dealerSearchResultsStore","createStore","searchTerm","results","savedDealerCookie","readDealerCookie","ppnDealers","dealersOfRegion","regions","onChange","newValue","windowService","setCookie","SAVED_DEALER_COOKIE","JSON","stringify","parse","getCookie","err"],"sources":["src/state/dealer-search-results-store.ts"],"sourcesContent":["import { createStore } from '@stencil/store';\nimport { PPNDealerSearchResult } from '../entities/dealer-response';\nimport windowService from '../services/window-service';\nimport { SAVED_DEALER_COOKIE } from '../utility/constants';\n\nexport interface DealerSearchResults {\n  searchTerm: string;\n  results: string[] | null;\n  savedDealerCookie: SavedDealerCookie | null;\n  ppnDealers: { [dealerId: string]: PPNDealerSearchResult };\n  dealersOfRegion: any;\n}\n\nexport interface SavedDealerCookie {\n  id: string;\n  latitude: number;\n  longitude: number;\n}\n\nexport const dealerSearchResultsStore = createStore<DealerSearchResults>({\n  searchTerm: '',\n  results: null,\n  savedDealerCookie: readDealerCookie(),\n  ppnDealers: {},\n  dealersOfRegion: { regions: [] }\n});\n\ndealerSearchResultsStore.onChange('savedDealerCookie', (newValue) => {\n  windowService.setCookie(SAVED_DEALER_COOKIE, JSON.stringify(newValue));\n});\n\nfunction readDealerCookie(): SavedDealerCookie | null {\n  try {\n    return JSON.parse(windowService.getCookie(SAVED_DEALER_COOKIE));\n  } catch (err) {\n    return null;\n  }\n}\n"],"mappings":"2LAmBaA,yBAA2BC,YAAiC,CACvEC,WAAY,GACZC,QAAS,KACTC,kBAAmBC,mBACnBC,WAAY,GACZC,gBAAiB,CAAEC,QAAS,MAG9BR,yBAAyBS,SAAS,qBAAqB,SAACC,GACtDC,cAAcC,UAAUC,oBAAqBC,KAAKC,UAAUL,GAC9D,IAEA,SAASL,mBACP,IACE,OAAOS,KAAKE,MAAML,cAAcM,UAAUJ,qB,CAC1C,MAAOK,GACP,OAAO,I,CAEX,Q"}