{"version":3,"names":["carBodyTypesDrawerCss","CarBodyTypeDrawer","this","bodyTypesImagesLoaded","Set","bodyTypesImagesNotLoaded","class_1","prototype","seriesWatcher","seriesLoaded","showSkeleton","waitForComponentsToLoad","componentsOnReady","el","Timeout","_b","sent","componentWillLoad","componentDidRender","handleImageLoad","seriesId","_this","add","series","bodyTypes","every","id","has","handleImageLoadError","sendMetaFunctionDataLayerEvent","link","globalDataLayerService","pushDataLayerEvent","EventActions","MODEL_CTA_CLICK","componentClick","clickElementId","clickElementName","text","clickElementType","ClickElementTypes","Link","targetUrl","componentDisplay","displayElementId","analyticsManager","calculateDisplayElementId","displayElementType","calculateDisplayElementType","activeRoutingKey","ElementTypes","bodyTypeButton","displayElementName","car","modelRangeName","split","sendBodyTypeClickDataLayerEvent","bodyType","tagName","MODEL_CLICK","name","Image","modelName","getModelName","sendNavigationDataLayerEvent","all","getImageSize","currentBreakpoint","breakpoint","xxl","xl","l","m","s","xs","base","getImageSource","image","assetPath","getAssetPath","concat","getConfig","navStateStore","state","env","ASSETS_URL","imageSize","imagePath","render","h","Host","class","Fragment","links","map","key","variant","href","icon","size","style","display","onClick","role","e","clickedElement","getHTMLElement","target","srcSet","alt","onLoad","onError","color","align","isString","description","className","dealerSearchFormCss","DealerSearchForm","toggleOverlay","showOverlay","detail","loadedAutoCompleteListener","_event","getDealerFormStrategy","dealer","navContentStore","numberOfDealers","showDealerSearchDropdown","splitLocale","locale","country","formComponent","dealerSearchFormStrategies","geolocation","dropdown","byNumberOfDealers","formStrategy","level1Css","Level1","showRightIconRight","iconRight","app","isOneUiMobileShop","isShopAvailable","isDesktop","undefined","loggedInState","unreadMessagesCount","userConsent","level1Items","getLevel1Items","dealerSearchResultsStore","_a","routingKeys","elementId","showIconModifier","level1Item","__rest","Object","assign","mobileMenuItemClick","emit","MenuItemVariant","slot","MenuItemCountIndicator","count","MenuItemLink","content","getVehiclePurchaseRoutingKey","analyticsId","datalayerEventAction","NAVIGATION_LINK_CLICK","menuCss","Menu","savedVehiclesPosition","class_2","receivedContent","showMenu","childItem","constructRoutingKey","routingKey","getSavedVehiclesContent","savedVehicles","displayedItem","item","children","length","savedVehiclesCount","finderStateStore","menuItems","NAVIGATION_CLICK","splice","modelsCss","Models","seriesImagesLoaded","seriesImagesNotLoaded","showMenuWithModels","modelsSeriesRoutingKey","getModelsRoutingKey","models","modelsSeries","subtext","tags","tag","join","Model","isModels","MODEL_RANGE_CLICK","Links","onLogoutClick","messagesPosition","savedSearchesPosition","_c","isLoggedIn","IsLoggedIn","messages","savedSearches","_d","savedSearchesCount","convertedLinks","getMyPorscheRoutingKey","MenuItemCountLink","featureToggles","isSavedItemsToggleActive","push","LogoutLink","width","logout","Login","login","more","signup","signupText","myporscheDrawerCss","MyPorscheDrawer","class_3","myPorsche","logoutEvent","replaceVariables","template","data","regex","replace","_match","variable","value","trim","String","ShopSection","loginEvent","showHeadline","displayedContent","getMenuContent","RoutingKeys","SHOP","wishListAuthStatusList","wishListItems","filterWishlistItemsByAuthStatus","additionalContent","emitLogin","iconUrl","iconLeft","getIconNameByMenuItemId","getAvailableShopVariables","VehiclePurchaseSection","topLevelRoutingKey","routerCss","Router","findTopLevelRoutingKey","DEALER_SEARCH","routingId","getLastRoutingSegment","dealerId","MY_PORSCHE","SERIES","MODELS","routingId_1","activeModelsSeries","find","MORE","EXPERIENCE","SERVICES","VEHICLE_PURCHASE"],"sources":["src/components/car-body-types-drawer/car-body-types-drawer.scss?tag=phn-car-body-types-drawer&encapsulation=scoped","src/components/car-body-types-drawer/car-body-types-drawer.tsx","src/components/dealer-search-form/dealer-search-form.scss?tag=phn-dealer-search-form&encapsulation=scoped","src/components/dealer-search-form/dealer-search-form.tsx","src/components/level-1/level-1.scss?tag=phn-level-1&encapsulation=scoped","src/components/level-1/level-1.tsx","src/components/menu/saved-vehicles/menu-item-count-indicator.tsx","src/components/menu/saved-vehicles/menu-item-link.tsx","src/components/menu/menu.scss?tag=phn-menu&encapsulation=scoped","src/components/menu/menu.tsx","src/components/models/models.scss?tag=phn-models&encapsulation=scoped","src/components/models/models.tsx","src/components/myporsche-drawer/myporsche-drawer-links.tsx","src/components/myporsche-drawer/myporsche-drawer-login.tsx","src/components/myporsche-drawer/myporsche-drawer.scss?tag=phn-myporsche-drawer&encapsulation=scoped","src/components/myporsche-drawer/myporsche-drawer.tsx","src/utility/helpers/string-helper.ts","src/components/router/sections/shop.tsx","src/components/router/sections/vehiclePurchase.tsx","src/components/router/router.scss?tag=phn-router&encapsulation=scoped","src/components/router/router.tsx"],"sourcesContent":["@import '../../scss';\n\n:host {\n  display: block;\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  phn-p-headline {\n    font-size: p-px-to-rem(28px);\n  }\n\n  .model-link-content {\n    @include hoverZoom();\n    padding-bottom: 5px;\n  }\n\n  .skeleton-bodytype {\n    height: p-px-to-rem(135px);\n    width: p-px-to-rem(260px);\n    margin: p-px-to-rem(24px) 0 0 0 ;\n    background: $pds-theme-light-contrast-low;\n    border-radius: 4px;\n\n    @include pds-media-query-min('xs') {\n      height: p-px-to-rem(110px);\n    }\n\n    @include pds-media-query-min('s') {\n      height: p-px-to-rem(120px);\n      width: p-px-to-rem(260px);\n    }\n  }\n\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n    opacity: 60%;\n\n    & .skeleton-headline {\n      width: auto;\n      height: p-px-to-rem(38px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n\n    & .skeleton-link {\n      width: auto;\n      height: p-px-to-rem(48px);\n      margin: p-px-to-rem(16px) 0;\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n\n    & .skeleton-image {\n      width: auto;\n      height: p-px-to-rem(135px);\n      margin: p-px-to-rem(24px) 0;\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n\n      @include pds-media-query-min('xs') {\n        height: p-px-to-rem(145px);\n      }\n\n      @include pds-media-query-min('s') {\n        height: p-px-to-rem(120px);\n      }\n\n      @include pds-media-query-min('m') {\n        height: p-px-to-rem(137px);\n      }\n\n      @include pds-media-query-min('l') {\n        height: p-px-to-rem(133px);\n      }\n\n      @include pds-media-query-min('xxl') {\n        height: p-px-to-rem(145px);\n      }\n    }\n  }\n\n  .links {\n    .link {\n      width: 100%;\n      padding-top: p-px-to-rem(16px);\n    }\n  }\n\n  .series-body-type {\n    text-align: center;\n    padding: p-px-to-rem(2px);\n    margin-top: p-px-to-rem(2px);\n  }\n\n  .further {\n    width: 100%;\n    padding-top: p-px-to-rem(64px);\n  }\n\n  .car-models {\n    phn-p-text {\n      font-size: p-px-to-rem(16px);\n\n      @include pds-media-query-min('xs') {\n        font-size: p-px-to-rem(18px);\n      }\n\n      @include pds-media-query-min('s') {\n        font-size: p-px-to-rem(16px);\n      }\n\n      @include pds-media-query-min('xxl') {\n        font-size: p-px-to-rem(18px);\n      }\n    }\n  }\n}\n","import { breakpoint } from '@porsche-design-system/components-js/styles';\nimport { Component, Element, Fragment, getAssetPath, h, Host, Prop, State, Watch } from '@stencil/core';\nimport { BodyType, Series, TLink } from '../../entities/content';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { ClickElementTypes, ElementTypes, EventActions } from '../../utility/constants';\nimport { getConfig, getHTMLElement, isString } from '../../utility/helper';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport analyticsManager from '../../services/analytics/analytics-manager';\n\n@Component({\n  tag: 'phn-car-body-types-drawer',\n  styleUrl: 'car-body-types-drawer.scss',\n  assetsDirs: ['model-assets'],\n  scoped: true\n})\nexport class CarBodyTypeDrawer {\n  @Prop() series!: Series;\n  @Prop() breakpoint!: number;\n  @Prop() activeRoutingKey!: string;\n\n  @State() seriesLoaded = false;\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnCarBodyTypesDrawerElement;\n\n  @Watch('series')\n  seriesWatcher(): void {\n    this.seriesLoaded = false;\n    this.showSkeleton = true;\n  }\n\n  private bodyTypesImagesLoaded = new Set<string>();\n  private bodyTypesImagesNotLoaded = new Set<string>();\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = !this.seriesLoaded;\n  }\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  componentDidRender(): void {\n    this.showSkeleton = !this.seriesLoaded;\n  }\n\n  private handleImageLoad(seriesId: string) {\n    this.bodyTypesImagesLoaded.add(seriesId);\n\n    if (this.series.bodyTypes.every(({ id }) => this.bodyTypesImagesLoaded.has(id))) {\n      this.seriesLoaded = true;\n    }\n  }\n\n  private handleImageLoadError(seriesId: string) {\n    this.handleImageLoad(seriesId);\n    this.bodyTypesImagesNotLoaded.add(seriesId);\n  }\n\n  private sendMetaFunctionDataLayerEvent(link: TLink): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.MODEL_CTA_CLICK, {\n      componentClick: {\n        clickElementId: link.id,\n        clickElementName: link.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: link.link\n      },\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          this.activeRoutingKey,\n          ElementTypes.bodyTypeButton\n        ),\n        displayElementName: link.text\n      },\n      car: {\n        modelRangeName: link.id.split('.')[1]\n      }\n    });\n  }\n\n  private sendBodyTypeClickDataLayerEvent(bodyType: BodyType, tagName: string): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.MODEL_CLICK, {\n      componentClick: {\n        clickElementId: bodyType.id,\n        clickElementName: bodyType.name,\n        clickElementType: tagName === 'IMG' ? ClickElementTypes.Image : ClickElementTypes.Link,\n        targetUrl: bodyType.link\n      },\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          this.activeRoutingKey,\n          ElementTypes.bodyTypeButton\n        ),\n        displayElementName: bodyType.name\n      },\n      car: {\n        modelRangeName: bodyType.id.split('.')[1],\n        modelName: analyticsManager.getModelName(bodyType)\n      }\n    });\n  }\n\n  private sendNavigationDataLayerEvent(): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.MODEL_CLICK, {\n      componentClick: {\n        clickElementId: this.series.all.id,\n        clickElementName: this.series.all.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: this.series.all.link\n      },\n      componentDisplay: {\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementType: analyticsManager.calculateDisplayElementType(\n          this.activeRoutingKey,\n          ElementTypes.bodyTypeButton\n        ),\n        displayElementName: this.series.all.text\n      }\n    });\n  }\n\n  private getImageSize(currentBreakpoint: number): number {\n    switch (currentBreakpoint) {\n      case breakpoint.xxl:\n        return 1920;\n      case breakpoint.xl:\n      case breakpoint.l:\n        return 1360;\n      case breakpoint.m:\n        return 1024;\n      case breakpoint.s:\n        return 760;\n      case breakpoint.xs:\n      case breakpoint.base:\n      default:\n        return 320;\n    }\n  }\n\n  private getImageSource(image: string): string {\n    const assetPath = getAssetPath(`${getConfig(navStateStore.state.env).ASSETS_URL}/model-assets`);\n    const imageSize = this.getImageSize(this.breakpoint);\n    const imagePath = `${assetPath}/${imageSize}`;\n\n    return `${imagePath}/${image}.webp, ${imagePath}/${image}@2x.webp 2x`;\n  }\n\n  render(): HTMLPhnCarBodyTypesDrawerElement {\n    return (\n      <Host class={`${this.showSkeleton ? 'skeleton' : ''}`}>\n        <Fragment>\n          <ul class=\"links\">\n            {this.series.links.map((link) => (\n              <Fragment>\n                {this.showSkeleton ? <div class=\"skeleton-link\" /> : null}\n                <phn-p-link\n                  key={link.id}\n                  variant=\"tertiary\"\n                  href={link.link}\n                  icon={link.icon}\n                  size=\"inherit\"\n                  class=\"link\"\n                  style={{ display: this.showSkeleton ? 'none' : '' }}\n                  onClick={() => {\n                    this.sendMetaFunctionDataLayerEvent(link);\n                  }}\n                  role=\"listitem\"\n                >\n                  {link.text}\n                </phn-p-link>\n              </Fragment>\n            ))}\n          </ul>\n          <ul>\n            {this.series.bodyTypes.map((bodyType) => {\n              return (\n                <Fragment>\n                  {this.showSkeleton ? (\n                    <Fragment>\n                      <div class=\"skeleton-image\" />\n                    </Fragment>\n                  ) : null}\n                  <div\n                    class=\"series-body-type\"\n                    key={bodyType.id}\n                    style={{ display: this.showSkeleton ? 'none' : '' }}\n                    role=\"listitem\"\n                  >\n                    <phn-p-link-pure\n                      icon=\"none\"\n                      onClick={(e: MouseEvent) => {\n                        const clickedElement = getHTMLElement(e.target);\n                        if (clickedElement !== null) {\n                          this.sendBodyTypeClickDataLayerEvent(bodyType, clickedElement.tagName);\n                        }\n                      }}\n                    >\n                      <a href={bodyType.link}>\n                        {this.bodyTypesImagesNotLoaded.has(bodyType.id) ? (\n                          <Fragment>\n                            <div class=\"skeleton-bodytype\" />\n                          </Fragment>\n                        ) : (\n                          <div class=\"model-link-content\">\n                            <img\n                              srcSet={this.getImageSource(bodyType.image)}\n                              alt={`${bodyType.name} Sideshot`}\n                              onLoad={() => this.handleImageLoad(bodyType.id)}\n                              onError={() => this.handleImageLoadError(bodyType.id)}\n                            />\n\n                            <phn-p-text size=\"inherit\" color=\"inherit\" align=\"center\">\n                              {bodyType.name}\n                            </phn-p-text>\n\n                            {isString(bodyType.description) ? (\n                              <phn-p-text className=\"model-description\" size=\"x-small\" align=\"center\">\n                                {bodyType.description}\n                              </phn-p-text>\n                            ) : null}\n                          </div>\n                        )}\n                      </a>\n                    </phn-p-link-pure>\n                  </div>\n                </Fragment>\n              );\n            })}\n          </ul>\n          {this.showSkeleton ? null : (\n            <phn-p-link\n              variant=\"tertiary\"\n              href={this.series.all.link}\n              size=\"inherit\"\n              class=\"further\"\n              data-test-id=\"car-body-types-drawer-further-links-button\"\n              onClick={() => {\n                this.sendNavigationDataLayerEvent();\n              }}\n            >\n              {this.series.all.text}\n            </phn-p-link>\n          )}\n        </Fragment>\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n\n    & .skeleton-headline {\n      width: auto;\n      height: p-px-to-rem(50px);\n      background: $pds-theme-light-contrast-low;\n      margin-bottom: p-px-to-rem(28px);\n      border-radius: 4px;\n    }\n  }\n\n  phn-headline {\n    margin-bottom: p-px-to-rem(36px);\n  }\n}\n","/* eslint-disable jsx-a11y/label-has-associated-control */\n\nimport { Component, Element, h, Host, Listen, Prop, State } from '@stencil/core';\nimport { Dealer } from '../../entities/content';\nimport { showDealerSearchDropdown } from '../../utility/helpers/dealer-search-helper';\nimport { splitLocale } from '../../entities/locale';\nimport { navContentStore } from '../../state/nav-content-store';\n\ntype DealerSearchFormStrategy = 'geolocation' | 'dropdown' | 'byNumberOfDealers';\n\n@Component({\n  tag: 'phn-dealer-search-form',\n  styleUrl: 'dealer-search-form.scss',\n  scoped: true,\n  assetsDirs: ['./assets']\n})\nexport class DealerSearchForm {\n  @Prop() dealer!: Dealer;\n  @Prop() locale!: string;\n  @Prop() showHeadline = true;\n  @Prop() breakpoint!: number;\n\n  @State() showOverlay = false;\n  @State() formErrorMessage: string | null = null;\n  @State() showSkeleton = true;\n\n  @Listen('predictionsToggle')\n  toggleOverlay(e: CustomEvent<boolean>): void {\n    this.showOverlay = e.detail;\n  }\n\n  @State() animateResults = false;\n\n  @Element() el!: HTMLPhnDealerSearchFormElement;\n\n  @Listen('removeSkeletonOnDealerSearchForm')\n  loadedAutoCompleteListener(_event: Event): void {\n    this.showSkeleton = false;\n  }\n\n  private getDealerFormStrategy(): DealerSearchFormStrategy {\n    const { dealer } = navContentStore.state;\n    if (dealer.numberOfDealers <= 5) {\n      return 'byNumberOfDealers';\n    }\n\n    if (showDealerSearchDropdown(splitLocale(this.locale).country)) return 'dropdown';\n\n    return 'geolocation';\n  }\n\n  private formComponent(): HTMLElement {\n    const dealerSearchFormStrategies: Record<DealerSearchFormStrategy, () => HTMLElement> = {\n      geolocation: () => <phn-dealer-search-form-geolocation locale={this.locale} />,\n      dropdown: () => <phn-dealer-search-form-dropdown locale={this.locale} breakpoint={this.breakpoint} />,\n      byNumberOfDealers: () => <phn-dealer-search-by-number-of-dealers locale={this.locale} />\n    };\n\n    const formStrategy = this.getDealerFormStrategy();\n    return dealerSearchFormStrategies[formStrategy]();\n  }\n\n  render(): HTMLPhnDealerSearchFormElement {\n    return (\n      <Host class={this.showSkeleton ? 'skeleton' : ''}>\n        {this.formComponent()}\n\n        <phn-dealer-search-results locale={this.locale} breakpoint={this.breakpoint} showOverlay={this.showOverlay} />\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  phn-menu-item {\n    margin-top: p-px-to-rem(36px);\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n  }\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { getLevel1Items } from '../../services/menu-items-service';\nimport { dealerSearchResultsStore } from '../../state/dealer-search-results-store';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { MenuItemVariant } from '../../utility/constants';\nimport { isDesktop } from '../../utility/helper';\nimport { isShopAvailable } from '../../utility/helpers/shop-helper';\n\n@Component({\n  tag: 'phn-level-1',\n  styleUrl: 'level-1.scss',\n  scoped: true\n})\nexport class Level1 {\n  @Prop() locale!: string;\n\n  @Prop() breakpoint!: number;\n\n  @Event({ bubbles: true }) mobileMenuItemClick!: EventEmitter<string[]>;\n\n  private showRightIconRight(iconRight: string | undefined): string | undefined {\n    const { app } = navStateStore.state;\n    const isOneUiMobileShop = isShopAvailable(this.locale, app) && !isDesktop(this.breakpoint);\n\n    if (iconRight !== undefined && isOneUiMobileShop) {\n      iconRight = 'arrow-head-right';\n    }\n    return iconRight;\n  }\n\n  render(): HTMLPhnLevel1Element {\n    const { loggedInState, unreadMessagesCount, userConsent } = navStateStore.state;\n    const level1Items = getLevel1Items(\n      navContentStore.state,\n      dealerSearchResultsStore.state,\n      this.locale,\n      loggedInState,\n      unreadMessagesCount,\n      userConsent\n    );\n\n    return (\n      <nav>\n        {level1Items.map(({ routingKeys, elementId, iconRight, showIconModifier, ...level1Item }) => (\n          <phn-menu-item\n            key={elementId}\n            elementId={elementId}\n            onClick={() => {\n              if (level1Item.link === undefined) {\n                this.mobileMenuItemClick.emit(routingKeys);\n              }\n            }}\n            iconRight={iconRight !== undefined ? this.showRightIconRight(iconRight) : 'arrow-head-right'}\n            variant={MenuItemVariant.Level1}\n            {...level1Item}\n          >\n            {showIconModifier ? (\n              <span\n                slot=\"icon-modifier\"\n                aria-hidden=\"true\"\n                class=\"myporsche-unread-messages-indicator\"\n                data-test-id=\"unread-messages-indicator\"\n              />\n            ) : null}\n          </phn-menu-item>\n        ))}\n      </nav>\n    );\n  }\n}\n","import { h, JSX } from '@stencil/core';\n\nexport default function MenuItemCountIndicator({ count }: { count: number }): JSX.Element | null {\n  if (count <= 0) return null;\n\n  return (\n    <phn-p-tag slot=\"suffix\" class=\"menu-item-count\" color=\"notification-info-soft\">\n      {count}\n    </phn-p-tag>\n  );\n}\n","import { Fragment, JSX, h } from '@stencil/core';\nimport { getVehiclePurchaseRoutingKey } from '../../../entities/routing-key';\nimport { TLink } from '../../../components';\nimport { EventActions } from '../../../utility/constants';\nimport MenuItemCountIndicator from './menu-item-count-indicator';\n\nexport default function MenuItemLink({\n  content,\n  count,\n  showSkeleton\n}: {\n  content: TLink | null;\n  count: number;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  return content ? (\n    <Fragment>\n      <phn-menu-item\n        elementId={getVehiclePurchaseRoutingKey(content.id)}\n        key={content.id}\n        class={`${showSkeleton ? 'skeleton' : 'vehiclepurchase-link'}`}\n        analyticsId={content.id}\n        text={content.text}\n        link={content.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n        role=\"listitem\"\n      >\n        <MenuItemCountIndicator count={count} />\n      </phn-menu-item>\n    </Fragment>\n  ) : null;\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  .skeleton {\n    width: auto;\n    height: p-px-to-rem(24px);\n    background: $pds-theme-light-contrast-low;\n    border-radius: 4px;\n  }\n\n  .skeleton-headline {\n    width: auto;\n    height: p-px-to-rem(50px);\n    background: $pds-theme-light-contrast-low;\n    border-radius: 4px;\n  }\n\n  ul {\n    padding: 0;\n    margin: 0;\n  }\n\n  phn-headline {\n    margin-bottom: p-px-to-rem(36px);\n  }\n\n  phn-menu-item {\n    margin-top: p-px-to-rem(24px);\n\n    @include pds-media-query-min('xs') {\n      margin-top: p-px-to-rem(20px);\n\n      &:first-of-type {\n        margin: 0;\n      }\n    }\n\n    @include pds-media-query-min('l') {\n      margin-top: p-px-to-rem(32px);\n    }\n\n    .vehiclepurchase-link {\n      margin-top: p-px-to-rem(24px);\n\n      @include pds-media-query-min('xs') {\n        margin-top: p-px-to-rem(20px);\n      }\n\n      @include pds-media-query-min('l') {\n        margin-top: p-px-to-rem(30px);\n      }\n\n      .menu-item-count {\n        margin-left: p-px-to-rem(16px);\n      }\n    }\n  }\n}\n","import { Component, Element, Event, EventEmitter, h, Host, JSX, Prop, State } from '@stencil/core';\nimport { TLink, TMenu, TVehiclePurchaseMenu } from '../../entities/content';\nimport { constructRoutingKey } from '../../entities/routing-key';\nimport { EventActions } from '../../utility/constants';\nimport { isString } from '../../utility/helper';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport { finderStateStore } from '../../state/finder-state-store';\nimport MenuItemLink from './saved-vehicles/menu-item-link';\n\n@Component({\n  tag: 'phn-menu',\n  styleUrl: 'menu.scss',\n  scoped: true\n})\nexport class Menu {\n  @Prop() routingKey!: string;\n  @Prop() item!: TMenu | TVehiclePurchaseMenu;\n  @Prop() showHeadline = true;\n  @Prop() receivedContent = false;\n\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnMenuElement;\n\n  @Event({ bubbles: true, cancelable: false }) mobileMenuItemClick!: EventEmitter<string[]>;\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  private savedVehiclesPosition = 3;\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = !this.receivedContent;\n  }\n\n  private showMenu(childItem: TMenu): void {\n    if (!isString(childItem.link)) {\n      this.mobileMenuItemClick.emit([constructRoutingKey(this.routingKey, childItem.id)]);\n    }\n  }\n\n  private getSavedVehiclesContent(content: TMenu | TVehiclePurchaseMenu): TLink | null {\n    const savedVehicles = (content as TVehiclePurchaseMenu).savedVehicles;\n    if (savedVehicles !== undefined) {\n      return savedVehicles;\n    }\n    return null;\n  }\n\n  render(): JSX.Element {\n    const displayedItem = this.item.children.length === 1 ? this.item.children[0] : this.item;\n    const savedVehicles = this.getSavedVehiclesContent(this.item);\n    const { savedVehiclesCount } = finderStateStore.state;\n\n    const menuItems = displayedItem.children.map((childItem) => (\n      <phn-menu-item\n        key={childItem.id}\n        class={`${this.showSkeleton ? 'skeleton' : ''}`}\n        elementId={constructRoutingKey(this.routingKey, childItem.id)}\n        iconRight={childItem.children.length > 0 && !this.showSkeleton ? 'arrow-head-right' : ''}\n        analyticsId={childItem.id}\n        text={childItem.text}\n        link={childItem.link}\n        datalayerEventAction={\n          isString(childItem.link) ? EventActions.NAVIGATION_LINK_CLICK : EventActions.NAVIGATION_CLICK\n        }\n        onClick={() => this.showMenu(childItem)}\n        role=\"listitem\"\n      />\n    ));\n\n    return (\n      <Host role=\"list\">\n        <ul>\n          {menuItems}\n\n          {savedVehicles\n            ? menuItems.splice(\n                this.savedVehiclesPosition,\n                0,\n                <MenuItemLink content={savedVehicles} count={savedVehiclesCount} showSkeleton={this.showSkeleton} />\n              )\n            : null}\n        </ul>\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n\n  @include pds-media-query-min('s') {\n    margin-top: p-px-to-rem(-28px);\n  }\n\n  @include pds-media-query-min('xl') {\n    margin-top: p-px-to-rem(-36px);\n  }\n\n  ul {\n    margin: 0;\n    padding: 0;\n  }\n\n  .skeleton-headline {\n    width: auto;\n    height: p-px-to-rem(50px);\n    background: $pds-theme-light-contrast-low;\n    border-radius: 4px;\n  }\n\n  .series {\n    justify-content: center;\n\n    margin: 0 0 p-px-to-rem(8px) 0;\n\n    @include pds-media-query-min('s') {\n      margin: 0 0 p-px-to-rem(8px) 0;\n    }\n\n    @include pds-media-query-min('m') {\n      margin: 0 0 p-px-to-rem(4px) 0;\n    }\n\n    @include pds-media-query-min('xl') {\n      margin: 0 0 p-px-to-rem(8px)  0;\n    }\n\n    .image {\n      @include hoverZoom();\n\n      @include pds-media-query-min('base') {\n        width: p-px-to-rem(174px);\n      }\n\n      @include pds-media-query-min('xs') {\n        width: p-px-to-rem(239px);\n      }\n\n      @include pds-media-query-min('s') {\n        width: p-px-to-rem(174px);\n      }\n\n      @include pds-media-query-min('l') {\n        width: p-px-to-rem(196px);\n      }\n\n      @include pds-media-query-min('xxl') {\n        width: p-px-to-rem(239px);\n      }\n    }\n\n    &.skeleton {\n      margin: 0 0 p-px-to-rem(8px) 0;\n\n      @include pds-media-query-min('xs') {\n        margin: 0 0 p-px-to-rem(16px);\n      }\n\n      @include pds-media-query-min('xxl') {\n        margin: 0 0 p-px-to-rem(24px) 0;\n      }\n    }\n  }\n}\n","import { Component, Element, Event, EventEmitter, getAssetPath, h, Host, JSX, Prop, State } from '@stencil/core';\nimport { Series } from '../../entities/content';\nimport { getModelsRoutingKey } from '../../entities/routing-key';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { EventActions, MenuItemVariant } from '../../utility/constants';\nimport { getConfig, getImageSize } from '../../utility/helper';\n\n@Component({\n  tag: 'phn-models',\n  styleUrl: 'models.scss',\n  assetsDirs: ['series-assets'],\n  scoped: true\n})\nexport class Models {\n  @Prop() breakpoint!: number;\n  @Prop() showHeadline = false;\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnModelsElement;\n\n  private seriesImagesLoaded = new Set<string>();\n  private seriesImagesNotLoaded = new Set<string>();\n\n  @Event({ bubbles: true }) mobileMenuItemClick!: EventEmitter<string[]>;\n\n  private showMenuWithModels(series: Series): void {\n    const modelsSeriesRoutingKey = getModelsRoutingKey(series.id);\n    this.mobileMenuItemClick.emit([modelsSeriesRoutingKey]);\n  }\n\n  private handleImageLoad(seriesId: string) {\n    const { models } = navContentStore.state;\n\n    this.seriesImagesLoaded.add(seriesId);\n\n    if (models.series.every(({ id }) => this.seriesImagesLoaded.has(id))) {\n      this.showSkeleton = false;\n    }\n  }\n\n  private handleImageLoadError(seriesId: string) {\n    this.handleImageLoad(seriesId);\n    this.seriesImagesNotLoaded.add(seriesId);\n  }\n\n  private getImageSource(image: string): string {\n    const assetPath = getAssetPath(`${getConfig(navStateStore.state.env).ASSETS_URL}/series-assets`);\n    const imageSize = getImageSize(this.breakpoint);\n    const imagePath = `${assetPath}/${imageSize}`;\n\n    return `${imagePath}/${image}.webp, ${imagePath}/${image}@2x.webp 2x`;\n  }\n\n  render(): JSX.Element {\n    const { models } = navContentStore.state;\n\n    return (\n      <Host>\n        <ul>\n          {models.series.map((modelsSeries) => (\n            <phn-menu-item\n              key={modelsSeries.id}\n              class={`series ${this.seriesImagesNotLoaded.has(modelsSeries.id) || this.showSkeleton ? 'skeleton' : ''}`}\n              elementId={getModelsRoutingKey(modelsSeries.id)}\n              analyticsId={modelsSeries.id}\n              text={modelsSeries.name}\n              subtext={modelsSeries.tags.map((tag) => tag.text).join(' | ')}\n              onClick={() => this.showMenuWithModels(modelsSeries)}\n              variant={MenuItemVariant.Model}\n              isModels={true}\n              datalayerEventAction={EventActions.MODEL_RANGE_CLICK}\n              role=\"listitem\"\n            >\n              <img\n                slot=\"media\"\n                class=\"image\"\n                srcSet={this.getImageSource(modelsSeries.image)}\n                alt={`${modelsSeries.name} Frontshot`}\n                onLoad={() => this.handleImageLoad(modelsSeries.id)}\n                onError={() => this.handleImageLoadError(modelsSeries.id)}\n              />\n            </phn-menu-item>\n          ))}\n        </ul>\n      </Host>\n    );\n  }\n}\n","import { h, JSX } from '@stencil/core';\nimport { MyPorsche, TLink } from '../../entities/content';\nimport { getMyPorscheRoutingKey } from '../../entities/routing-key';\nimport featureToggles from '../../services/feature-toggles';\nimport { EventActions } from '../../utility/constants';\nimport { IsLoggedIn } from '../../utility/helper';\nimport { finderStateStore } from '../../state/finder-state-store';\nimport { navStateStore } from '../../state/nav-state-store';\n\nexport default function Links({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const messagesPosition = 1,\n    savedSearchesPosition = 2,\n    savedVehiclesPosition = 3;\n  const { loggedInState, unreadMessagesCount } = navStateStore.state;\n  const isLoggedIn = IsLoggedIn(loggedInState);\n  const { links, messages, savedSearches, savedVehicles } = content;\n  const { savedSearchesCount, savedVehiclesCount } = finderStateStore.state;\n\n  const convertedLinks = links.map<JSX.Element>((link) => (\n    <div class=\"myporsche-link-item\" key={link.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(link.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={link.id}\n        text={link.text}\n        link={link.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  ));\n\n  convertedLinks.splice(\n    messagesPosition,\n    0,\n    <MenuItemCountLink content={messages} count={unreadMessagesCount} showSkeleton={showSkeleton} />\n  );\n\n  if (savedSearches && savedSearches.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedSearchesPosition,\n      0,\n      <MenuItemCountLink content={savedSearches} count={savedSearchesCount} showSkeleton={showSkeleton} />\n    );\n  }\n  if (savedVehicles && savedVehicles.text !== '' && featureToggles.isSavedItemsToggleActive()) {\n    convertedLinks.splice(\n      savedVehiclesPosition,\n      0,\n      <MenuItemCountLink content={savedVehicles} count={savedVehiclesCount} showSkeleton={showSkeleton} />\n    );\n  }\n\n  if (isLoggedIn) {\n    convertedLinks.push(<LogoutLink content={content} onLogoutClick={onLogoutClick} showSkeleton={showSkeleton} />);\n  }\n  return (\n    <div class=\"myporsche-links\">\n      {showSkeleton ? (\n        <div class=\"skeleton-menu\">\n          {convertedLinks.map(() => (\n            <div class=\"skeleton-menu-item\" />\n          ))}\n        </div>\n      ) : null}\n      <div style={{ display: showSkeleton ? 'none' : '', width: '100%' }}>\n        <div class={`${isLoggedIn ? 'logged-in' : ''} myporsche-links-container`}>{convertedLinks}</div>\n      </div>\n    </div>\n  );\n}\n\nfunction MenuItemCountLink({\n  content,\n  count,\n  showSkeleton\n}: {\n  content: TLink | null;\n  count: number;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  return content ? (\n    <div class=\"myporsche-link-item\" key={content.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(content.id)}\n        class={`${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={content.id}\n        text={content.text}\n        link={content.link}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      >\n        <MenuItemCountIndicator count={count} />\n      </phn-menu-item>\n    </div>\n  ) : null;\n}\n\nfunction LogoutLink({\n  content,\n  onLogoutClick,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n  onLogoutClick: () => void;\n}): JSX.Element {\n  const { logout } = content;\n\n  return (\n    <div class=\"myporsche-link-item\" key={logout.id}>\n      <phn-menu-item\n        elementId={getMyPorscheRoutingKey(logout.id)}\n        class={`myporsche-menu-item logout${showSkeleton ? 'skeleton' : ''}`}\n        analyticsId={logout.id}\n        text={logout.text}\n        onClick={onLogoutClick}\n        datalayerEventAction={EventActions.NAVIGATION_LINK_CLICK}\n      />\n    </div>\n  );\n}\n\nfunction MenuItemCountIndicator({ count }: { count: number }): JSX.Element | null {\n  if (count <= 0) return null;\n\n  return (\n    <phn-p-tag slot=\"suffix\" class=\"menu-item-count\" color=\"notification-info-soft\">\n      {count}\n    </phn-p-tag>\n  );\n}\n","import { Fragment, h, JSX } from '@stencil/core';\nimport { MyPorsche } from '../../entities/content';\nimport { IsLoggedIn } from '../../utility/helper';\nimport { navStateStore } from '../../state/nav-state-store';\n\nexport default function Login({\n  content,\n  showSkeleton\n}: {\n  content: MyPorsche;\n  showSkeleton: boolean;\n}): JSX.Element | null {\n  const { login, more, signup, signupText } = content;\n  const { loggedInState } = navStateStore.state;\n  const isLoggedIn = IsLoggedIn(loggedInState);\n\n  if (isLoggedIn) {\n    return null;\n  }\n  return (\n    <div class=\"myporsche-login\">\n      {showSkeleton ? (\n        <Fragment>\n          <div class=\"skeleton-login-container\">\n            <div class=\"skeleton-login\" />\n            <div class=\"skeleton-more\" />\n          </div>\n\n          <div class=\"skeleton-signup-container\">\n            <div class=\"skeleton-signup\">{content.signupText}</div>\n          </div>\n        </Fragment>\n      ) : null}\n      <phn-myporsche-login\n        login={login}\n        more={more}\n        signup={signup}\n        signupText={signupText}\n        style={{ display: showSkeleton ? 'none' : '' }}\n      />\n    </div>\n  );\n}\n","@import '../../scss';\n\n@mixin set-skeleton {\n  &.skeleton {\n    pointer-events: none;\n    user-select: none;\n\n    & .skeleton-headline {\n      width: 100%;\n      height: p-px-to-rem(40px);\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n      font-size: p-px-to-rem(28px);\n      line-height: p-px-to-rem(40px);\n      margin-bottom: p-px-to-rem(8px);\n\n      @include pds-media-query-min('s') {\n        margin-bottom: 0;\n        font-size: p-px-to-rem(30px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('m') {\n        font-size: p-px-to-rem(28px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('l') {\n        @include pds-heading-medium;\n      }\n    }\n\n    & .skeleton-login-container {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      flex-direction: column;\n      border-radius: 4px;\n\n      @include pds-media-query-min('xs') {\n        flex-direction: row;\n      }\n\n      @include pds-media-query-min('s') {\n        flex-direction: column;\n      }\n\n      @include pds-media-query-min('xxl') {\n        flex-direction: row;\n      }\n\n      .skeleton-login {\n        height: p-px-to-rem(48px);\n        width: 100%;\n        margin: p-px-to-rem(36px) 0 p-px-to-rem(16px) 0;\n        border-radius: 4px;\n        background: $pds-theme-light-contrast-low;\n\n        @include pds-media-query-min('xs') {\n          margin: p-px-to-rem(36px) p-px-to-rem(8px) p-px-to-rem(16px) 0;\n        }\n\n        @include pds-media-query-min('s') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(16px) 0;\n        }\n\n        @include pds-media-query-min('xl') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n        }\n      }\n\n      .skeleton-more {\n        height: p-px-to-rem(48px);\n        margin: 0 0 p-px-to-rem(16px) 0;\n        width: 100%;\n        background: $pds-theme-light-contrast-low;\n        border-radius: 4px;\n\n        @include pds-media-query-min('xs') {\n          margin: p-px-to-rem(36px) 0 p-px-to-rem(16px) p-px-to-rem(8px);\n        }\n\n        @include pds-media-query-min('s') {\n          margin: 0 0 p-px-to-rem(23px) 0;\n        }\n\n        @include pds-media-query-min('xl') {\n          margin: 0 p-px-to-rem(16px) p-px-to-rem(23px) 0;\n        }\n      }\n    }\n\n    & .skeleton-signup-container {\n      padding-bottom: p-px-to-rem(24px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-signup {\n      color: transparent;\n      background: $pds-theme-light-contrast-low;\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu {\n      width: 100%;\n      height: p-px-to-rem(48px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu-item {\n      width: 100%;\n      height: p-px-to-rem(24px);\n      background: $pds-theme-light-contrast-low;\n      margin-top: p-px-to-rem(24px);\n      border-radius: 4px;\n    }\n\n    & .skeleton-menu-item:first-of-type {\n      margin-top: p-px-to-rem(12px);\n    }\n  }\n}\n\n:host {\n  display: block;\n  margin-top: 0;\n\n  @include set-skeleton;\n\n  .myporsche-links {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n\n    .myporsche-links-container {\n      &.logged-in > .myporsche-link-item:first-child > phn-menu-item {\n        padding-top: 0;\n      }\n\n      .myporsche-link-item > phn-menu-item {\n        padding: p-px-to-rem(10px) 0 p-px-to-rem(10px) 0;\n\n        @include pds-media-query-min('xxl') {\n          padding: p-px-to-rem(16px) 0 p-px-to-rem(16px) 0;\n        }\n      }\n    }\n\n    .menu-item-count {\n      margin-left: p-px-to-rem(16px);\n    }\n  }\n\n  .headline-container {\n    border-bottom: 2px solid $pds-theme-dark-background-base;\n\n    @include pds-media-query-min('xs') {\n      padding-bottom: p-px-to-rem(2px);\n      display: flex;\n      align-items: center;\n    }\n\n    @include pds-media-query-min('s') {\n      padding-bottom: p-px-to-rem(16px);\n    }\n\n    @include pds-media-query-min('xxl') {\n      padding-bottom: p-px-to-rem(24px);\n    }\n\n    .myporsche-headline {\n      font-size: p-px-to-rem(28px);\n      line-height: p-px-to-rem(40px);\n      padding-bottom: p-px-to-rem(8px);\n\n      @include pds-media-query-min('s') {\n        padding-bottom: 0;\n        font-size: p-px-to-rem(30px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('m') {\n        font-size: p-px-to-rem(28px);\n        line-height: p-px-to-rem(40px);\n      }\n\n      @include pds-media-query-min('l') {\n        @include pds-heading-medium;\n      }\n    }\n\n    .headline-divider {\n      padding: 0 p-px-to-rem(18px) 0 p-px-to-rem(16px);\n      height: p-px-to-rem(32px);\n    }\n\n    .user-container {\n      padding-bottom: p-px-to-rem(17px);\n      display: inline-flex;\n      align-items: center;\n\n      @include pds-media-query-min('xs') {\n        padding-bottom: 0;\n      }\n\n      phn-p-icon {\n        padding-right: p-px-to-rem(7px);\n        width: p-px-to-rem(20px);\n        height: p-px-to-rem(20px);\n      }\n\n      phn-p-text {\n        font-size: p-px-to-rem(12px);\n\n        @include pds-media-query-min('xs') {\n          padding: 0;\n        }\n      }\n    }\n  }\n\n  phn-p-divider {\n    display: block;\n    height: 100%;\n    align-self: center;\n    padding: 0 p-px-to-rem(119px);\n\n    @include pds-media-query-min('xl') {\n      padding: 0 p-px-to-rem(150px);\n    }\n  }\n\n}\n","import { Component, Element, Event, EventEmitter, h, Host, JSX, State } from '@stencil/core';\nimport { componentsOnReady } from '../../utility/ready';\nimport { Timeout } from '../../utility/timeout';\nimport Links from './myporsche-drawer-links';\nimport Login from './myporsche-drawer-login';\nimport { navContentStore } from '../../state/nav-content-store';\n\n@Component({\n  tag: 'phn-myporsche-drawer',\n  styleUrl: 'myporsche-drawer.scss',\n  scoped: true\n})\nexport class MyPorscheDrawer {\n  @State() showSkeleton = true;\n\n  @Element() el!: HTMLPhnMyporscheDrawerElement;\n\n  @Event() logoutEvent!: EventEmitter<void>;\n\n  private async waitForComponentsToLoad() {\n    await componentsOnReady(this.el, new Timeout(5000));\n    this.showSkeleton = false;\n  }\n\n  componentWillLoad(): void {\n    this.waitForComponentsToLoad();\n  }\n\n  render(): JSX.Element | null {\n    const { myPorsche } = navContentStore.state;\n\n    if (!myPorsche) return null;\n\n    return (\n      <Host class={this.showSkeleton ? 'skeleton' : ''}>\n        <div class=\"phn-flex-col phn-justify-around\">\n          <Login content={myPorsche} showSkeleton={this.showSkeleton} />\n          <Links content={myPorsche} onLogoutClick={() => this.logoutEvent.emit()} showSkeleton={this.showSkeleton} />\n        </div>\n      </Host>\n    );\n  }\n}\n","export function replaceVariables(template: string, data: Record<string, string | number>): string {\n  const regex = /{(.*?)}/g;\n  return (\n    template?.replace(regex, (_match: string, variable: string): string => {\n      const value = data[variable.trim()];\n      return value !== undefined ? String(value) : '';\n    }) || ''\n  );\n}\n","import { getMenuContent } from '../../../services/menu-items-service';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport { EventEmitter, Fragment, h } from '@stencil/core';\nimport { constructRoutingKey, RoutingKeys } from '../../../entities/routing-key';\nimport { isDesktop, IsLoggedIn, isString } from '../../../utility/helper';\nimport { EventActions } from '../../../utility/constants';\nimport { TShopAuthStatus, TShopMenu } from '../../../entities/content';\nimport { navStateStore } from '../../../state/nav-state-store';\nimport {\n  filterWishlistItemsByAuthStatus,\n  getAvailableShopVariables,\n  getIconNameByMenuItemId\n} from '../../../utility/helpers/shop-helper';\nimport { replaceVariables } from '../../../utility/helpers/string-helper';\n\ntype ShopSectionTypes = {\n  activeRoutingKey: string;\n  breakpoint: number;\n  receivedContent: boolean;\n  loginEvent: EventEmitter<void>;\n};\n\nexport default function ShopSection({\n  activeRoutingKey,\n  breakpoint,\n  receivedContent,\n  loginEvent\n}: ShopSectionTypes): HTMLElement {\n  const showHeadline = !isDesktop(breakpoint);\n  const displayedContent = getMenuContent(navContentStore.state, activeRoutingKey, RoutingKeys.SHOP) as TShopMenu;\n\n  if (displayedContent === null) {\n    return <div></div>;\n  }\n\n  const wishListAuthStatusList: TShopAuthStatus[] = IsLoggedIn(navStateStore.state.loggedInState)\n    ? ['loggedIn', null]\n    : ['loggedOut', null];\n\n  const wishListItems = filterWishlistItemsByAuthStatus(displayedContent.additionalContent, wishListAuthStatusList);\n\n  function emitLogin(id: string) {\n    if (id === 'login') loginEvent.emit();\n  }\n\n  return (\n    <Fragment>\n      <phn-menu\n        item={displayedContent}\n        routingKey={activeRoutingKey}\n        showHeadline={showHeadline}\n        receivedContent={receivedContent}\n      />\n      {activeRoutingKey === RoutingKeys.SHOP ? (\n        <div class=\"wishlist-container\" role=\"list\">\n          {wishListItems.map((childItem) => {\n            return (\n              <phn-menu-item\n                key={childItem.id}\n                data-id={childItem.id}\n                size={'x-small'}\n                class={!(isString(childItem.iconUrl) || isString(childItem.icon)) ? 'no-icon' : ''}\n                iconLeft={\n                  (isString(childItem.id) && getIconNameByMenuItemId(childItem.id)) ||\n                  childItem.icon ||\n                  childItem.iconUrl\n                }\n                elementId={constructRoutingKey(activeRoutingKey, childItem.id)}\n                analyticsId={childItem.id}\n                text={replaceVariables(childItem.text, getAvailableShopVariables())}\n                link={childItem.link}\n                datalayerEventAction={\n                  isString(childItem.link) ? EventActions.NAVIGATION_LINK_CLICK : EventActions.NAVIGATION_CLICK\n                }\n                onClick={() => {\n                  emitLogin(childItem.id);\n                }}\n                role=\"listitem\"\n              />\n            );\n          })}\n        </div>\n      ) : null}\n    </Fragment>\n  );\n}\n","import { getMenuContent } from '../../../services/menu-items-service';\nimport { navContentStore } from '../../../state/nav-content-store';\nimport { h } from '@stencil/core';\nimport { isDesktop } from '../../../utility/helper';\nimport { TVehiclePurchaseMenu } from '../../../entities/content';\n\ntype VehiclePurchaseSectionTypes = {\n  activeRoutingKey: string;\n  topLevelRoutingKey: string;\n  breakpoint: number;\n  receivedContent: boolean;\n};\n\nexport default function VehiclePurchaseSection({\n  activeRoutingKey,\n  topLevelRoutingKey,\n  breakpoint,\n  receivedContent\n}: VehiclePurchaseSectionTypes): HTMLElement {\n  const showHeadline = !isDesktop(breakpoint);\n  const displayedContent = getMenuContent(\n    navContentStore.state,\n    activeRoutingKey,\n    topLevelRoutingKey\n  ) as TVehiclePurchaseMenu;\n\n  /* istanbul ignore if */\n  if (displayedContent === null) {\n    return <div></div>;\n  }\n\n  return (\n    <phn-menu\n      item={displayedContent}\n      routingKey={activeRoutingKey}\n      showHeadline={showHeadline}\n      receivedContent={receivedContent}\n    />\n  );\n}\n","@import '../../scss';\n\n@mixin shopSection(){\n  .wishlist-container{\n    padding: p-px-to-rem(16px) ;\n    background-color: #ffffff;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 16px;\n    border-radius: p-px-to-rem(12px);\n    margin-top: p-px-to-rem(48px);\n\n    @include pds-media-query-max('s') {\n      background-color: #EEEFF2;\n    }\n\n    .no-icon {\n      padding-left: p-px-to-rem(28px);\n    }\n  }\n\n}\n\n:host {\n  display: block;\n  box-sizing: border-box;\n\n  @include shopSection()\n\n}\n","import { Component, Event, EventEmitter, h, Prop } from '@stencil/core';\nimport { findTopLevelRoutingKey, getLastRoutingSegment, RoutingKeys } from '../../entities/routing-key';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { isDesktop, isString } from '../../utility/helper';\nimport ShopSection from './sections/shop';\nimport VehiclePurchaseSection from './sections/vehiclePurchase';\n\n@Component({\n  tag: 'phn-router',\n  scoped: true,\n  styleUrl: 'router.scss'\n})\nexport class Router {\n  @Prop() activeRoutingKey!: string;\n  @Prop() breakpoint!: number;\n  @Prop() locale!: string;\n  @Prop() receivedContent = false;\n\n  @Event() loginEvent!: EventEmitter<void>;\n\n  render(): HTMLPhnRouterElement {\n    const { models, myPorsche, dealer } = navContentStore.state;\n    const topLevelRoutingKey = findTopLevelRoutingKey(this.activeRoutingKey);\n    const showHeadline = !isDesktop(this.breakpoint);\n\n    switch (topLevelRoutingKey) {\n      case RoutingKeys.DEALER_SEARCH: {\n        const routingId = getLastRoutingSegment(this.activeRoutingKey);\n        const dealerId = routingId !== topLevelRoutingKey ? routingId : '';\n\n        if (isString(dealerId)) {\n          return <phn-dealer-details-drawer breakpoint={this.breakpoint} dealerId={dealerId} locale={this.locale} />;\n        }\n\n        return (\n          <phn-dealer-search-form\n            breakpoint={this.breakpoint}\n            dealer={dealer}\n            locale={this.locale}\n            showHeadline={showHeadline}\n          />\n        );\n      }\n\n      case RoutingKeys.MY_PORSCHE: {\n        if (myPorsche !== null) {\n          return <phn-myporsche-drawer class=\"overlay-content\" />;\n        }\n\n        return <div></div>;\n      }\n\n      case RoutingKeys.SERIES:\n      case RoutingKeys.MODELS: {\n        const routingId = getLastRoutingSegment(this.activeRoutingKey);\n        const activeModelsSeries = models.series.find((modelsSeries) => routingId === modelsSeries.id);\n\n        if (activeModelsSeries !== undefined) {\n          return (\n            <phn-car-body-types-drawer\n              series={activeModelsSeries}\n              breakpoint={this.breakpoint}\n              activeRoutingKey={this.activeRoutingKey}\n            />\n          );\n        }\n\n        return <phn-models showHeadline={showHeadline} breakpoint={this.breakpoint} />;\n      }\n\n      case RoutingKeys.MORE:\n      case RoutingKeys.EXPERIENCE:\n      case RoutingKeys.SERVICES:\n      case RoutingKeys.VEHICLE_PURCHASE: {\n        return (\n          <VehiclePurchaseSection\n            activeRoutingKey={this.activeRoutingKey}\n            topLevelRoutingKey={topLevelRoutingKey}\n            receivedContent={this.receivedContent}\n            breakpoint={this.breakpoint}\n          />\n        );\n      }\n\n      case RoutingKeys.SHOP:\n        return (\n          <ShopSection\n            activeRoutingKey={this.activeRoutingKey}\n            receivedContent={this.receivedContent}\n            breakpoint={this.breakpoint}\n            loginEvent={this.loginEvent}\n          />\n        );\n\n      default: {\n        return <phn-level-1 locale={this.locale} breakpoint={this.breakpoint} />;\n      }\n    }\n  }\n}\n"],"mappings":"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"}