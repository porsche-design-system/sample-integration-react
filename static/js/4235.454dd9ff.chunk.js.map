{"version":3,"file":"static/js/4235.454dd9ff.chunk.js","mappings":"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","sources":["../node_modules/@porschehn/navigation/dist/esm-es5/src/services/content-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/node_modules/@porsche/globaldatalayer/dist/GlobalDataLayer.es.js","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/analytics/global-data-layer-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/country-recommender/country-recommender.tsx","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/country-recommender/country-recommender.scss?tag=phn-country-recommender&encapsulation=scoped","../node_modules/@porschehn/navigation/dist/esm-es5/src/state/shop-state-store.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/utility/helpers/shop-helper.ts"],"sourcesContent":["import { Content, ShopContentResponse } from '../entities/content';\nimport { isCountryInOneOfRegions, splitLocale } from '../entities/locale';\nimport { Application, ApplicationType } from '../utility/constants/app';\nimport { constructCacheKey, getConfig } from '../utility/helper';\nimport { modifyShopItemDependingOnMarket } from '../utility/helpers/shop-helper';\nimport { NaviError, NaviErrorTypes } from '../utility/navi-error';\nimport featureToggles from './feature-toggles';\n\nexport const contentCache = new Map<string, Content>();\n\nexport async function fetchContent(locale: string, app?: ApplicationType): Promise<Content> {\n  const config = getConfig(featureToggles.env);\n\n  const isShopEnabled = featureToggles.isShopToggleActive() && app === Application.shop;\n\n  const naviContentPromise = fetchNaviContent(config.CONTENT_URL, locale);\n  const shopContentPromise = isShopEnabled ? fetchShopContent(config.SHOP_CONTENT_URL, locale) : Promise.resolve(null);\n\n  const [naviContentResult, shopContentResult] = await Promise.allSettled([naviContentPromise, shopContentPromise]);\n\n  if (naviContentResult.status === 'rejected') {\n    throw naviContentResult.reason;\n  }\n\n  const naviContent = modifyShopItemDependingOnMarket(locale, app, naviContentResult.value);\n\n  const shopContent = shopContentResult.status === 'fulfilled' ? shopContentResult.value : null;\n\n  if (shopContent === null || naviContent.shop === null) {\n    return naviContent;\n  }\n\n  return {\n    ...naviContent,\n    shop: {\n      ...naviContent.shop,\n      children: shopContent.menuItems || naviContent.shop?.children || [],\n      additionalContent: shopContent.additionalContent,\n      availableLocales: naviContent.shop.availableLocales,\n      availableLocalesOnlyForShop: naviContent.shop.availableLocalesOnlyForShop\n    }\n  };\n}\n\nasync function fetchNaviContent(contentUrl: string, locale: string): Promise<Content> {\n  const { country, language } = splitLocale(locale);\n\n  const cacheKey = constructCacheKey(contentUrl, locale);\n\n  const cachedContent = contentCache.get(cacheKey);\n  if (cachedContent !== undefined) {\n    return cachedContent;\n  }\n\n  const data = await fetch(`${contentUrl}/${`${language}-${country}`}.json`, {\n    headers: {\n      'Cache-Control': 'no-cache',\n      'Content-Type': 'application/json'\n    }\n  });\n\n  if (data.status === 404) {\n    throw new NaviError(`No content for locale ${locale} found`, NaviErrorTypes.NO_RESULTS);\n  }\n\n  if (!data.ok) {\n    throw new NaviError(`Could not get content for locale ${locale}`, NaviErrorTypes.GENERAL);\n  }\n\n  const content = await data.json();\n\n  contentCache.set(cacheKey, content);\n\n  return content;\n}\n\nasync function fetchShopContent(contentUrl: string, locale: string): Promise<ShopContentResponse> {\n  const { country, language } = splitLocale(locale);\n\n  const data = await fetch(`${contentUrl}/${country.toLowerCase()}/${`${language}-${country}`}/navigation`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'x-vercel-protection-bypass': 'SHOP_CONTENT_KEY'\n    }\n  });\n\n  if (data.status === 404) {\n    throw new NaviError(`No shop content for locale ${locale} found`, NaviErrorTypes.NO_RESULTS);\n  }\n\n  if (!data.ok) {\n    throw new NaviError(`Could not get shop content for locale ${locale}`, NaviErrorTypes.GENERAL);\n  }\n\n  return data.json();\n}\n\nexport function constructFlagURL(footerAssetsUrl: string, locale: string): string {\n  const { country } = splitLocale(locale);\n\n  let flag = country;\n  if (flag.includes('-') && !isCountryInOneOfRegions(flag)) {\n    flag = country.split('-')[0];\n  }\n\n  return `${footerAssetsUrl}/flags/${flag}.svg`;\n}\n\nexport async function getFlagURL(footerAssetsUrl: string, locale: string): Promise<string> {\n  try {\n    const flagURL = constructFlagURL(footerAssetsUrl, locale);\n\n    const res = await fetch(flagURL);\n\n    // Only set flagURL if flag actually exists\n    if (res.ok) {\n      return flagURL;\n    }\n  } catch (err) {\n    // ignore error\n  }\n\n  return '';\n}\n","var M = Object.defineProperty;\nvar W = (r, t, e) => t in r ? M(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar o = (r, t, e) => (W(r, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nconst y = {\n  BEFORE_MERGE: \"BEFORE_MERGE\",\n  AFTER_MERGE: \"AFTER_MERGE\"\n}, w = {\n  clean: {\n    enabled: !1,\n    executionPlace: y.AFTER_MERGE,\n    values: [\"\", void 0, null]\n  },\n  logging: {\n    enabled: !0,\n    level: \"warn\"\n  },\n  validation: {\n    enabled: !1,\n    allowUnknown: !1,\n    verbose: !0\n  },\n  webProperties: {\n    enabled: !0,\n    eventNamePattern: /.*/,\n    reactiveUrl: !0,\n    reactiveDimensions: !0\n  }\n};\nclass U {\n  /**\n   * Creates a PCOM (default) data layer schema specific object, that contains the given event name.\n   *\n   * @param data - Contains the event name in a standardized {@link IFactoryData} like way.\n   *\n   * @returns The event name in the PCOM (default) data layer schema specific object.\n   *\n   * @example\n   * myEventNameFactory.create({ event: 'MY_EVENT_NAME' });\n   * // returns:\n   * // {\n   * //   context: {\n   * //     eventAction: 'MY_EVENT_NAME'\n   * //   }\n   * // }\n   */\n  create(t) {\n    return typeof t.event != \"string\" || t.event.length === 0 ? {} : {\n      context: {\n        eventAction: t.event\n      }\n    };\n  }\n}\nconst S = (r, t) => {\n  let e;\n  for (e in r)\n    if (!(!r || !r[e]) && t(r[e], e) === !1)\n      return !1;\n  return !0;\n}, _ = (r, t) => S(r, (e, s) => {\n  for (const i in r[s])\n    if (t(e[i], i, e, s) === !1)\n      return !1;\n  return !0;\n}), ne = (r) => {\n  if (m(r))\n    return !0;\n  let t = 0, e = 0;\n  return S(r, (s) => {\n    t++, m(s) && e++;\n  }), t === e;\n}, m = (r) => {\n  for (const t in r)\n    return !1;\n  return !0;\n}, P = (r, t = ((e) => (e = w.clean) == null ? void 0 : e.values)() || []) => (_(\n  r,\n  (s, i, n, l) => {\n    t.includes(s) && (delete n[i], m(n) && delete r[l]);\n  }\n), r), G = (r, t) => r && (_(\n  r,\n  (e, s, i, n) => {\n    t.includes(`${n.toString()}.${s.toString()}`) && (delete i[s], m(i) && delete r[n]);\n  }\n), r), k = (r) => (_(\n  r,\n  (t, e, s) => (typeof t != \"function\" || (s[e] = t()), !0)\n), r);\nclass H {\n  /**\n   * Creates a new instance of {@link FrameTicker}.\n   *\n   * @param callback The functionality that should be called\n   * @param ticksPerSecond How many times should the functionality been called in one second\n   */\n  constructor(t, e = 10) {\n    o(this, \"tickInterval\");\n    o(this, \"callback\");\n    o(this, \"_tickTime\", Date.now());\n    o(this, \"_tickActive\", !1);\n    this.callback = t, this.tickInterval = 1e3 / e;\n  }\n  /**\n   * Start the {@link FrameTicker}.\n   */\n  start() {\n    this._tickActive || (this._tickActive = !0, this.run());\n  }\n  /**\n   * Stop the {@link FrameTicker}.\n   */\n  stop() {\n    this._tickActive = !1;\n  }\n  /**\n   * Internal function executed on each _tick_.\n   *\n   * @private\n   */\n  run() {\n    if (!this._tickActive)\n      return;\n    requestAnimationFrame(this.run.bind(this));\n    const t = Date.now(), e = t - this._tickTime;\n    e < this.tickInterval || (this._tickTime = t - e % this.tickInterval, this.callback());\n  }\n}\nconst B = (r, t) => {\n  const e = t.split(\".\");\n  if (e.length !== 2)\n    return;\n  const s = r[e[0]];\n  if (s)\n    return s[e[1]];\n}, C = (r) => {\n  if (!r)\n    return [];\n  const t = [];\n  return _(\n    r,\n    (e, s, i, n) => {\n      t.push(`${n.toString()}.${s.toString()}`);\n    }\n  ), t;\n}, j = w.logging;\nvar x = /* @__PURE__ */ ((r) => (r[r.error = 0] = \"error\", r[r.warn = 1] = \"warn\", r[r.log = 2] = \"log\", r))(x || {});\nconst v = class v {\n  /**\n   * Creates an instance of the {@link Logger} class.\n   *\n   * @param prefix A prefix that is used in all logs\n   *   (`[PREFIX] MESSAGE`, i.e. `[GlobalDataLayer] This is a serious message`).\n   * @param options Options to be merged as settings with the {@link DEFAULT_SETTINGS.logging}.\n   */\n  constructor(t, e) {\n    /**\n     * The prefix that is used in all logs.\n     * @private\n     */\n    o(this, \"prefix\");\n    /**\n     * The merged settings. Also see the options of the {@link constructor} and the {@link DEFAULT_SETTINGS.logging}.\n     *\n     * @see {@link TLoggerSettings}\n     *\n     * @private\n     */\n    o(this, \"settings\");\n    this.prefix = t, this.settings = {\n      ...j,\n      ...e\n    };\n  }\n  /**\n   * Helper function to merge the options of a log method call with the current {@link settings}.\n   *\n   * @param options  Options to be merged with the available {@link settings}\n   *\n   * @returns The merged temporary settings.\n   *\n   * @private\n   */\n  _getMergedSettings(t) {\n    return t ? {\n      ...this.settings,\n      ...t\n    } : this.settings;\n  }\n  /**\n   * Check, if this log message is allowed.\n   *\n   * @see {@link TLoggerSettings.enabled} and {@link TLoggerSettings.level} and {@link isAvailable}\n   *\n   * @param type Type of the current log message.\n   * @param settings The current (temporary) settings.\n   *\n   * @returns `true`if the log message is allowed.\n   *\n   * @private\n   */\n  _isAllowed(t, e) {\n    if (!v.isAvailable || !e.enabled)\n      return !1;\n    const s = x[e.level];\n    switch (t) {\n      case \"error\":\n      case \"warn\":\n        return s >= x[t];\n      case \"info\":\n      case \"log\":\n      case \"debug\":\n      case \"dir\":\n        return s >= 2;\n      default:\n        return !1;\n    }\n  }\n  /**\n   * A helper method to execute the log messages of all different types.\n   *\n   * @param msg The message text.\n   * @param type The type of the message.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   *\n   * @private\n   */\n  _log(t, e = \"log\", s) {\n    const i = this._getMergedSettings(s);\n    if (this._isAllowed(e, i))\n      switch (e) {\n        case \"dir\":\n          console.log(`[${this.prefix}] ${e}:`), console[e](t);\n          break;\n        default:\n          console[e](`[${this.prefix}] ${t}`);\n      }\n  }\n  /**\n   * Write a normal log message.\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  log(t, e) {\n    this._log(t, \"log\", e);\n  }\n  /**\n   * Write a log message of type `dir`.\n   *\n   * This message will be split in two messages, the prefix with \" dir:\" and the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/console/dir dir} output as interactive list.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/dir console.dir()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  dir(t, e) {\n    this._log(t, \"dir\", e);\n  }\n  /**\n   * Write a log message of type `debug`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/debug console.debug()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  debug(t, e) {\n    this._log(t, \"debug\", e);\n  }\n  /**\n   * Write a log message of type `error`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/error console.error()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  error(t, e) {\n    this._log(t, \"error\", e);\n  }\n  /**\n   * Write a log message of type `info`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/info console.info()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  info(t, e) {\n    this._log(t, \"info\", e);\n  }\n  /**\n   * Write a log message of type `warn`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/warn console.warn()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  warn(t, e) {\n    this._log(t, \"warn\", e);\n  }\n};\n/**\n * Check if there is a console available that makes logging possible.\n */\no(v, \"isAvailable\", (() => typeof console < \"u\")());\nlet b = v;\nconst u = (...r) => {\n  const t = {};\n  return r.forEach((e) => {\n    if (m(e))\n      return;\n    const s = {\n      ...t,\n      ...e\n    };\n    let i;\n    for (i in s)\n      typeof s[i] == \"object\" && !Array.isArray(s[i]) ? t[i] = {\n        ...t[i],\n        ...e[i]\n      } : t[i] = s[i];\n  }), t;\n};\nclass q {\n  /**\n   * Creates a PCOM (default) data layer schema specific object, that contains the given web properties.\n   *\n   * @param data - Contains the web properties in a standardized {@link IFactoryData} like way.\n   *\n   * @returns The given web properties in the PCOM (default) data layer schema specific object.\n   *\n   * @example\n   * myWebPropertiesFactory.create({ userAgent: 'MY_USE_AGENT' });\n   * // returns:\n   * // {\n   * //   visitor: {\n   * //     userAgent: 'MY_USE_AGENT'\n   * //   }\n   * // }\n   */\n  create(t) {\n    return P(\n      {\n        context: {\n          timestamp: t.timestamp,\n          server: t.hostname\n        },\n        pageExperience: {\n          pageId: t.url\n        },\n        visitor: {\n          deviceBrowserBreakpoint: t.breakpoint,\n          deviceBrowserHeight: t.height,\n          deviceBrowserOrientation: t.orientation,\n          deviceBrowserWidth: t.width,\n          deviceType: t.deviceType,\n          useragent: t.userAgent\n        }\n      },\n      [void 0]\n    );\n  }\n}\nconst K = w.webProperties, V = () => window.location.href.replace(/[?#].*/, \"\"), Y = () => (/* @__PURE__ */ new Date()).toISOString(), Q = () => window.location.hostname, R = () => window.innerHeight.toString(), D = () => window.innerHeight > window.innerWidth ? \"p\" : \"l\", T = () => window.innerWidth.toString(), X = () => window.matchMedia(\"(hover: none), (pointer: coarse)\").matches ? \"mobile\" : \"desktop\", z = () => window.navigator.userAgent, J = (r) => {\n  if (!r.breakpoints || r.breakpoints.length < 1)\n    return;\n  const { breakpoints: t } = r, e = () => {\n    const s = window.innerWidth;\n    let i = 0, n = 0;\n    for (; n < t.length && s >= t[n]; )\n      i = t[n], n++;\n    return i.toString();\n  };\n  return r.reactiveDimensions ? e : e();\n}, Z = (r, t) => {\n  const e = {\n    ...K,\n    ...r\n  }, i = {\n    breakpoint: J(e),\n    timestamp: Y(),\n    hostname: Q(),\n    url: e.reactiveUrl ? V : V(),\n    height: e.reactiveDimensions ? R : R(),\n    orientation: e.reactiveDimensions ? D : D(),\n    width: e.reactiveDimensions ? T : T(),\n    deviceType: X(),\n    userAgent: z()\n  };\n  return t ? t.create(i) : i;\n}, ee = (r, t) => {\n  switch (t) {\n    case \"string\":\n    case \"number\":\n    case \"boolean\":\n      return typeof r === t;\n    case \"any[]\":\n      return Array.isArray(r) && r.length > 0;\n    case \"Record<string, any>\":\n      return typeof r == \"object\" && !Array.isArray(r) && Object.keys(r).length > 0;\n    case \"any\":\n      return !0;\n    default:\n      if ((typeof r == \"boolean\" || typeof r == \"number\" || typeof r == \"string\") && t.indexOf(\"|\") > 0)\n        return t.split(\"|\").map((s) => {\n          const i = s.trim();\n          return /^'.*'$/.test(i) ? i.replace(/(^ ?'?|'? ?$)/g, \"\") : /^(true|false)$/.test(i) ? i === \"true\" : /^-?(\\d*\\.)?\\d+$/.test(i) ? Number.parseFloat(i) : i.replace(/(^ ?'?|'? ?$)/g, \"\");\n        }).includes(r);\n  }\n  return !0;\n}, te = (r, t, e) => {\n  const s = {\n    level: null,\n    issues: []\n  };\n  if (!e.enabled || !e.eventMatrix)\n    return s;\n  const { events: i, ...n } = e.eventMatrix, l = i.indexOf(r);\n  if (l === -1)\n    return s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"EVENT_NOT_FOUND\",\n      name: r,\n      message: `'${r}': Event does not exist.`\n    }), s;\n  const a = C(t), d = Object.keys(n), c = a.filter(\n    (g) => !d.includes(g)\n  );\n  c.length > 0 && (e.allowUnknown || G(t, c), c.forEach((g) => {\n    s.level = s.level ?? \"warn\", s.issues.push({\n      level: \"warn\",\n      type: \"PROPERTY_DOES_NOT_EXIST\",\n      name: g,\n      message: `'${g}': Property does not exist in the given Event Matrix.${e.allowUnknown ? \"\" : \" It was omitted from the DataLayer payload.\"}`\n    });\n  }));\n  let h;\n  for (h in n) {\n    const g = n[h], f = typeof g.e[l] < \"u\", p = g.r === 1, E = t ? B(t, h) : void 0, N = typeof E < \"u\";\n    if (f && // Does the event want this property?\n    p && // Is the property mandatory in general?\n    !N && (s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"REQUIRED_PROPERTY_MISSING\",\n      name: h,\n      message: `'${h}': The required property is missing.`\n    }), !e.verbose) || N && !ee(E, g.t) && (s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"WRONG_PROPERTY_TYPE\",\n      name: h,\n      message: `'${h}': Wrong type detected. Expected '${g.t}', got '${typeof E}'.`\n    }), !e.verbose))\n      return s;\n  }\n  return s;\n};\nclass L {\n  constructor(t = \"DataLayerExtension\", e) {\n    /**\n     * A\n     * @protected\n     */\n    o(this, \"_logger\");\n    o(this, \"_className\");\n    o(this, \"_dataLayerInstance\");\n    this._className = t, this._logger = new b(this.className, e);\n  }\n  get dataLayerInstance() {\n    return this._dataLayerInstance;\n  }\n  set dataLayerInstance(t) {\n    this._dataLayerInstance = t;\n  }\n  get className() {\n    return this._className;\n  }\n  set className(t) {\n    this._className = t;\n  }\n  get isRegistered() {\n    return typeof this._dataLayerInstance < \"u\";\n  }\n}\nconst A = {\n  eventName: \"UNKNOWN\",\n  thresholds: {\n    filled: 0.5,\n    visible: 0.3,\n    minValidityPeriod: 1\n  },\n  triggerUpdates: {\n    enabled: !1,\n    eventName: \"VIEWPORT_TRACKER_STATUS_CHANGE\"\n  },\n  tickerSettings: {\n    ticksPerSecond: 10\n  }\n};\nclass se extends Event {\n  constructor(e, s) {\n    super(e);\n    o(this, \"registeredElement\");\n    this.registeredElement = s;\n  }\n}\nclass $ extends L {\n  /**\n   * Creates a new instance of {@link ViewportTrackerExtension} with optional settings of type\n   * {@link TViewportTrackerSettings}.\n   *\n   * @param options The settings to initialize the instance. Will be merged with the defaults.\n   */\n  constructor(e) {\n    var s;\n    super(\"ViewportTrackerExtension\", e == null ? void 0 : e.logger);\n    o(this, \"settings\");\n    o(this, \"observer\", null);\n    o(this, \"frameTicker\");\n    o(this, \"registeredElements\", []);\n    o(this, \"visibleElements\", []);\n    this.settings = e ? u(A, e) : A, this.observer = this.createObserver(), this.frameTicker = new H(\n      this.checkVisibilityOfElements.bind(this),\n      (s = this.settings.tickerSettings) == null ? void 0 : s.ticksPerSecond\n    );\n  }\n  /**\n   * Will create and return the mandatory {@link IntersectionObserver}. The function will log an error if this is not\n   * possible.\n   *\n   * @returns The ready-to-use {@link IntersectionObserver} instance or null.\n   *\n   * @private\n   */\n  createObserver() {\n    return !window || !(\"IntersectionObserver\" in window) ? (this._logger.error(\"The ViewportTrackerExtension will need IntersectionObserver to work.\"), null) : new IntersectionObserver(this.observerHandler.bind(this), {\n      threshold: 0,\n      rootMargin: \"0px 0px\"\n    });\n  }\n  /**\n   * Register an {@link HTMLElement} to be observed.\n   *\n   * @param element The {@link HTMLElement} to register with optional _DataLayer_ properties.\n   */\n  registerElement(e) {\n    var s;\n    this.unregisterElement(e.el), this.registeredElements.push({\n      el: e.el,\n      properties: e.properties,\n      state: {\n        isFilled: !1,\n        isVisible: !1,\n        passedValidityPeriod: !1\n      }\n    }), (s = this.observer) == null || s.observe(e.el);\n  }\n  /**\n   * Register multiple {@link HTMLElement}s to be observed.\n   *\n   * @param elements The {@link HTMLElement}s to register with optional _DataLayer_ properties.\n   */\n  registerElements(e) {\n    for (const s of e)\n      this.registerElement(s);\n  }\n  /**\n   * Unregister an {@link HTMLElement} from observation.\n   *\n   * @param element The {@link HTMLElement} to unregister.\n   */\n  unregisterElement(e) {\n    var i;\n    (i = this.observer) == null || i.unobserve(e);\n    const s = this.getRegisteredElementIndex(e);\n    s < 0 || this.registeredElements.splice(s, 1);\n  }\n  /**\n   * Unregister multiple {@link HTMLElement}s from observation.\n   *\n   * @param elements The {@link HTMLElement}s to unregister.\n   */\n  unregisterElements(e) {\n    for (const s of e)\n      this.unregisterElement(s);\n  }\n  /**\n   * Helper function to retrieve the index of a registered {@link HTMLElement} from the `registeredElements` array.\n   *\n   * @param el The {@link HTMLElement} to find.\n   * @returns The index of the element if found, otherwise `-1`.\n   *\n   * @private\n   */\n  getRegisteredElementIndex(e) {\n    return this.registeredElements.findIndex((s) => s.el === e);\n  }\n  /**\n   * Helper function to retrieve a registered {@link HTMLElement} from the `registeredElements` array.\n   *\n   * @param el The {@link HTMLElement} to find.\n   *\n   * @returns The found element, otherwise `undefined`.\n   *\n   * @private\n   */\n  getRegisteredElement(e) {\n    const s = this.getRegisteredElementIndex(e);\n    if (!(s < 0))\n      return this.registeredElements[s];\n  }\n  /**\n   * The {@link IntersectionObserver} callback function to handle updates to the registered {@link TRegisteredElement}s\n   * {@link HTMLElement}s. Registers or unregisters items based on the given settings and changes their state.\n   *\n   * @param entries Intersection element entries.\n   *\n   * @private\n   */\n  observerHandler(e) {\n    for (const s of e) {\n      const i = s.target, n = this.getRegisteredElement(i);\n      if (n) {\n        if (s.isIntersecting) {\n          this.visibleElements.findIndex((l) => l === n.el) === -1 && this.visibleElements.push(n.el);\n          continue;\n        }\n        this.removeFromVisibleStore(n.el), (n.state.isFilled || n.state.isVisible) && requestAnimationFrame(() => {\n          this.processViewportIntersection(n, {\n            isVisible: !1,\n            isFilled: !1,\n            passedValidityPeriod: !1\n          });\n        });\n      }\n    }\n    this.visibleElements.length > 0 && this.frameTicker.start();\n  }\n  /**\n   * Callback for the {@link FrameTicker} to frequently check the state of all elements which are currently marked as\n   * _in the viewport_.\n   *\n   * @private\n   */\n  checkVisibilityOfElements() {\n    if (this.visibleElements.length === 0)\n      return;\n    const e = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0), s = window.scrollY;\n    for (let i = 0; i < this.visibleElements.length; i++) {\n      const n = this.visibleElements[i], l = this.getRegisteredElement(n);\n      if (!l || !this.settings.triggerUpdates.enabled && l.state.passedValidityPeriod)\n        continue;\n      const { isVisible: a, isFilled: d } = $.percentWithinViewport(n, s, e), c = {\n        isVisible: a >= this.settings.thresholds.visible,\n        isFilled: d >= this.settings.thresholds.filled,\n        passedValidityPeriod: l.state.passedValidityPeriod\n      };\n      this.processViewportIntersection(l, c);\n    }\n  }\n  /**\n   * Get to know how much of the {@link HTMLElement} is visible the viewport.\n   *\n   * @param el The element in the viewport.\n   * @param scrollY The scrollY of the current window.\n   * @param viewportHeight The height of the viewport.\n   *\n   * @returns The % visible of the HTMLElement in the viewport.\n   *\n   * @private\n   */\n  static percentWithinViewport(e, s, i) {\n    const n = { top: s, bottom: s + i }, l = e.getBoundingClientRect(), a = {\n      top: l.y + s,\n      bottom: l.y + l.height + s\n    }, d = l.height;\n    let c = d;\n    a.top < n.top && (c = d - (s - a.top)), a.bottom > n.bottom && (c = c - (a.bottom - n.bottom));\n    let h = c / d, g = c / i;\n    return (n.top > a.bottom || n.bottom < a.top) && (h = 0, g = 0), n.top < a.top && n.bottom > a.bottom && (h = 1), a.top < n.top && a.bottom > n.bottom && (g = 1), {\n      isVisible: h,\n      isFilled: g\n    };\n  }\n  /**\n   * Processes a {@link TRegisteredElement} items intersection. If the element matches the\n   * {@link TViewportTrackerSettings.thresholds `thresholds`}, the {@link IGlobalDataLayer.push} method is called.\n   *\n   * Also dispatches the update event of the {@link TViewportTrackerSettings.triggerUpdates `triggerUpdates`} feature.\n   *\n   * @param registeredElement The registered element to process.\n   * @param isVisible Indicates, if the element is {@link TViewportTrackerSettings.thresholds.visible visible}.\n   * @param isFilled Indicates, if the element is {@link TViewportTrackerSettings.thresholds.filled filled}.\n   *\n   * @private\n   */\n  processViewportIntersection(e, { isVisible: s, isFilled: i }) {\n    const n = e.state || {\n      isVisible: !1,\n      isFilled: !1\n    }, l = Date.now(), a = {\n      isVisible: s,\n      isFilled: i,\n      timeVisible: n.isVisible !== s ? l : n.timeVisible,\n      timeFilled: n.isFilled !== i ? l : n.timeFilled,\n      passedValidityPeriod: n.passedValidityPeriod\n    }, d = (c) => (l - c) / 1e3;\n    if (n.isVisible !== a.isVisible || n.isFilled !== a.isFilled)\n      a.passedValidityPeriod = !1, e.state = a, this.dispatchEvent(e);\n    else if (!a.passedValidityPeriod && (a.isVisible || a.isFilled)) {\n      const c = d(a.timeVisible), h = d(a.timeFilled);\n      (s && c >= this.settings.thresholds.minValidityPeriod || i && h >= this.settings.thresholds.minValidityPeriod) && (a.passedValidityPeriod = !0, e.state = a, this.pushEvent(e), this.dispatchEvent(e));\n    }\n  }\n  /**\n   * Helper function to remove an {@link HTMLElement} from the state of being in the viewport. This will stop the\n   * {@link FrameTicker} checks from being processed for this {@link TRegisteredElement}.\n   *\n   * @param element The HTMLElement to remove.\n   *\n   * @private\n   */\n  removeFromVisibleStore(e) {\n    let s = -1;\n    for (; (s = this.visibleElements.findIndex((i) => i === e)) >= 0; )\n      this.visibleElements.splice(s, 1);\n    this.visibleElements.length === 0 && this.frameTicker.stop();\n  }\n  /**\n   * Will call the {@link IGlobalDataLayer.push} with the given {@link TViewportTrackerSettings.eventName `eventName`},\n   * whenever a {@link TRegisteredElement} matches the given {@link TViewportTrackerSettings.thresholds `thresholds`}.\n   *\n   * @param item The registered {@link HTMLElement} with its {@link TRegisteredElement.properties `properties` payload}.\n   *\n   * @private\n   */\n  pushEvent(e) {\n    if (!this.dataLayerInstance) {\n      this._logger.warn(\"This extension is not registered to a GlobalDataLayer instance.\");\n      return;\n    }\n    const { properties: s } = e, i = typeof s == \"function\" ? s() : s || {};\n    this.dataLayerInstance.push(this.settings.eventName, i);\n  }\n  /**\n   * Dispatches a {@link ViewportTrackerStatusChangeEvent}.\n   *\n   * @param registeredElement The registered {@link HTMLElement} to use as target.\n   *\n   * @private\n   */\n  dispatchEvent(e) {\n    this.settings.triggerUpdates && this.settings.triggerUpdates.enabled && e.el.dispatchEvent(\n      new se(this.settings.triggerUpdates.eventName, e)\n    );\n  }\n}\nconst F = (r) => r.length > 0, O = \"PageNameExtender_unknown_pageName\", I = {\n  initialPageName: O,\n  separator: \"/\"\n};\nclass ae extends L {\n  /**\n   * Constructor of PageNameExtender\n   *\n   * @param options Settings object for this extension.\n   */\n  constructor(e) {\n    super(\"PageNameExtenderExtension\", e == null ? void 0 : e.logger);\n    o(this, \"settings\");\n    /**\n     * Internal page name store. To handle the different levels.\n     */\n    o(this, \"pageName\", []);\n    /**\n     * Internal basic page name length. This is defined in the {@link set} method and used to make sure there is\n     * an option to keep ({@link reduce}) or replace ({@link set}) the basic page name.\n     */\n    o(this, \"basePageNameLength\", 0);\n    this.settings = e ? u(I, e) : I, this.set(this.settings.initialPageName);\n  }\n  /**\n   * Update the complete stored {@link pageName} with a string or an array of strings.\n   *\n   * @param pageName If a simple string is given, it will be separated by the given {@link settings} separator.\n   * @param keepExtensions Keep the parts which were added by {@link extend} method.\n   *\n   * @returns The new {@link pageName} joined with the {@link settings} separator.\n   */\n  set(e, s = !1) {\n    const i = this.basePageNameLength;\n    return typeof e == \"string\" && (e = e.split(this.settings.separator).filter(F)), e.length === 0 ? (this._logger.warn(\"`pageName` must not be empty\"), \"\") : (e[0] === O && this._logger.info(\n      \"No `initialPageName` was provided. Make sure the `pageName` is provided later via the `set` method.\"\n    ), this.basePageNameLength = e.length, s && e.push(...this.pageName.slice(i - 1)), this.pageName = e, this.get());\n  }\n  /**\n   * Get the current {@link pageName}.\n   *\n   * @param basePageNameOnly If you want to ignore the parts which were added by {@link extend}.\n   *\n   * @returns The current {@link pageName} joined with the {@link settings} separator.\n   */\n  get(e = !1) {\n    return (e ? this.pageName.slice(0, this.basePageNameLength) : this.pageName).join(\n      this.settings.separator\n    );\n  }\n  /**\n   * Add (multiple) sub levels to the {@link pageName}.\n   *\n   * @param levels If a simple string is given it will be split by the given {@link settings} separator.\n   *\n   * @returns The new {@link pageName} joined with the given {@link settings} separator.\n   */\n  extend(e) {\n    return Array.isArray(e) && (e = e.join(this.settings.separator)), e = e.split(this.settings.separator).filter(F), e.length === 0 ? this._logger.warn(\"`levels` must not be empty\") : this.pageName.push(...e), this.get();\n  }\n  /**\n   * Remove (multiple) sub levels from the {@link pageName}.\n   *\n   * @param [levelCount='last'] Number of levels that should be removed. You can also use a\n   *   {@link TPageNameExtenderReduceType} to define the \"last\" or \"all\" (except the root).\n   * @param keepBasePageName If the basic page name given by {@link set} should also be reducible. This\n   *   cannot be restored.\n   *\n   * @returns The new {@link pageName} joined with the given {@link settings} separator.\n   */\n  reduce(e = \"last\", s = !0) {\n    let i;\n    return e === \"all\" ? i = this.pageName.length - (s ? this.basePageNameLength : 1) : e === \"last\" ? i = this.pageName.length > (s ? this.basePageNameLength : 1) ? 1 : 0 : (i = e, (this.pageName.length <= e || s && this.pageName.length - this.basePageNameLength < e) && (this._logger.info(\n      `${this.pageName.length - (s ? this.basePageNameLength : 1)} - ${e} must not delete first level or more`\n    ), i = this.pageName.length - (s ? this.basePageNameLength : 1))), this.pageName.splice(i * -1, i), this.basePageNameLength > this.pageName.length && (this.basePageNameLength = this.pageName.length), this.get();\n  }\n  /**\n   * Get a temporary pre-fixed version of the current {@link pageName}.\n   *\n   * @param [prefix=''] The value that should be prepended temporarily.\n   *\n   * @returns The current {@link pageName} joined with the given {@link settings} separator pre-fixed with the given\n   *   string value.\n   */\n  getWithPrefix(e = \"\") {\n    return e + this.get();\n  }\n  /**\n   * Get a temporary post-fixed version of the current {@link pageName}.\n   *\n   * @param [postfix=''] The value that should be appended temporarily.\n   *\n   * @returns The current {@link pageName} joined with the given {@link Settings} separator post-fixed with the given\n   *   string value.\n   */\n  getWithPostfix(e = \"\") {\n    return this.get() + e;\n  }\n}\nclass ie {\n  /**\n   * Create an instance of the GlobalDataLayer library. This constructor has to be overwritten to initialize the needed\n   * factories ({@link _eventNamePayloadFactory} and {@link _webPayloadFactory}).\n   *\n   * @param options All options are merged with the {@link DEFAULT_SETTINGS} of type {@link TSettings}.\n   * @param [dataStore] The array where all the pushes are added to. The default tries to get or generate the\n   *   `window.pagData` array. If this is not possible, it creates an empty array, that is exposed via\n   *   {@link DataLayerStore}.\n   * @param [className] The class name of the library is here, because code can be uglified and/or minified later.\n   *\n   * @protected\n   */\n  constructor(t, e, s = \"GlobalDataLayer\") {\n    /**\n     * The class name of the library. This is needed, because code can be uglified and/or minified later.\n     * @protected\n     */\n    o(this, \"_className\");\n    /**\n     * The merged settings. Also see the options of the {@link constructor} and the {@link DEFAULT_SETTINGS}.\n     * @protected\n     */\n    o(this, \"_settings\");\n    /**\n     * An internal store where all default properties are added to.\n     * @protected\n     */\n    o(this, \"_defaultProperties\");\n    /**\n     * An internal logger, which has to be used for all console logs.\n     * @protected\n     */\n    o(this, \"_logger\");\n    /**\n     * A flag that indicates if the _Web Properties_ feature was already handled.\n     *\n     * @see {@link getWebProperties}\n     *\n     * @protected\n     */\n    o(this, \"_webPropertiesHandled\", !1);\n    /**\n     * the _DataLayer_ store array, that is used to push all the data.\n     *\n     * This can be transferred to the library with the second parameter `dataStore` of the {@link constructor}.\n     *\n     * @protected\n     */\n    o(this, \"_dataLayerStore\");\n    /**\n     * An internal store where all registered extensions are added to.\n     * @protected\n     */\n    o(this, \"_extensions\", /* @__PURE__ */ new Map());\n    const i = u(\n      w,\n      t || {}\n    );\n    this._className = s, this._logger = new b(this._className, i.logging), this._settings = i, e ? this._dataLayerStore = e : typeof window < \"u\" ? (this._dataLayerStore = window.pagData = window.pagData || [], this._logger.info(\"`dataLayerStore` was set to default `window.pagData`\")) : (this._dataLayerStore = [], this._logger.info(\"`dataLayerStore` was set to default `[]`\")), this._defaultProperties = [];\n  }\n  /**\n   * An internal function to set everything up after initialization is done. This has to be called at the end of the\n   * overwritten constructors.\n   * @protected\n   */\n  setup() {\n    this._handleDefaultWebProperties();\n  }\n  /**\n   * The current settings object.\n   * @readonly\n   */\n  get Settings() {\n    return this._settings;\n  }\n  /**\n   * Get the _DataLayer_ store, that is used to push all the data.\n   * @readonly\n   */\n  get DataLayerStore() {\n    return this._dataLayerStore;\n  }\n  /**\n   * Get a registered {@link DataLayerExtension} class instance based of the input type.\n   *\n   * @param TConstructor The class to search for.\n   *\n   * @returns The registered instance of the extension class, `undefined` if not found.\n   */\n  getRegisteredExtension(t) {\n    const e = new t();\n    return this.getRegisteredExtensionByClassName(e.className);\n  }\n  /**\n   * Get a registered {@link DataLayerExtension} class instance based of a classname.\n   *\n   * @param className The name of class instance to compare.\n   *\n   * @returns The registered instance of the extension class, undefined if not found.\n   */\n  getRegisteredExtensionByClassName(t) {\n    return this._extensions.has(t) ? this._extensions.get(t) : void 0;\n  }\n  /**\n   * Get all registered {@link DataLayerExtension}.\n   *\n   * @returns All registered DataLayerExtensions as array.\n   */\n  getRegisteredExtensions() {\n    const t = [];\n    for (const e of this._extensions.values())\n      t.push(e);\n    return t;\n  }\n  /**\n   * Register a new {@link DataLayerExtension} class for this instance.\n   *\n   * @param extension The extension class instance to register.\n   * @param override If there is an existing instance already registered, we override it, otherwise we do nothing.\n   */\n  registerExtension(t, e = !1) {\n    if (!e && this._extensions.has(t.className)) {\n      this._logger.warn(`Tried to register extension class <${t.className}> which already exists.`);\n      return;\n    }\n    t.dataLayerInstance = this, this._extensions.set(t.className, t), e ? this._logger.info(`Overriden registration for extension class <${t.className}>.`) : this._logger.info(`Registered extension class <${t.className}>.`);\n  }\n  /**\n   * Remove a registered {@link DataLayerExtension} instance.\n   *\n   * @param TConstructor The class to search for.\n   */\n  removeExtension(t) {\n    const e = new t();\n    if (this._extensions.has(e.className)) {\n      this._extensions.delete(e.className);\n      return;\n    }\n    this._logger.warn(`Tried to remove not existing extension class <${e.className}>.`);\n  }\n  /**\n   * Remove a registered {@link DataLayerExtension} instance by class name.\n   *\n   * @param className the name of the class\n   */\n  removeExtensionByClassName(t) {\n    if (this._extensions.has(t)) {\n      this._extensions.delete(t);\n      return;\n    }\n    this._logger.warn(`Tried to remove not existing extension class <${t}>.`);\n  }\n  /**\n   * Push a GlobalDataLayer Event with payload to the given data layer store. The method can fail and return `false`\n   *   because ...\n   *\n   *   - the given `eventName` was invalid\n   *   - the validation failed\n   *\n   * A settings object can be added as the third parameter to every call. This will then temporary override the provided\n   * settings for the time of the push action.\n   *\n   * @param eventName The name of the event that should be pushed.\n   * @param [payload] The _DataLayer_ properties to be merged and added to the data layer.\n   * @param [options] Temporary override the settings.\n   *\n   * @returns A boolean to indicate, if the push was successful.\n   */\n  push(t, e = [{}], s) {\n    var d, c;\n    if (t.length === 0)\n      return !1;\n    const i = s && !m(s) ? u(this._settings, s) : this._settings;\n    Array.isArray(e) || (e = [e]), e.forEach(k);\n    const n = this._eventNamePayloadFactory.create({ event: t }), l = k(this.getDefaultProperties(t));\n    i.clean.enabled && i.clean.executionPlace === y.BEFORE_MERGE && [l || {}, ...e].forEach(\n      (h) => P(h, i.clean.values)\n    );\n    const a = u(\n      n,\n      l || {},\n      ...e\n    );\n    if (i.clean.enabled && i.clean.executionPlace === y.AFTER_MERGE && P(a, i.clean.values), (d = i == null ? void 0 : i.validation) != null && d.enabled && ((c = i == null ? void 0 : i.validation) != null && c.eventMatrix)) {\n      const h = te(t, a, i.validation), g = h.issues.sort((f, p) => f.level !== p.level && p.level === \"warn\" ? -1 : 0).map((f) => `- [${f.level}]: ${f.message}`).join(`\n`);\n      switch (h.level) {\n        case \"error\":\n          return this._logger.error(\n            `Validation failed for event '${t}' with errors/warnings: \n${g}`,\n            i.logging\n          ), !1;\n        case \"warn\":\n          this._logger.warn(\n            `Validation success for event '${t}' with warnings: \n${g}`,\n            i.logging\n          );\n          break;\n        default:\n          this._logger.info(`Validation success for event '${t}'.`, i.logging);\n          break;\n      }\n    }\n    return this._dataLayerStore.push(a), !0;\n  }\n  /**\n   * Return the default properties for the given identifier.\n   *\n   * @param identifier The identifier to get the default properties for.\n   *\n   * @returns The found default properties for the identifier, otherwise `undefined`.\n   */\n  getDefaultProperties(t) {\n    const e = {\n      byName: [],\n      byArray: [],\n      byRegex: []\n    };\n    this._defaultProperties.forEach((i) => {\n      if (i.identifier === t)\n        return e.byName.push(i.data);\n      if (Array.isArray(i.identifier) && i.identifier.includes(t))\n        return e.byArray.push(i.data);\n      if (i.identifier instanceof RegExp && i.identifier.test(t))\n        return e.byRegex.push(i.data);\n    });\n    const s = [...e.byRegex, ...e.byArray, ...e.byName];\n    if (s.length)\n      return u(...s);\n  }\n  /**\n   * Set default properties, which will later be merged with the payload of a {@link push}, when the provided identifier\n   * matches the `eventName`.\n   *\n   * @param identifier The identifier to use the default properties for.\n   * @param data The default properties which will be used with the provided identifier to merge those properties with the payload.\n   */\n  setDefaultProperties(t, e) {\n    const s = this._defaultProperties.find((i) => i.identifier === t);\n    if (s) {\n      s.data = u(s.data, e);\n      return;\n    }\n    this._defaultProperties.push({\n      identifier: t,\n      data: e\n    });\n  }\n  /**\n   * Checks if the web properties feature ({@link getWebProperties}) is already handled or does the setup with the\n   * current settings.\n   *\n   * @private\n   */\n  _handleDefaultWebProperties() {\n    if (this._webPropertiesHandled || !this._settings.webProperties.enabled)\n      return;\n    const t = Z(\n      this._settings.webProperties,\n      this._webPayloadFactory\n    );\n    this.setDefaultProperties(this._settings.webProperties.eventNamePattern, t), this._webPropertiesHandled = !0;\n  }\n}\nclass oe extends ie {\n  /**\n   * Create an instance of the GlobalDataLayer library.\n   *\n   * @param options All options are merged with the {@link DEFAULT_SETTINGS} of type {@link TSettings}.\n   * @param [dataStore] The array where all the pushes are added to. The default tries to get or generate the\n   *   `window.pagData` array. If this is not possible, it creates an empty array, that is exposed via\n   *   {@link DataLayerStore}.\n   * @param [className] The class name of the library is here, because code can be uglified and/or minified later.\n   *\n   * @protected\n   */\n  constructor(e, s, i = \"GlobalDataLayer\") {\n    super(e, s, i);\n    o(this, \"_eventNamePayloadFactory\");\n    o(this, \"_webPayloadFactory\");\n    this._eventNamePayloadFactory = new U(), this._webPayloadFactory = new q(), this.setup();\n  }\n  setup() {\n    super.setup();\n  }\n}\nexport {\n  y as CleanExecutionPlace,\n  w as DEFAULT_SETTINGS,\n  L as DataLayerExtension,\n  U as EventNameFactory,\n  H as FrameTicker,\n  oe as GlobalDataLayer,\n  ie as GlobalDataLayerBaseClass,\n  b as Logger,\n  ae as PageNameExtenderExtension,\n  $ as ViewportTrackerExtension,\n  se as ViewportTrackerStatusChangeEvent,\n  q as WebPropertiesFactory,\n  P as clean,\n  G as cleanByDataLayerPaths,\n  _ as each,\n  S as eachFirstLevel,\n  k as executeEachFunction,\n  B as get,\n  C as getDataLayerPaths,\n  Z as getWebProperties,\n  m as isEmpty,\n  ne as isEmptyDataLayer,\n  u as merge,\n  te as validate\n};\n","import { GlobalDataLayer } from '@porsche/globaldatalayer';\nimport { TContextEnvironment, TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { Environment, Environments } from '../../entities/environment';\nimport { splitLocale } from '../../entities/locale';\nimport { DATA_LAYER_APPLICATION_NAME, DATA_LAYER_APP_ID, EventAction } from '../../utility/constants';\nimport { isString } from '../../utility/helper';\n\nfunction getEnvironmentAbbreviation(env: Environment): TContextEnvironment {\n  switch (env) {\n    case Environments.PRODUCTION:\n      return 'P';\n    case Environments.PREVIEW:\n      return 'PP';\n    default:\n      return 'K';\n  }\n}\n\nclass GlobalDataLayerService {\n  homeNavEventId = /^PAGHomeNav_/;\n  gdl!: GlobalDataLayer<TDataLayer>;\n\n  constructor() {\n    this.initialise();\n  }\n\n  initialise() {\n    this.gdl = new GlobalDataLayer();\n  }\n\n  pushDataLayerEvent(eventAction: EventAction, eventData?: TDataLayer): void {\n    if (eventData) {\n      this.gdl.push(eventAction, eventData);\n    } else {\n      this.gdl.push(eventAction);\n    }\n  }\n\n  setEnvironment(env: Environment) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      context: { environment: getEnvironmentAbbreviation(env) }\n    });\n  }\n\n  setPageName(pageName?: string) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      pageExperience: {\n        pageName: pageName\n      }\n    });\n  }\n\n  setUser(userId: string, loginStatus: boolean) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      ids: { userId },\n      visitor: { loginStatus }\n    });\n  }\n\n  setLocale(locale: string) {\n    try {\n      const { country, language } = splitLocale(locale);\n\n      this.gdl.setDefaultProperties(this.homeNavEventId, {\n        context: { country: country, language: language }\n      });\n    } catch (err) {\n      // throw the error away\n    }\n  }\n\n  setDefaultProperties(locale: string, pageName?: string): void {\n    let defaultGDLProperties: TDataLayer = {\n      context: { applicationId: DATA_LAYER_APP_ID },\n      visitor: { loginStatus: false }\n    };\n\n    try {\n      const { country, language } = splitLocale(locale);\n\n      defaultGDLProperties = {\n        ...defaultGDLProperties,\n        context: { ...defaultGDLProperties.context, country, language, applicationName: DATA_LAYER_APPLICATION_NAME }\n      };\n    } catch (err) {\n      // throw the error away\n    }\n\n    if (isString(pageName)) {\n      defaultGDLProperties = { ...defaultGDLProperties, pageExperience: { pageName: pageName } };\n    }\n\n    this.gdl.setDefaultProperties(this.homeNavEventId, defaultGDLProperties);\n  }\n}\n\nexport default new GlobalDataLayerService();\n","import { Component, Element, Event, EventEmitter, h, Host, Listen, Prop, State, Watch } from '@stencil/core';\nimport { TCountryRecommender } from '../../entities/content';\nimport { getFlagURL } from '../../services/content-service';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { ClickElementTypes, EventActions } from '../../utility/constants';\nimport { getConfig, getHTMLElement, isString } from '../../utility/helper';\n\n@Component({\n  tag: 'phn-country-recommender',\n  styleUrl: 'country-recommender.scss',\n  scoped: true\n})\nexport class CountryRecommender {\n  @Prop() locale!: string;\n  @Prop() content!: TCountryRecommender;\n\n  @State() flagURL = '';\n\n  @Element() el!: HTMLPhnCountryRecommenderElement;\n\n  @Event() bannerClosed!: EventEmitter<void>;\n\n  @Watch('locale')\n  async localeWatcher(): Promise<void> {\n    await this.setFlagURL();\n  }\n\n  private async setFlagURL() {\n    const footerAssetsUrl = getConfig(navStateStore.state.env).FOOTER_ASSETS_URL;\n    this.flagURL = await getFlagURL(footerAssetsUrl, this.locale);\n  }\n\n  private closeCountryRecommender(): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CLOSE, {\n      componentClick: {\n        clickElementId: 'mainmenu.banner.close',\n        clickElementName: 'close',\n        clickElementType: ClickElementTypes.Button\n      }\n    });\n\n    this.el.classList.remove('showing');\n    this.el.classList.add('hiding');\n  }\n\n  componentWillLoad(): void {\n    this.setFlagURL();\n  }\n\n  componentDidLoad(): void {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_LOAD, {\n      componentClick: {\n        clickElementId: 'mainmenu.banner',\n        clickElementName: 'Country Recommender',\n        clickElementType: ClickElementTypes.Link\n      }\n    });\n  }\n\n  @Listen('animationend', { passive: true })\n  handleAnimationEnd(e: AnimationEvent): void {\n    if (e.animationName === 'slideUp') {\n      getHTMLElement(e.target)?.classList.remove('hiding');\n      this.bannerClosed.emit();\n    } else if (e.animationName === 'slideDown') {\n      getHTMLElement(e.target)?.classList.remove('showing');\n    }\n  }\n\n  private sendDataLayerEvent() {\n    globalDataLayerService.pushDataLayerEvent(EventActions.COUNTRY_RECOMMENDER_CHANGE, {\n      componentClick: {\n        clickElementId: this.content.change.id,\n        clickElementName: this.content.change.text,\n        clickElementType: ClickElementTypes.Link,\n        targetUrl: getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL\n      }\n    });\n  }\n\n  render(): HTMLPhnCountryRecommenderElement {\n    const { statement, region, language, change } = this.content;\n\n    return (\n      <Host class=\"showing\">\n        <div class=\"country-recommender-container\">\n          <div class=\"country-recommender\">\n            <div class=\"country-recommender-icons-tray\">\n              <div class=\"left-icons\">\n                {isString(statement) ? (\n                  <phn-p-text theme=\"dark\" size=\"inherit\" class=\"statement\">\n                    {statement}\n                  </phn-p-text>\n                ) : /* istanbul ignore next */\n                null}\n\n                <div class=\"selector\">\n                  <div class=\"phn-flex-row phn-flex-wrap\">\n                    <div class=\"flag-region\">\n                      {isString(this.flagURL) ? (\n                        <phn-p-icon\n                          source={this.flagURL}\n                          class=\"flag\"\n                          aria-hidden=\"true\"\n                          size=\"inherit\"\n                          color=\"inherit\"\n                        />\n                      ) : /* istanbul ignore next */\n                      null}\n\n                      {isString(region) && isString(language) ? (\n                        <phn-p-text theme=\"dark\" class=\"language\" size=\"inherit\">\n                          {region} / {language}\n                        </phn-p-text>\n                      ) : /* istanbul ignore next */\n                      null}\n                    </div>\n\n                    <phn-p-link-pure\n                      theme=\"dark\"\n                      size=\"inherit\"\n                      class=\"change\"\n                      onClick={() => this.sendDataLayerEvent()}\n                      aria={{ 'aria-label': 'Change Region or Language' }}\n                    >\n                      <a href={getConfig(navStateStore.state.env).COUNTRY_SELECTOR_URL}>{change.text}</a>\n                    </phn-p-link-pure>\n                  </div>\n                </div>\n              </div>\n\n              <div class=\"right-icons\">\n                <phn-p-button-pure\n                  theme=\"dark\"\n                  icon=\"close\"\n                  onClick={() => this.closeCountryRecommender()}\n                  class=\"close-button\"\n                  hide-label=\"true\"\n                >\n                  Close dialog\n                </phn-p-button-pure>\n              </div>\n            </div>\n          </div>\n        </div>\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n:host {\n  display: block;\n  @include apply-themes();\n  background-color: $pds-theme-light-primary;\n  width: 100%;\n  overflow: hidden;\n  color: white;\n  line-height: p-px-to-rem(20px);\n  border-bottom: 1PX solid #E3E4E5;\n  font-size: p-px-to-rem(12px);\n\n\n  &.showing {\n    animation: slideDown 1s ease-in-out 0s;\n  }\n\n  &.hiding {\n    animation: slideUp 1s ease-in-out 0s;\n  }\n\n  @include pds-media-query-min('s') {\n    font-size: p-px-to-rem(14px);\n  }\n\n  @include pds-media-query-min('xl') {\n    font-size: p-px-to-rem(16px);\n  }\n\n  phn-p-button-pure, phn-p-link-pure {\n    height: fit-content;\n  }\n\n  .country-recommender-container {\n    @include pds-grid;\n\n\n\n    font-family: $pds-font-family;\n    font-weight: $pds-font-weight-regular;\n    color: $pds-theme-light-background-base;\n\n    .country-recommender {\n      font-family: $pds-font-family;\n      font-weight: $pds-font-weight-regular;\n      color: $pds-theme-light-background-base;\n\n      overflow: hidden;\n\n      display: flex;\n      align-items: center;\n      position: relative;\n      grid-column: wide-start/wide-end;\n      @include limit-stretch();\n      padding-top: p-px-to-rem(26px);\n      padding-bottom: p-px-to-rem(10px);\n\n      .country-recommender-icons-tray {\n        display: grid;\n        grid-template-columns: 4fr 1fr;\n        grid-template-rows: 1fr;\n        gap: 0px 0px;\n        grid-template-areas: \"left  right\";\n        width: 100%;\n\n        div.left-icons,\n        div.right-icons {\n          display: flex;\n          flex-direction: row;\n        }\n\n        div.left-icons {\n          grid-area: left;\n          flex-wrap: wrap;\n        }\n\n        div.right-icons {\n          display: flex;\n          flex-direction: row;\n          justify-self: end;\n          grid-area: right;\n        }\n\n\n        .statement {\n          order: 0;\n          padding-top: p-px-to-rem(2px);\n          padding-right: p-px-to-rem(8px);\n\n          @include pds-media-query-max('s') {\n            padding-bottom: p-px-to-rem(17px);\n          }\n          @include pds-media-query-max('xs') {\n            padding-bottom: p-px-to-rem(17px);\n          }\n          @include pds-media-query-min-max('base', 'xs') {\n           padding-bottom: p-px-to-rem(10px);\n          }\n        }\n\n        .flag {\n          margin-right: p-px-to-rem(8px);\n          max-height: p-px-to-rem(24px);\n          width: p-px-to-rem(20px);\n          height: p-px-to-rem(20px);\n          border-radius: 100%;\n          border: 1px solid $pds-theme-light-contrast-medium;\n          background-color: $pds-theme-light-contrast-medium;\n\n          @include pds-media-query-min('m') {\n            width: p-px-to-rem(22px);\n            height: p-px-to-rem(22px);\n          }\n        }\n\n        .flag-region {\n          display: flex;\n        }\n\n        .language {\n          padding-right: p-px-to-rem(24px);\n          padding-top: p-px-to-rem(2px);\n          padding-bottom: p-px-to-rem(16px);\n        }\n\n        .selector {\n          display: inline-flex;\n          order: 2;\n          width: 100%;\n\n          @include pds-media-query-min('s') {\n            order: 1;\n            width: auto;\n          }\n        }\n\n        .change {\n          padding-top: p-px-to-rem(2px);\n          margin-bottom: p-px-to-rem(16px);\n        }\n\n        .close-button {\n          grid-area: right;\n          margin-left: auto;\n          order: 1;\n          font-size: p-px-to-rem(6px);\n\n          @include pds-media-query-min('s') {\n            order: 2;\n          }\n        }\n      }\n    }\n  }\n}\n\n\n","import { createStore } from '@stencil/store';\n\nexport interface ShopInformation {\n  numberOfShoppingItems: number;\n  wishlistItemsNumber: number;\n  subTotal: string;\n}\n\nexport interface ShopStateStoreTypes {\n  wishlistItemsNumber: number;\n  numberOfShoppingItems: number;\n  shopInformation: ShopInformation;\n}\n\nexport const shopStateStore = createStore<ShopStateStoreTypes>({\n  wishlistItemsNumber: 0,\n  numberOfShoppingItems: 0,\n  shopInformation: { numberOfShoppingItems: 0, wishlistItemsNumber: 0, subTotal: '0' }\n});\n","import { Application, ApplicationType } from '../constants/app';\nimport { Content, TLink, TShopAdditionalContentMenu, TShopAuthStatus, TShopMenu } from '../../entities/content';\nimport { getUsername } from '../helper';\nimport { navStateStore } from '../../state/nav-state-store';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { shopStateStore, ShopStateStoreTypes } from '../../state/shop-state-store';\n\nexport function isShopAvailable(locale: string, app: ApplicationType): boolean {\n  const shopList = navContentStore.state.shop?.availableLocales;\n  return shopList !== undefined && shopList.includes(locale) && app === Application.shop;\n}\n\nfunction logoLinksToShop(locale: string): boolean {\n  return navContentStore.state.shop?.logoLinksToShopLocales?.includes(locale) || false;\n}\n\nexport function isShopAvailableAndLogoLinksToShop(\n  locale: string,\n  app: ApplicationType,\n  shop: TShopMenu | null\n): shop is TShopMenu {\n  return isShopAvailable(locale, app) && logoLinksToShop(locale) && shop !== null;\n}\n\nexport function modifyShopItemDependingOnMarket(\n  locale: string,\n  app: ApplicationType | undefined,\n  content: Content\n): Content {\n  const { shop, externalShop } = content;\n\n  if (shop === null) return content;\n\n  if (externalShop && app !== Application.shop) {\n    return replaceShopWithExternalShop(content, shop, externalShop);\n  }\n\n  if (shopNotAvailableOnGlobalPages(shop, locale, app)) {\n    return removeShopItemFromContent(content, shop);\n  }\n\n  return content;\n}\n\nfunction replaceShopWithExternalShop(content: Content, shop: TShopMenu, externalShop: TLink): Content {\n  return {\n    ...content,\n    shop: {\n      ...shop,\n      ...externalShop\n    }\n  };\n}\n\nfunction shopNotAvailableOnGlobalPages(shop: TShopMenu, locale: string, app: ApplicationType | undefined) {\n  return (\n    !shop?.availableLocales.includes(locale) ||\n    (shop?.availableLocalesOnlyForShop.includes(locale) && app !== Application.shop)\n  );\n}\n\nfunction removeShopItemFromContent(content: Content, shop: TShopMenu) {\n  return {\n    ...content,\n    shop: {\n      ...shop,\n      text: ''\n    }\n  };\n}\n\nexport function filterWishlistItemsByAuthStatus(\n  menuItems: TShopAdditionalContentMenu[],\n  authStatusList: TShopAuthStatus[]\n): TShopAdditionalContentMenu[] {\n  return menuItems?.filter((item) => {\n    if (item.authStatus === null || item.authStatus === undefined) {\n      return authStatusList.includes(null);\n    }\n\n    return authStatusList.includes(item.authStatus);\n  });\n}\n\nexport function getAvailableShopVariables(): { wishlistItemsNumber: number; username: string } {\n  const { myPorsche } = navContentStore.state;\n  const { loggedInState } = navStateStore.state;\n  let { wishlistItemsNumber } = shopStateStore.state.shopInformation;\n\n  if (wishlistItemsNumber === 0) {\n    wishlistItemsNumber = shopStateStore.state.wishlistItemsNumber;\n  }\n\n  const username = getUsername(loggedInState, myPorsche?.loggedInFallback || '');\n\n  return { wishlistItemsNumber, username };\n}\n\nexport function loadsShopPropsOnStore(props: ShopStateStoreTypes): void {\n  shopStateStore.set('wishlistItemsNumber', props.wishlistItemsNumber);\n  shopStateStore.set('numberOfShoppingItems', props.numberOfShoppingItems);\n  shopStateStore.set('shopInformation', props.shopInformation);\n}\n\nfunction getWishlistIconName(): string {\n  const { shopInformation } = shopStateStore.state;\n  const { wishlistItemsNumber } = shopStateStore.state;\n  const wishlistNumber =\n    shopInformation.wishlistItemsNumber > 0 ? shopInformation.wishlistItemsNumber : wishlistItemsNumber;\n\n  return wishlistNumber > 0 ? 'heart-filled' : 'heart';\n}\n\nexport function getIconNameByMenuItemId(id: string): string | null {\n  const iconsGetterFunctions: Record<string, () => string> = {\n    wishlist: getWishlistIconName\n  };\n\n  const getIconName = iconsGetterFunctions[id];\n\n  if (typeof getIconName !== 'function') return null;\n\n  return getIconName();\n}\n"],"names":["contentCache","Map","fetchContent","e","t","o","getConfig","featureToggles","env","r","isShopToggleActive","Application","shop","a","n","splitLocale","country","language","constructCacheKey","undefined","c","get","fetch","concat","headers","i","l","sent","status","NaviError","NaviErrorTypes","NO_RESULTS","ok","GENERAL","json","s","set","fetchNaviContent","CONTENT_URL","toLowerCase","fetchShopContent","SHOP_CONTENT_URL","Promise","resolve","allSettled","h","reason","u","modifyShopItemDependingOnMarket","value","f","Object","assign","children","menuItems","additionalContent","availableLocales","availableLocalesOnlyForShop","getFlagURL","includes","isCountryInOneOfRegions","split","constructFlagURL","M","defineProperty","enumerable","configurable","writable","W","y","w","clean","enabled","executionPlace","values","logging","level","validation","allowUnknown","verbose","webProperties","eventNamePattern","reactiveUrl","reactiveDimensions","U","prototype","create","event","length","context","eventAction","_","S","m","P","k","B","j","x","error","warn","log","v","this","prefix","settings","__assign","_getMergedSettings","_isAllowed","isAvailable","_log","console","dir","debug","info","b","arguments","forEach","Array","isArray","q","timestamp","server","hostname","pageExperience","pageId","url","visitor","deviceBrowserBreakpoint","breakpoint","deviceBrowserHeight","height","deviceBrowserOrientation","orientation","deviceBrowserWidth","width","deviceType","useragent","userAgent","K","V","window","location","href","replace","R","innerHeight","toString","D","innerWidth","T","J","breakpoints","ee","keys","indexOf","map","trim","test","Number","parseFloat","te","issues","eventMatrix","events","__rest","push","type","name","message","C","filter","G","p","g","d","ie","_className","_logger","_settings","_dataLayerStore","pagData","_defaultProperties","setup","_handleDefaultWebProperties","getRegisteredExtension","getRegisteredExtensionByClassName","className","_extensions","has","getRegisteredExtensions","registerExtension","dataLayerInstance","removeExtension","delete","removeExtensionByClassName","_eventNamePayloadFactory","getDefaultProperties","__spreadArray","apply","sort","join","byName","byArray","byRegex","identifier","data","RegExp","setDefaultProperties","find","_webPropertiesHandled","Date","toISOString","matchMedia","matches","navigator","Z","_webPayloadFactory","oe","call","__extends","getEnvironmentAbbreviation","Environments","PRODUCTION","PREVIEW","GlobalDataLayerService","homeNavEventId","initialise","gdl","pushDataLayerEvent","setEnvironment","environment","setPageName","pageName","setUser","ids","userId","loginStatus","setLocale","applicationId","DATA_LAYER_APP_ID","applicationName","DATA_LAYER_APPLICATION_NAME","isString","globalDataLayerService","CountryRecommender","localeWatcher","setFlagURL","navStateStore","state","FOOTER_ASSETS_URL","locale","flagURL","closeCountryRecommender","EventActions","COUNTRY_RECOMMENDER_CLOSE","componentClick","clickElementId","clickElementName","clickElementType","ClickElementTypes","Button","el","classList","remove","add","componentWillLoad","componentDidLoad","COUNTRY_RECOMMENDER_LOAD","Link","handleAnimationEnd","animationName","getHTMLElement","target","bannerClosed","emit","sendDataLayerEvent","COUNTRY_RECOMMENDER_CHANGE","content","change","id","text","targetUrl","COUNTRY_SELECTOR_URL","render","statement","region","Host","class","theme","size","source","color","onClick","aria","icon","shopStateStore","createStore","wishlistItemsNumber","numberOfShoppingItems","shopInformation","subTotal","isShopAvailable","navContentStore","isShopAvailableAndLogoLinksToShop","logoLinksToShopLocales","logoLinksToShop","externalShop","replaceShopWithExternalShop","shopNotAvailableOnGlobalPages","removeShopItemFromContent","filterWishlistItemsByAuthStatus","authStatus","getAvailableShopVariables","myPorsche","loggedInState","username","getUsername","loggedInFallback","loadsShopPropsOnStore","getWishlistIconName","getIconNameByMenuItemId","wishlist"],"sourceRoot":""}