{"version":3,"file":"static/js/989.c3e8fadb.chunk.js","mappings":"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","sources":["../node_modules/@porschehn/navigation/dist/esm-es5/src/utility/constants/feature-toggles.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/logger.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/feature-toggles.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/window-service.ts"],"sourcesContent":["export const FEATURE_OVERRIDE_ENABLED = 'featureOverrideEnabled';\nexport const FEATURE_PORSCHE_75_YEARS_LOGO = 'porsche_75_years_logo';\nexport const FEATURE_SHOP = 'shop';\nexport const FEATURE_PCOM_SEARCH = 'pcom_search';\nexport const FEATURE_SAVED_ITEMS = 'saved_items';\nexport const FEATURE_AB_TESTING = 'ab';\n\nexport const FEATURE_DEALER_SEARCH_CHINA = 'dealer_search_china';\nexport const FEATURE_DEALER_SEARCH_OPENING_HOURS = 'opening_hours';\n","import { Environments, Environment } from '../entities/environment';\nimport { VERSION } from '../utility/constants';\nimport { NaviError, NaviErrorType, NaviErrorTypes } from '../utility/navi-error';\nimport windowService from './window-service';\n\nexport const LOGGING_ENDPOINT = 'https://logs.nav.porsche.com';\n\nconst enum LogLevel {\n  DEBUG = 'debug',\n  INFO = 'info',\n  ERROR = 'error'\n}\n\nclass Logger {\n  private env: Environment | null = null;\n  private version = VERSION;\n  private breakpoint = 0;\n  private locale: string | null = null;\n\n  init(env: Environment, breakpoint: number, locale: string) {\n    this.env = env;\n    this.breakpoint = breakpoint;\n    this.locale = locale;\n  }\n\n  private log(logName: string, level: LogLevel, id: string, message: string, errorType?: NaviErrorType) {\n    if (this.env === Environments.TEST) {\n      return;\n    }\n\n    try {\n      const log = JSON.stringify({\n        name: logName,\n        level: level,\n        env: this.env,\n        breakpoint: this.breakpoint,\n        locale: this.locale,\n        version: this.version,\n        hostname: windowService.location.hostname,\n        pathname: windowService.location.pathname,\n        id,\n        errorType: errorType || '',\n        message\n      });\n\n      if (this.env === Environments.PRODUCTION) {\n        if (level !== LogLevel.DEBUG) {\n          fetch(LOGGING_ENDPOINT, {\n            method: 'POST',\n            body: log,\n            mode: 'no-cors'\n          });\n        }\n      } else {\n        // eslint-disable-next-line no-console\n        console[level](log);\n      }\n    } catch (err) {\n      // throw the error away\n    }\n  }\n\n  info(id: string, message = '') {\n    this.log('PHN_HEADER_LOG_ENTRY', LogLevel.INFO, id, message);\n  }\n\n  error(id: string, err: Error) {\n    const errorType = err instanceof NaviError ? err.type : NaviErrorTypes.GENERAL;\n    this.log('PHN_HEADER_LOG_ENTRY', LogLevel.ERROR, id, err.message, errorType);\n  }\n}\n\nexport default new Logger();\n","import { Environment, Environments, getEnvironment } from '../entities/environment';\nimport featureJson from '../feature-toggles.json';\nimport {\n  DEFAULT_ENVIRONMENT,\n  FEATURE_AB_TESTING,\n  FEATURE_DEALER_SEARCH_CHINA,\n  FEATURE_DEALER_SEARCH_OPENING_HOURS,\n  FEATURE_OVERRIDE_ENABLED,\n  FEATURE_PCOM_SEARCH,\n  FEATURE_SAVED_ITEMS,\n  FEATURE_SHOP\n} from '../utility/constants';\nimport { getConfig, isString } from '../utility/helper';\nimport { NaviError, NaviErrorTypes } from '../utility/navi-error';\nimport logger from './logger';\nimport windowService from './window-service';\n\ntype FeatureMap = { [featureName: string]: { enabled: boolean } };\n\nexport class FeatureToggles {\n  features: FeatureMap = {};\n  env: Environment = 'local';\n\n  constructor(\n    env = getEnvironment(DEFAULT_ENVIRONMENT),\n    private readonly featureEnvMap: { [env: string]: FeatureMap } = featureJson\n  ) {\n    this.env = env;\n    this.features = this.featureEnvMap[env];\n  }\n\n  private async loadRemoteToggles(): Promise<void> {\n    try {\n      const BFFEndpoint = getConfig(this.env).BFF_ENDPOINT;\n\n      const response = await fetch(`${BFFEndpoint}/toggles?env=${this.env}`);\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text);\n      }\n\n      const result = await response.json();\n\n      this.features = result;\n    } catch (err) {\n      throw new NaviError(`Load Feature Toggles failed with error: ${err}`, NaviErrorTypes.GENERAL);\n    }\n  }\n\n  private stringToBooleanStrict(value: string): boolean | null {\n    if (value === 'true') {\n      return true;\n    }\n    if (value === 'false') {\n      return false;\n    }\n    return null;\n  }\n\n  private getUrlFeatureToggleOverride(feature: string, searchString: string): boolean | null {\n    const queryValue = searchString\n      .split('?')[1]\n      ?.split('&')\n      .find((query) => query.includes(feature))\n      ?.split('=')[1];\n\n    return isString(queryValue) ? this.stringToBooleanStrict(queryValue || '') : null;\n  }\n\n  private getLocalStorageFeatureToggleOverride(feature: string): boolean | null {\n    const localStorageValue = localStorage.getItem(`phn.${feature}`);\n\n    return isString(localStorageValue) ? this.stringToBooleanStrict(localStorageValue) : null;\n  }\n\n  isFeatureEnabled(feature: string, searchString: string): boolean {\n    if (this.features === undefined) {\n      return false;\n    }\n\n    if (this.env === Environments.PRODUCTION && this.isOnSecurityLayer(feature)) {\n      return false;\n    }\n\n    if (this.features[FEATURE_OVERRIDE_ENABLED]?.enabled) {\n      const featureToggleOverrides = [\n        this.getUrlFeatureToggleOverride(feature, searchString),\n        this.getLocalStorageFeatureToggleOverride(feature)\n      ];\n\n      for (const featureToggleOverride of featureToggleOverrides) {\n        if (featureToggleOverride !== null) {\n          return featureToggleOverride;\n        }\n      }\n    }\n\n    if (this.features[feature] !== undefined) {\n      return this.features[feature].enabled;\n    } else {\n      return false;\n    }\n  }\n\n  async setFeatures(env: Environment): Promise<void> {\n    this.env = env;\n    try {\n      if (env === 'test') {\n        this.features = this.featureEnvMap[env];\n        return;\n      }\n      await this.loadRemoteToggles();\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      logger.error('INIT_APP_CONFIG', error);\n      this.features = this.featureEnvMap[env];\n    }\n  }\n\n  isOnSecurityLayer(feature: string): boolean {\n    const prodDisabledToggles = ['opening_hours'];\n    return prodDisabledToggles.includes(feature);\n  }\n\n  isShopToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_SHOP, windowService.location.search);\n  isPcomSearchToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_PCOM_SEARCH, windowService.location.search);\n  isSavedItemsToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_SAVED_ITEMS, windowService.location.search);\n  isABTestingToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_AB_TESTING, windowService.location.search);\n  isDealerSearchChinaEnabled = (): boolean =>\n    this.isFeatureEnabled(FEATURE_DEALER_SEARCH_CHINA, windowService.location.search);\n  isDealerSearchOpeningHoursEnabled = (): boolean =>\n    this.isFeatureEnabled(FEATURE_DEALER_SEARCH_OPENING_HOURS, windowService.location.search);\n}\n\nexport default new FeatureToggles();\n","/* istanbul ignore file */\n\nimport { breakpoint } from '@porsche-design-system/components-js/styles';\nimport { LatLong } from '../entities/places';\nimport { COOKIE_DOMAIN, MS_IN_MONTH } from '../utility/constants';\nimport {\n  camelToKebapCase,\n  getHTMLElement,\n  getString,\n  hasKey,\n  isString,\n  shallowCopySpecifiedAttributesWithDefault\n} from '../utility/helper';\nimport { NaviError, NaviErrorType, NaviErrorTypes } from '../utility/navi-error';\n\ntype CheckConsent = (args: {\n  processorId: string;\n  timeoutVar: Record<string, never>;\n  mapContainer: string;\n  callbacks: {\n    success: () => void;\n  };\n}) => void;\n\nexport type MarketingWindow = Window & {\n  GlobalConsent?: { Processor?: { googleMaps?: string } };\n  PCOM?: { globalConsent?: { checkConsent?: CheckConsent } };\n  ucPrivacyShield?: { checkConsent?: CheckConsent };\n};\n\nclass WindowService {\n  get location(): Location {\n    return window.location;\n  }\n\n  set location(newLocation: Location) {\n    window.location = newLocation;\n  }\n\n  get sessionStorage(): Storage {\n    return window.sessionStorage;\n  }\n\n  get localStorage(): Storage {\n    return window.localStorage;\n  }\n\n  set version(version: string) {\n    Object.assign(window, { PHN_HEADER_VERSION: version });\n  }\n\n  set navigationLoaded(loaded: boolean) {\n    Object.assign(window, { PHN_NAVIGATION_LOADED: loaded });\n  }\n\n  get bodyOverflow(): string {\n    return document.body.style.overflow;\n  }\n\n  get bodyHeight(): string {\n    return document.body.style.height;\n  }\n\n  requestAnimationFrame(callback: FrameRequestCallback): number {\n    return window.requestAnimationFrame(callback);\n  }\n\n  createDiv() {\n    return window.document.createElement('div');\n  }\n\n  getBreakpoint(): number {\n    const clientWidth = Math.max(window.document.documentElement.clientWidth, window.innerWidth || 0);\n\n    const matchingBreakpoint = Object.keys(breakpoint)\n      .reverse()\n      .find((foundBreakpoint) => hasKey(breakpoint, foundBreakpoint) && clientWidth >= breakpoint[foundBreakpoint]);\n\n    return typeof matchingBreakpoint === 'string' && hasKey(breakpoint, matchingBreakpoint)\n      ? breakpoint[matchingBreakpoint]\n      : 0;\n  }\n\n  get redirected(): boolean {\n    return (\n      (window as Window & { REDIRECTED?: boolean }).REDIRECTED === true ||\n      window.location.search.includes('cs_redirect=')\n    );\n  }\n\n  createIframe(id: string, src: string) {\n    const iframe = window.document.createElement('iframe');\n    iframe.id = id;\n    iframe.style.display = 'none';\n    iframe.src = src;\n\n    window.document.body.appendChild(iframe);\n  }\n\n  removeElement(id: string) {\n    window.document.getElementById(id)?.remove();\n  }\n\n  redirectToUrl(url: string) {\n    window.location.assign(url);\n  }\n\n  generateRandom(size: number): string {\n    const CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    const buffer = new Uint8Array(size);\n\n    window.crypto.getRandomValues(buffer);\n\n    const state: string[] = [];\n    for (let i = 0; i < buffer.byteLength; i += 1) {\n      const index = buffer[i] % CHARSET.length;\n      state.push(CHARSET[index]);\n    }\n\n    return state.join('');\n  }\n\n  /**\n   * site does NOT have consent mechanism -> consent NOT needed\n   * site does have consent mechanism + isConsentActive NOT exists -> consent NOT needed\n   * site does have consent mechanism + isConsentActive exists + isConsentActive -> consent needed\n   * site does have consent mechanism + NOT isConsentActive -> consent NOT needed\n   */\n\n  /**\n   * consent needed + consent given -> userConsent = true\n   * consent needed + consent NOT given -> userConsent = false\n   * consent NOT needed -> userConsent = true\n   */\n  maybeCheckMarketingConsent(handleSuccess: () => void): boolean {\n    const args = {\n      processorId: (window as MarketingWindow).GlobalConsent?.Processor?.googleMaps ?? 'Google Maps',\n      timeoutVar: {},\n      mapContainer: '',\n      callbacks: {\n        success: handleSuccess\n      }\n    };\n\n    if (typeof (window as MarketingWindow).PCOM?.globalConsent?.checkConsent === 'function') {\n      (window as MarketingWindow).PCOM?.globalConsent?.checkConsent?.(args);\n      return true;\n    }\n\n    if (typeof (window as MarketingWindow).ucPrivacyShield?.checkConsent === 'function') {\n      (window as MarketingWindow).ucPrivacyShield?.checkConsent?.(args);\n      return true;\n    }\n\n    handleSuccess();\n    return false;\n  }\n\n  async deriveChallenge(code: string): Promise<string> {\n    if (code.length < 43 || code.length > 128) {\n      throw new NaviError('invalid code length', NaviErrorTypes.INVALID_INPUT);\n    }\n\n    const buf = new ArrayBuffer(code.length);\n    const bufView = new Uint8Array(buf);\n\n    for (let i = 0; i < code.length; i++) {\n      bufView[i] = code.charCodeAt(i);\n    }\n\n    const buffer = await window.crypto.subtle.digest('SHA-256', bufView);\n\n    const bytes = new Uint8Array(buffer);\n\n    let binary = '';\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n\n    return window.btoa(binary).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n  }\n\n  async hashString(text: string): Promise<string> {\n    const msgUint8 = new TextEncoder().encode(text);\n    const hashBuffer = await window.crypto.subtle.digest('SHA-256', msgUint8);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n  }\n\n  getScrollbarWidth(): string {\n    const scrollDiv = window.document.createElement('div');\n    scrollDiv.style.overflow = 'scroll';\n    window.document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    window.document.body.removeChild(scrollDiv);\n\n    return Number.isNaN(scrollbarWidth) ? '0px' : `${scrollbarWidth}px`;\n  }\n\n  async fetchGoogleMapsApi(\n    apiKey: string,\n    url = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`\n  ): Promise<typeof google> {\n    if (window.google !== undefined && window.google.maps !== undefined && window.google.maps.version !== undefined) {\n      return window.google;\n    }\n\n    const existingScript = document.getElementById('googleMaps'); // -> Current name?!\n\n    if (existingScript) {\n      return window.google;\n    }\n\n    const script = document.createElement('script');\n    script.src = url;\n    script.id = 'googleMaps';\n    document.head.appendChild(script);\n\n    return new Promise((resolve, reject) => {\n      script.onerror = () => {\n        reject(new NaviError('Failed to load google maps script.', NaviErrorTypes.GENERAL));\n      };\n      script.onload = () => {\n        resolve(window.google);\n      };\n    });\n  }\n\n  async getNavigatorLatLong(): Promise<LatLong> {\n    return new Promise((resolve, reject) => {\n      window.navigator.geolocation.getCurrentPosition(\n        ({ coords: { latitude, longitude } }) => {\n          resolve({ latitude, longitude });\n        },\n        (error) =>\n          reject(\n            new NaviError(\n              `geolocation.getCurrentPosition failed with ${error.code}: ${error.message}`,\n              getErrorType(error)\n            )\n          )\n      );\n    });\n  }\n\n  getCookie(cookieName: string): string {\n    return getString(\n      document.cookie\n        .split('; ')\n        .find((row) => row.startsWith(`${cookieName}=`))\n        ?.split('=')[1]\n    );\n  }\n\n  setCookie(cookieName: string, newValue: string): void {\n    document.cookie = `${cookieName}=${newValue};domain=${COOKIE_DOMAIN};expires=${new Date(\n      Date.now() + MS_IN_MONTH * 10\n    ).toUTCString()};`;\n  }\n\n  btoa(data: string) {\n    return window.btoa(data);\n  }\n\n  private initialBodyStyleValues = {\n    top: '',\n    position: '',\n    inlineSize: '',\n    overflowY: ''\n  } as const;\n  private initialDocumentScrollTop = 0;\n\n  lockScroll() {\n    this.initialBodyStyleValues = shallowCopySpecifiedAttributesWithDefault(\n      document.body.style,\n      this.initialBodyStyleValues\n    );\n    this.initialDocumentScrollTop = document.documentElement.scrollTop;\n\n    document.body.style.top = `-${document.documentElement.scrollTop}px`;\n    document.body.style.position = 'fixed';\n    document.body.style.inlineSize = '100%';\n    document.body.style.overflowY = 'scroll';\n  }\n\n  unlockScroll() {\n    Object.entries(this.initialBodyStyleValues).forEach(([key, value]) =>\n      document.body.style.setProperty(camelToKebapCase(key), value)\n    );\n\n    document.documentElement.scrollTop = this.initialDocumentScrollTop;\n  }\n\n  hasScrollbar(): boolean {\n    return window.document.body.offsetHeight > window.innerHeight;\n  }\n\n  async waitForElement(parent: HTMLElement, selector?: string): Promise<HTMLElement> {\n    if (!isString(selector)) {\n      return parent;\n    }\n\n    const el = getHTMLElement(parent.querySelector(selector));\n    if (el !== null) {\n      return el;\n    }\n    return new Promise((resolve) => {\n      const observer = new MutationObserver(() => {\n        const newEl = getHTMLElement(parent.querySelector(selector));\n        if (newEl !== null) {\n          resolve(newEl);\n          observer.disconnect();\n        }\n      });\n\n      observer.observe(parent, { childList: true, subtree: true });\n    });\n  }\n}\n\ninterface GeolocationPositionError {\n  code: number;\n  message: string;\n  PERMISSION_DENIED: number;\n  POSITION_UNAVAILABLE: number;\n  TIMEOUT: number;\n}\n\nexport function getErrorType(error: GeolocationPositionError): NaviErrorType {\n  switch (error.code) {\n    case error.PERMISSION_DENIED: {\n      return NaviErrorTypes.GEOLOCATION_DENIED;\n    }\n    case error.POSITION_UNAVAILABLE:\n    case error.TIMEOUT: {\n      return NaviErrorTypes.RETRY;\n    }\n    default: {\n      return NaviErrorTypes.GENERAL;\n    }\n  }\n}\n\nexport default new WindowService();\n"],"names":["FEATURE_PORSCHE_75_YEARS_LOGO","logger","e","env","version","VERSION","breakpoint","locale","prototype","init","r","t","this","log","n","a","Environments","TEST","o","JSON","stringify","name","level","hostname","windowService","location","pathname","id","errorType","message","PRODUCTION","fetch","method","body","mode","console","info","error","NaviError","type","NaviErrorTypes","GENERAL","featureToggles","getEnvironment","DEFAULT_ENVIRONMENT","featureJson","featureEnvMap","features","isShopToggleActive","isFeatureEnabled","search","isPcomSearchToggleActive","isSavedItemsToggleActive","isABTestingToggleActive","isDealerSearchChinaEnabled","isDealerSearchOpeningHoursEnabled","loadRemoteToggles","getConfig","BFF_ENDPOINT","concat","sent","ok","text","Error","json","stringToBooleanStrict","getUrlFeatureToggleOverride","split","find","includes","isString","getLocalStorageFeatureToggleOverride","localStorage","getItem","undefined","isOnSecurityLayer","enabled","length","i","setFeatures","initialBodyStyleValues","top","position","inlineSize","overflowY","initialDocumentScrollTop","Object","defineProperty","window","sessionStorage","assign","PHN_HEADER_VERSION","PHN_NAVIGATION_LOADED","document","style","overflow","height","requestAnimationFrame","createDiv","createElement","getBreakpoint","Math","max","documentElement","clientWidth","innerWidth","keys","reverse","hasKey","REDIRECTED","createIframe","display","src","appendChild","removeElement","getElementById","remove","redirectToUrl","generateRandom","Uint8Array","crypto","getRandomValues","byteLength","push","join","maybeCheckMarketingConsent","p","processorId","GlobalConsent","Processor","googleMaps","timeoutVar","mapContainer","callbacks","success","PCOM","globalConsent","checkConsent","l","c","call","u","ucPrivacyShield","s","d","deriveChallenge","INVALID_INPUT","ArrayBuffer","charCodeAt","subtle","digest","String","fromCharCode","btoa","replace","hashString","TextEncoder","encode","Array","from","map","toString","padStart","getScrollbarWidth","offsetWidth","removeChild","Number","isNaN","fetchGoogleMapsApi","google","maps","head","Promise","onerror","onload","getNavigatorLatLong","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","code","PERMISSION_DENIED","GEOLOCATION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","RETRY","getErrorType","getCookie","getString","cookie","startsWith","setCookie","COOKIE_DOMAIN","Date","now","MS_IN_MONTH","toUTCString","lockScroll","shallowCopySpecifiedAttributesWithDefault","scrollTop","unlockScroll","entries","forEach","setProperty","camelToKebapCase","hasScrollbar","offsetHeight","innerHeight","waitForElement","getHTMLElement","querySelector","MutationObserver","disconnect","observe","childList","subtree"],"sourceRoot":""}