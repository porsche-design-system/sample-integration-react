{"version":3,"file":"static/js/9980.dddc8c07.chunk.js","mappings":"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","sources":["../node_modules/@porschehn/navigation/dist/esm-es5/src/utility/constants/feature-toggles.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/window-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/logger.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/feature-toggles.ts"],"sourcesContent":["export const FEATURE_OVERRIDE_ENABLED = 'featureOverrideEnabled';\nexport const FEATURE_PORSCHE_75_YEARS_LOGO = 'porsche_75_years_logo';\nexport const FEATURE_SHOP = 'shop';\nexport const FEATURE_PCOM_SEARCH = 'pcom_search';\nexport const FEATURE_SAVED_ITEMS = 'saved_items';\nexport const FEATURE_AB_TESTING = 'ab';\n\nexport const FEATURE_DEALER_SEARCH_CHINA = 'dealer_search_china';\nexport const FEATURE_DEALER_SEARCH_OPENING_HOURS = 'opening_hours';\nexport const FEATURE_SENTRY = 'sentry';\nexport const FEATURE_SHOP_WISHLIST = 'shop_wishlist';\n","/* istanbul ignore file */\n\nimport { breakpoint } from '@porsche-design-system/components-js/styles';\nimport { LatLong } from '../entities/places';\nimport { COOKIE_DOMAIN, MS_IN_MONTH } from '../utility/constants';\nimport {\n  camelToKebapCase,\n  getHTMLElement,\n  getString,\n  hasKey,\n  isString,\n  shallowCopySpecifiedAttributesWithDefault\n} from '../utility/helper';\nimport { NaviError, NaviErrorType, NaviErrorTypes } from '../utility/navi-error';\n\ntype CheckConsent = (args: {\n  processorId: string;\n  timeoutVar: Record<string, never>;\n  mapContainer: string;\n  callbacks: {\n    success: () => void;\n  };\n}) => void;\n\nexport type MarketingWindow = Window & {\n  GlobalConsent?: { Processor?: { googleMaps?: string } };\n  PCOM?: { globalConsent?: { checkConsent?: CheckConsent } };\n  ucPrivacyShield?: { checkConsent?: CheckConsent };\n};\n\nclass WindowService {\n  get location(): Location {\n    return window.location;\n  }\n\n  set location(newLocation: Location) {\n    window.location = newLocation;\n  }\n\n  get sessionStorage(): Storage {\n    return window.sessionStorage;\n  }\n\n  get localStorage(): Storage {\n    return window.localStorage;\n  }\n\n  set version(version: string) {\n    Object.assign(window, { PHN_HEADER_VERSION: version });\n  }\n\n  set navigationLoaded(loaded: boolean) {\n    Object.assign(window, { PHN_NAVIGATION_LOADED: loaded });\n  }\n\n  get bodyOverflow(): string {\n    return document.body.style.overflow;\n  }\n\n  get bodyHeight(): string {\n    return document.body.style.height;\n  }\n\n  requestAnimationFrame(callback: FrameRequestCallback): number {\n    return window.requestAnimationFrame(callback);\n  }\n\n  createDiv() {\n    return window.document.createElement('div');\n  }\n\n  getBreakpoint(): number {\n    const clientWidth = Math.max(window.document.documentElement.clientWidth, window.innerWidth || 0);\n\n    const matchingBreakpoint = Object.keys(breakpoint)\n      .reverse()\n      .find((foundBreakpoint) => hasKey(breakpoint, foundBreakpoint) && clientWidth >= breakpoint[foundBreakpoint]);\n\n    return typeof matchingBreakpoint === 'string' && hasKey(breakpoint, matchingBreakpoint)\n      ? breakpoint[matchingBreakpoint]\n      : 0;\n  }\n\n  get redirected(): boolean {\n    return (\n      (window as Window & { REDIRECTED?: boolean }).REDIRECTED === true ||\n      window.location.search.includes('cs_redirect=')\n    );\n  }\n\n  createIframe(id: string, src: string) {\n    const iframe = window.document.createElement('iframe');\n    iframe.id = id;\n    iframe.style.display = 'none';\n    iframe.src = src;\n\n    window.document.body.appendChild(iframe);\n  }\n\n  removeElement(id: string) {\n    window.document.getElementById(id)?.remove();\n  }\n\n  redirectToUrl(url: string) {\n    window.location.assign(url);\n  }\n\n  generateRandom(size: number): string {\n    const CHARSET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n\n    const buffer = new Uint8Array(size);\n\n    window.crypto.getRandomValues(buffer);\n\n    const state: string[] = [];\n    for (let i = 0; i < buffer.byteLength; i += 1) {\n      const index = buffer[i] % CHARSET.length;\n      state.push(CHARSET[index]);\n    }\n\n    return state.join('');\n  }\n\n  /**\n   * site does NOT have consent mechanism -> consent NOT needed\n   * site does have consent mechanism + isConsentActive NOT exists -> consent NOT needed\n   * site does have consent mechanism + isConsentActive exists + isConsentActive -> consent needed\n   * site does have consent mechanism + NOT isConsentActive -> consent NOT needed\n   */\n\n  /**\n   * consent needed + consent given -> userConsent = true\n   * consent needed + consent NOT given -> userConsent = false\n   * consent NOT needed -> userConsent = true\n   */\n  maybeCheckMarketingConsent(handleSuccess: () => void): boolean {\n    const args = {\n      processorId: (window as MarketingWindow).GlobalConsent?.Processor?.googleMaps ?? 'Google Maps',\n      timeoutVar: {},\n      mapContainer: '',\n      callbacks: {\n        success: handleSuccess\n      }\n    };\n\n    if (typeof (window as MarketingWindow).PCOM?.globalConsent?.checkConsent === 'function') {\n      (window as MarketingWindow).PCOM?.globalConsent?.checkConsent?.(args);\n      return true;\n    }\n\n    if (typeof (window as MarketingWindow).ucPrivacyShield?.checkConsent === 'function') {\n      (window as MarketingWindow).ucPrivacyShield?.checkConsent?.(args);\n      return true;\n    }\n\n    handleSuccess();\n    return false;\n  }\n\n  async deriveChallenge(code: string): Promise<string> {\n    if (code.length < 43 || code.length > 128) {\n      throw new NaviError('invalid code length', NaviErrorTypes.INVALID_INPUT);\n    }\n\n    const buf = new ArrayBuffer(code.length);\n    const bufView = new Uint8Array(buf);\n\n    for (let i = 0; i < code.length; i++) {\n      bufView[i] = code.charCodeAt(i);\n    }\n\n    const buffer = await window.crypto.subtle.digest('SHA-256', bufView);\n\n    const bytes = new Uint8Array(buffer);\n\n    let binary = '';\n    for (let i = 0; i < bytes.byteLength; i++) {\n      binary += String.fromCharCode(bytes[i]);\n    }\n\n    return window.btoa(binary).replace(/\\+/g, '-').replace(/\\//g, '_').replace(/=/g, '');\n  }\n\n  async hashString(text: string): Promise<string> {\n    const msgUint8 = new TextEncoder().encode(text);\n    const hashBuffer = await window.crypto.subtle.digest('SHA-256', msgUint8);\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\n    return hashArray.map((b) => b.toString(16).padStart(2, '0')).join('');\n  }\n\n  getScrollbarWidth(): string {\n    const scrollDiv = window.document.createElement('div');\n    scrollDiv.style.overflow = 'scroll';\n    window.document.body.appendChild(scrollDiv);\n    const scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n    window.document.body.removeChild(scrollDiv);\n\n    return Number.isNaN(scrollbarWidth) ? '0px' : `${scrollbarWidth}px`;\n  }\n\n  async fetchGoogleMapsApi(\n    apiKey: string,\n    url = `https://maps.googleapis.com/maps/api/js?key=${apiKey}&libraries=places`\n  ): Promise<typeof google> {\n    if (window.google !== undefined && window.google.maps !== undefined && window.google.maps.version !== undefined) {\n      return window.google;\n    }\n\n    const existingScript = document.getElementById('googleMaps'); // -> Current name?!\n\n    if (existingScript) {\n      return window.google;\n    }\n\n    const script = document.createElement('script');\n    script.src = url;\n    script.id = 'googleMaps';\n    document.head.appendChild(script);\n\n    return new Promise((resolve, reject) => {\n      script.onerror = () => {\n        reject(new NaviError('Failed to load google maps script.', NaviErrorTypes.GENERAL));\n      };\n      script.onload = () => {\n        resolve(window.google);\n      };\n    });\n  }\n\n  async getNavigatorLatLong(): Promise<LatLong> {\n    return new Promise((resolve, reject) => {\n      window.navigator.geolocation.getCurrentPosition(\n        ({ coords: { latitude, longitude } }) => {\n          resolve({ latitude, longitude });\n        },\n        (error) =>\n          reject(\n            new NaviError(\n              `geolocation.getCurrentPosition failed with ${error.code}: ${error.message}`,\n              getErrorType(error)\n            )\n          )\n      );\n    });\n  }\n\n  getCookie(cookieName: string): string {\n    return getString(\n      document.cookie\n        .split('; ')\n        .find((row) => row.startsWith(`${cookieName}=`))\n        ?.split('=')[1]\n    );\n  }\n\n  setCookie(cookieName: string, newValue: string): void {\n    document.cookie = `${cookieName}=${newValue};domain=${COOKIE_DOMAIN};expires=${new Date(\n      Date.now() + MS_IN_MONTH * 10\n    ).toUTCString()};`;\n  }\n\n  btoa(data: string) {\n    return window.btoa(data);\n  }\n\n  private initialBodyStyleValues = {\n    top: '',\n    position: '',\n    inlineSize: '',\n    overflowY: ''\n  } as const;\n  private initialDocumentScrollTop = 0;\n\n  lockScroll() {\n    this.initialBodyStyleValues = shallowCopySpecifiedAttributesWithDefault(\n      document.body.style,\n      this.initialBodyStyleValues\n    );\n    this.initialDocumentScrollTop = document.documentElement.scrollTop;\n\n    document.body.style.top = `-${document.documentElement.scrollTop}px`;\n    document.body.style.position = 'fixed';\n    document.body.style.inlineSize = '100%';\n    document.body.style.overflowY = 'scroll';\n  }\n\n  unlockScroll() {\n    Object.entries(this.initialBodyStyleValues).forEach(([key, value]) =>\n      document.body.style.setProperty(camelToKebapCase(key), value)\n    );\n\n    document.documentElement.scrollTop = this.initialDocumentScrollTop;\n  }\n\n  hasScrollbar(): boolean {\n    return window.document.body.offsetHeight > window.innerHeight;\n  }\n\n  async waitForElement(parent: HTMLElement, selector?: string): Promise<HTMLElement> {\n    if (!isString(selector)) {\n      return parent;\n    }\n\n    const el = getHTMLElement(parent.querySelector(selector));\n    if (el !== null) {\n      return el;\n    }\n    return new Promise((resolve) => {\n      const observer = new MutationObserver(() => {\n        const newEl = getHTMLElement(parent.querySelector(selector));\n        if (newEl !== null) {\n          resolve(newEl);\n          observer.disconnect();\n        }\n      });\n\n      observer.observe(parent, { childList: true, subtree: true });\n    });\n  }\n}\n\ninterface GeolocationPositionError {\n  code: number;\n  message: string;\n  PERMISSION_DENIED: number;\n  POSITION_UNAVAILABLE: number;\n  TIMEOUT: number;\n}\n\nexport function getErrorType(error: GeolocationPositionError): NaviErrorType {\n  switch (error.code) {\n    case error.PERMISSION_DENIED: {\n      return NaviErrorTypes.GEOLOCATION_DENIED;\n    }\n    case error.POSITION_UNAVAILABLE:\n    case error.TIMEOUT: {\n      return NaviErrorTypes.RETRY;\n    }\n    default: {\n      return NaviErrorTypes.GENERAL;\n    }\n  }\n}\n\nexport default new WindowService();\n","import { Environments } from '../entities/environment';\nimport { VERSION } from '../utility/constants';\nimport { NaviError, NaviErrorType, NaviErrorTypes } from '../utility/navi-error';\nimport windowService from './window-service';\n// import { captureNaviException } from './monitoring';\nimport { navStateStore } from '../state/nav-state-store';\n\nexport const LOGGING_ENDPOINT = 'https://logs.nav.porsche.com';\n\nconst enum LogLevel {\n  DEBUG = 'debug',\n  INFO = 'info',\n  ERROR = 'error'\n}\n\nclass Logger {\n  private version = VERSION;\n  private breakpoint = 0;\n  private locale: string | null = null;\n\n  init(_: number, locale: string) {\n    this.breakpoint = windowService.getBreakpoint();\n    this.locale = locale;\n  }\n\n  private log(logName: string, level: LogLevel, id: string, message: string, errorType?: NaviErrorType) {\n    const { env } = navStateStore.state;\n    if (env === Environments.TEST) {\n      return;\n    }\n\n    try {\n      const log = JSON.stringify({\n        name: logName,\n        level: level,\n        env: env,\n        breakpoint: this.breakpoint,\n        locale: this.locale,\n        version: this.version,\n        hostname: windowService.location.hostname,\n        pathname: windowService.location.pathname,\n        id,\n        errorType: errorType || '',\n        message\n      });\n\n      if (env !== Environments.PRODUCTION) {\n        // eslint-disable-next-line no-console\n        console[level](log);\n      }\n      // eslint-disable-next-line no-empty\n    } catch (err) {}\n  }\n\n  info(id: string, message = '') {\n    this.log('PHN_HEADER_LOG_ENTRY', LogLevel.INFO, id, message);\n  }\n\n  error(id: string, err: Error) {\n    const errorType = err instanceof NaviError ? err.type : NaviErrorTypes.GENERAL;\n    this.log('PHN_HEADER_LOG_ENTRY', LogLevel.ERROR, id, err.message, errorType);\n    // captureNaviException(err, { breakpoint: this.breakpoint, locale: this.locale });\n  }\n}\n\nexport default new Logger();\n","import { Environment, Environments, getEnvironment } from '../entities/environment';\nimport featureJson from '../feature-toggles.json';\nimport {\n  DEFAULT_ENVIRONMENT,\n  FEATURE_AB_TESTING,\n  FEATURE_DEALER_SEARCH_CHINA,\n  FEATURE_DEALER_SEARCH_OPENING_HOURS,\n  FEATURE_OVERRIDE_ENABLED,\n  FEATURE_PCOM_SEARCH,\n  FEATURE_SAVED_ITEMS,\n  FEATURE_SENTRY,\n  FEATURE_SHOP,\n  FEATURE_SHOP_WISHLIST\n} from '../utility/constants';\nimport { getConfig, isString } from '../utility/helper';\nimport { NaviError, NaviErrorTypes } from '../utility/navi-error';\nimport logger from './logger';\nimport windowService from './window-service';\n\ntype FeatureMap = { [featureName: string]: { enabled: boolean } };\n\nexport class FeatureToggles {\n  features: FeatureMap = {};\n  env: Environment = 'local';\n\n  constructor(\n    env = getEnvironment(DEFAULT_ENVIRONMENT),\n    private readonly featureEnvMap: { [env: string]: FeatureMap } = featureJson\n  ) {\n    this.env = env;\n    this.features = this.featureEnvMap[env];\n  }\n\n  private async loadRemoteToggles(): Promise<void> {\n    try {\n      const BFFEndpoint = getConfig(this.env).BFF_ENDPOINT;\n\n      const response = await fetch(`${BFFEndpoint}/toggles?env=${this.env}`);\n\n      if (!response.ok) {\n        const text = await response.text();\n        throw new Error(text);\n      }\n\n      const result = await response.json();\n\n      this.features = result;\n    } catch (err) {\n      throw new NaviError(`Load Feature Toggles failed with error: ${err}`, NaviErrorTypes.GENERAL);\n    }\n  }\n\n  private stringToBooleanStrict(value: string): boolean | null {\n    if (value === 'true') {\n      return true;\n    }\n    if (value === 'false') {\n      return false;\n    }\n    return null;\n  }\n\n  private getUrlFeatureToggleOverride(feature: string, searchString: string): boolean | null {\n    const queryValue = searchString\n      .split('?')[1]\n      ?.split('&')\n      .find((query) => query.includes(feature))\n      ?.split('=')[1];\n\n    return isString(queryValue) ? this.stringToBooleanStrict(queryValue || '') : null;\n  }\n\n  private getLocalStorageFeatureToggleOverride(feature: string): boolean | null {\n    const localStorageValue = localStorage.getItem(`phn.${feature}`);\n\n    return isString(localStorageValue) ? this.stringToBooleanStrict(localStorageValue) : null;\n  }\n\n  isFeatureEnabled(feature: string, searchString: string): boolean {\n    if (this.features === undefined) {\n      return false;\n    }\n\n    if (this.env === Environments.PRODUCTION && this.isOnSecurityLayer(feature)) {\n      return false;\n    }\n\n    if (this.features[FEATURE_OVERRIDE_ENABLED]?.enabled) {\n      const featureToggleOverrides = [\n        this.getUrlFeatureToggleOverride(feature, searchString),\n        this.getLocalStorageFeatureToggleOverride(feature)\n      ];\n\n      for (const featureToggleOverride of featureToggleOverrides) {\n        if (featureToggleOverride !== null) {\n          return featureToggleOverride;\n        }\n      }\n    }\n\n    if (this.features[feature] !== undefined) {\n      return this.features[feature].enabled;\n    } else {\n      return false;\n    }\n  }\n\n  async setFeatures(env: Environment): Promise<void> {\n    this.env = env;\n    try {\n      if (env === 'test') {\n        this.features = this.featureEnvMap[env];\n        return;\n      }\n      await this.loadRemoteToggles();\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    } catch (error: any) {\n      logger.error('INIT_APP_CONFIG', error);\n      this.features = this.featureEnvMap[env];\n    }\n  }\n\n  isOnSecurityLayer(feature: string): boolean {\n    const prodDisabledToggles = [FEATURE_SENTRY, FEATURE_DEALER_SEARCH_OPENING_HOURS];\n    return prodDisabledToggles.includes(feature);\n  }\n\n  isShopToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_SHOP, windowService.location.search);\n  isPcomSearchToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_PCOM_SEARCH, windowService.location.search);\n  isSavedItemsToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_SAVED_ITEMS, windowService.location.search);\n  isABTestingToggleActive = (): boolean => this.isFeatureEnabled(FEATURE_AB_TESTING, windowService.location.search);\n  isDealerSearchChinaEnabled = (): boolean =>\n    this.isFeatureEnabled(FEATURE_DEALER_SEARCH_CHINA, windowService.location.search);\n  isDealerSearchOpeningHoursEnabled = (): boolean =>\n    this.isFeatureEnabled(FEATURE_DEALER_SEARCH_OPENING_HOURS, windowService.location.search);\n  isSentryEnabled = (): boolean => this.isFeatureEnabled(FEATURE_SENTRY, windowService.location.search);\n  isShopWishlistToggleActive = (): boolean =>\n    this.isFeatureEnabled(FEATURE_SHOP_WISHLIST, windowService.location.search);\n}\n\nexport default new FeatureToggles();\n"],"names":["FEATURE_DEALER_SEARCH_OPENING_HOURS","FEATURE_SENTRY","windowService","e","initialBodyStyleValues","top","position","inlineSize","overflowY","initialDocumentScrollTop","Object","defineProperty","prototype","window","location","sessionStorage","localStorage","assign","PHN_HEADER_VERSION","PHN_NAVIGATION_LOADED","document","body","style","overflow","height","requestAnimationFrame","createDiv","createElement","getBreakpoint","Math","max","documentElement","clientWidth","innerWidth","t","keys","breakpoint","reverse","find","hasKey","REDIRECTED","search","includes","createIframe","n","id","display","src","appendChild","removeElement","getElementById","remove","redirectToUrl","generateRandom","Uint8Array","crypto","getRandomValues","o","r","byteLength","i","push","join","maybeCheckMarketingConsent","f","processorId","GlobalConsent","Processor","googleMaps","timeoutVar","mapContainer","callbacks","success","PCOM","globalConsent","checkConsent","l","s","a","call","c","ucPrivacyShield","d","u","deriveChallenge","length","NaviError","NaviErrorTypes","INVALID_INPUT","ArrayBuffer","charCodeAt","subtle","digest","sent","String","fromCharCode","btoa","replace","hashString","TextEncoder","encode","Array","from","map","toString","padStart","getScrollbarWidth","offsetWidth","removeChild","Number","isNaN","concat","fetchGoogleMapsApi","undefined","google","maps","version","head","Promise","onerror","GENERAL","onload","getNavigatorLatLong","navigator","geolocation","getCurrentPosition","coords","latitude","longitude","code","message","PERMISSION_DENIED","GEOLOCATION_DENIED","POSITION_UNAVAILABLE","TIMEOUT","RETRY","getErrorType","getCookie","getString","cookie","split","startsWith","setCookie","COOKIE_DOMAIN","Date","now","MS_IN_MONTH","toUTCString","lockScroll","this","shallowCopySpecifiedAttributesWithDefault","scrollTop","unlockScroll","entries","forEach","setProperty","camelToKebapCase","hasScrollbar","offsetHeight","innerHeight","waitForElement","isString","getHTMLElement","querySelector","MutationObserver","disconnect","observe","childList","subtree","logger","VERSION","locale","init","log","navStateStore","state","env","Environments","TEST","JSON","stringify","name","level","hostname","pathname","errorType","PRODUCTION","console","info","error","type","featureToggles","getEnvironment","DEFAULT_ENVIRONMENT","featureJson","featureEnvMap","features","isShopToggleActive","isFeatureEnabled","isPcomSearchToggleActive","isSavedItemsToggleActive","isABTestingToggleActive","isDealerSearchChinaEnabled","isDealerSearchOpeningHoursEnabled","isSentryEnabled","isShopWishlistToggleActive","loadRemoteToggles","getConfig","BFF_ENDPOINT","fetch","ok","text","Error","json","stringToBooleanStrict","getUrlFeatureToggleOverride","getLocalStorageFeatureToggleOverride","getItem","isOnSecurityLayer","enabled","setFeatures"],"sourceRoot":""}