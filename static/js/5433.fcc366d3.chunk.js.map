{"version":3,"file":"static/js/5433.fcc366d3.chunk.js","mappings":"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","sources":["../node_modules/@porschehn/navigation/dist/esm-es5/src/services/analytics/analytics-manager.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/animations/animation-manager.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/utility/constants/animations.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/double-drawer-animation-sequences.ts","../node_modules/@porschehn/navigation/dist/esm-es5/node_modules/@porsche/globaldatalayer/dist/GlobalDataLayer.es.js","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/analytics/global-data-layer-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/helper.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/main-drawer-content.tsx","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/side-drawer-content.tsx","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/double-drawer.tsx","../node_modules/@porschehn/navigation/dist/esm-es5/src/components/double-drawer/double-drawer.scss?tag=phn-double-drawer&encapsulation=scoped","../node_modules/@porschehn/navigation/dist/esm-es5/src/state/router-store.ts"],"sourcesContent":["import { BodyType } from '../../entities/content';\nimport { determineMainDrawerLevel, getLastRoutingSegment, getPreviousRoutingKey } from '../../entities/routing-key';\nimport { routerStore } from '../../state/router-store';\nimport { DEALER_SEARCH_ELEMENT_TYPE, DisplayElementType, ElementType, ElementTypes } from '../../utility/constants';\nimport { isString } from '../../utility/helper';\nimport { getSideDrawerRoutingKey } from '../menu-items-service';\n\nconst state: {\n  drawerType?: DisplayElementType;\n  elementType?: ElementType;\n} = {};\n\nfunction setDrawerType(drawerType: DisplayElementType): void {\n  state.drawerType = drawerType;\n}\n\nfunction calculateDisplayElementId(routingKeyForNavigatingForward?: string): string {\n  const { drawerType } = state;\n  const mainDrawerRoutingKey =\n    (isString(routingKeyForNavigatingForward)\n      ? getPreviousRoutingKey(routingKeyForNavigatingForward)\n      : routerStore.state.routingKeyHistory[routerStore.state.routingKeyPointer]) || '';\n  const lastMainDrawerRoutingKey = getLastRoutingSegment(mainDrawerRoutingKey);\n  const mainDrawerLevel = determineMainDrawerLevel(mainDrawerRoutingKey);\n  const sideDrawerLevel = mainDrawerLevel - 1;\n\n  if (!isString(mainDrawerRoutingKey)) {\n    return 'level0';\n  }\n\n  const mainDrawerDisplayElementId = isString(mainDrawerRoutingKey)\n    ? `level${mainDrawerLevel}-${lastMainDrawerRoutingKey}`\n    : `level${mainDrawerLevel - 1}-unknown`;\n\n  if (drawerType === 'doubleDrawer') {\n    if (mainDrawerRoutingKey === '') {\n      return `level${sideDrawerLevel}-unknown_level${mainDrawerLevel}-unknown`;\n    }\n    const sideDrawerRoutingKey = getSideDrawerRoutingKey(mainDrawerRoutingKey);\n    return `level${sideDrawerLevel}-${sideDrawerRoutingKey}_${mainDrawerDisplayElementId}`;\n  }\n\n  return mainDrawerDisplayElementId;\n}\n\nfunction calculateDisplayElementType(\n  activeRoutingKey: string,\n  elementType: ElementType,\n  isSideDrawer?: boolean\n): string {\n  const { drawerType } = state;\n  const mainDrawerLevel = determineMainDrawerLevel(activeRoutingKey);\n\n  if (drawerType === 'doubleDrawer') {\n    let sideDrawerLevel = mainDrawerLevel;\n    if (isSideDrawer) {\n      sideDrawerLevel = sideDrawerLevel - 1;\n    }\n    return `level${sideDrawerLevel}_${elementType}`;\n  } else {\n    return isString(activeRoutingKey)\n      ? `level${mainDrawerLevel}_${elementType}`\n      : `level${mainDrawerLevel - 1}_${elementType}`;\n  }\n}\n\nfunction getModelName(bodyType: BodyType): string {\n  const urlSplitIntoPieces: string[] = bodyType.link.split('/');\n  const lastElementInUrlSplit: string = urlSplitIntoPieces[urlSplitIntoPieces.length - 1];\n  let modelName: string;\n\n  if (lastElementInUrlSplit === '') {\n    if (urlSplitIntoPieces[urlSplitIntoPieces.length - 2] === undefined) {\n      modelName = '';\n    } else {\n      modelName = urlSplitIntoPieces[urlSplitIntoPieces.length - 2].split('-').join(' ');\n    }\n  } else {\n    modelName = lastElementInUrlSplit.split('-').join(' ');\n  }\n\n  return modelName;\n}\n\nfunction getModelTargetElement(elementId: string, text: string): string | undefined {\n  if (elementId.includes('models')) {\n    const mainDrawerLevel = determineMainDrawerLevel(elementId);\n\n    return `level${mainDrawerLevel}_${text.toLowerCase()}`;\n  }\n\n  return;\n}\n\nfunction getDrawerType() {\n  return state.drawerType;\n}\n\nfunction getDealerResultsLoadDisplayElementId(elementId: string): string {\n  if (getDrawerType() === 'doubleDrawer') {\n    return elementId;\n  } else {\n    return calculateDisplayElementId();\n  }\n}\n\nfunction getDealerResultsLoadDisplayElementType(): string {\n  if (getDrawerType() === 'doubleDrawer') {\n    return DEALER_SEARCH_ELEMENT_TYPE;\n  } else {\n    return calculateDisplayElementType('', ElementTypes.dealerSearchForm);\n  }\n}\n\nexport default {\n  setDrawerType,\n  getDealerResultsLoadDisplayElementId,\n  calculateDisplayElementId,\n  getDealerResultsLoadDisplayElementType,\n  calculateDisplayElementType,\n  getModelName,\n  getModelTargetElement\n};\n","import { AnimationSequencesType } from '../../utility/constants';\nimport { getHTMLElement, isPromise } from '../../utility/helper';\n\nexport type AnimationStartsCallbacks = {\n  onAnimationStarts?: (() => Promise<unknown>) | (() => void);\n};\n\nexport type AnimationEndsCallbacks = {\n  onAnimationEnds?: (() => Promise<unknown>) | (() => void);\n};\n\nexport type AnimationStatusCallbacks = AnimationStartsCallbacks & AnimationEndsCallbacks;\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nexport type SequenceIdentifier = AnimationSequencesType | (string & {});\n\nexport interface NaviAnimation {\n  animation: AnimationGeneratorType;\n  elementSelector: string;\n  onStart?: (() => Promise<unknown>) | (() => unknown);\n  onEnd?: (() => Promise<unknown>) | (() => unknown);\n}\n\nexport type SequenceStep = Array<NaviAnimation>;\n\nexport type AnimationSequence = {\n  steps: Array<SequenceStep>;\n  currentStepIndex: number;\n  running: boolean;\n  resolve?: (value: unknown) => void;\n  reject?: (reason?: unknown) => void;\n  promise?: Promise<void>;\n};\n\nexport type AnimationGeneratorType = {\n  className: string;\n  cleanUpBeforeAnimation?: ((el: HTMLElement) => Promise<void>) | ((el: HTMLElement) => void) | boolean;\n  cleanUpAfterAnimation?: ((el: HTMLElement) => Promise<void>) | ((el: HTMLElement) => void) | boolean;\n};\n\nconst animationRegistry: Record<\n  string,\n  {\n    promise: Promise<void>;\n    resolve: (value: void) => void;\n    reject: (reason?: unknown) => void;\n    animation: AnimationGeneratorType;\n    timeout: NodeJS.Timeout;\n  }\n> = {};\n\nconst sequences: {\n  [key in SequenceIdentifier]?: AnimationSequence | undefined;\n} = {};\n\nlet rootElement: HTMLElement | null = null;\n\nconst animationTimeoutDurationMs = 1000;\n\nfunction initialize(element: HTMLElement): void {\n  rootElement = element;\n\n  rootElement.addEventListener('transitionend', animationEndListener);\n  rootElement.addEventListener('animationend', animationEndListener);\n}\n\nfunction register(sequenceIdentifier: SequenceIdentifier, animationSequence: AnimationSequence): void {\n  sequences[sequenceIdentifier] = animationSequence;\n}\n\nfunction reset(): void {\n  Object.keys(sequences).forEach((key) => delete sequences[key]);\n}\n\nasync function play(sequenceIdentifier: SequenceIdentifier): Promise<unknown> {\n  const sequence = sequences[sequenceIdentifier];\n\n  if (sequence === undefined) {\n    return new Promise((_, reject) => reject(new Error(`Sequence ${sequenceIdentifier} has not been registered`)));\n  }\n\n  if (!sequence.running) {\n    sequence.promise = new Promise<void>((resolve, reject) => {\n      sequence.resolve = () => {\n        sequence.running = false;\n        resolve();\n      };\n\n      sequence.reject = (value: unknown) => {\n        sequence.running = false;\n        reject(value);\n      };\n\n      sequence.running = true;\n\n      applyCurrentAnimationSequenceStep(sequence);\n    });\n  }\n\n  return sequence.promise;\n}\n\nasync function applyCurrentAnimationSequenceStep(sequence: AnimationSequence) {\n  if (sequence.currentStepIndex >= sequence.steps.length) {\n    finishAnimationSequence(sequence);\n    return;\n  }\n\n  const sequenceStep = sequence.steps[sequence.currentStepIndex];\n\n  const promises = [];\n  for (const animation of sequenceStep) {\n    promises.push(executeAnimation(animation));\n  }\n\n  try {\n    await Promise.all(promises);\n  } catch (error) {\n    sequence.reject?.(error);\n    return;\n  }\n\n  sequence.currentStepIndex += 1;\n\n  setTimeout(() => applyCurrentAnimationSequenceStep(sequence), 0);\n}\n\nfunction finishAnimationSequence(sequence: AnimationSequence) {\n  sequence.currentStepIndex = 0;\n  sequence.resolve?.(null);\n  sequence.promise = undefined;\n}\n\nfunction animationEndListener(event: AnimationEvent | TransitionEvent): void {\n  const target = getHTMLElement(event.target);\n\n  if (target === null) {\n    throw new Error(`${event.type} event target is null`);\n  }\n\n  const id = target.dataset.phnAmId;\n\n  if (id !== undefined && id !== null) {\n    finishAnimationPromise(id, target);\n  }\n}\n\nasync function executeAnimation({ onStart, onEnd, animation, elementSelector }: NaviAnimation): Promise<void> {\n  if (rootElement === null) {\n    throw new Error('No root element present');\n  }\n\n  if (onStart) {\n    const maybePromise = onStart();\n    if (isPromise<void>(maybePromise)) {\n      await maybePromise;\n    }\n  }\n\n  const animatedElements: HTMLElement[] = Array.from(rootElement.querySelectorAll(elementSelector));\n  const animationExecutors = [];\n\n  for (const element of animatedElements) {\n    const animationPromiseEffect = generateAndCleanUpAnimationPromise(animationPromiseGenerator)(element, animation);\n    animationExecutors.push(animationPromiseEffect);\n  }\n\n  await Promise.all(animationExecutors);\n\n  if (onEnd) {\n    const maybePromise = onEnd();\n    if (isPromise<void>(maybePromise)) {\n      await maybePromise;\n    }\n  }\n}\n\nfunction generateAndCleanUpAnimationPromise(\n  animationPromiseGenerator: (element: HTMLElement, animation: AnimationGeneratorType) => Promise<void>\n): (element: HTMLElement, animation: AnimationGeneratorType) => Promise<void> {\n  return async function (element: HTMLElement, animation: AnimationGeneratorType): Promise<void> {\n    const { cleanUpBeforeAnimation, cleanUpAfterAnimation } = animation;\n\n    const animationPromise = animationPromiseGenerator(element, animation);\n\n    if (typeof cleanUpBeforeAnimation === 'function') {\n      const maybePromise: void | Promise<void> = cleanUpBeforeAnimation(element);\n      if (isPromise<void>(maybePromise)) {\n        await maybePromise;\n      }\n    }\n\n    await animationPromise;\n\n    if (typeof cleanUpAfterAnimation === 'function') {\n      const maybePromise: void | Promise<void> = cleanUpAfterAnimation(element);\n      if (isPromise<void>(maybePromise)) {\n        await maybePromise;\n      }\n    }\n\n    if (cleanUpAfterAnimation !== false) {\n      // only not remove class if cleanUpAfterAnimation is explicitely set to false\n      element.classList.remove(animation.className);\n    }\n  };\n}\n\nconst animationPromiseGenerator = (element: HTMLElement, animation: AnimationGeneratorType): Promise<void> => {\n  const id = Math.floor(Math.random() * 1e7);\n\n  element.classList.add(animation.className);\n  element.dataset.phnAmId = id.toString();\n\n  let resolve!: (value: void) => void;\n  let reject!: (reason?: unknown) => void;\n  let timeout!: NodeJS.Timeout;\n  const promise = new Promise<void>((_resolve, _reject) => {\n    resolve = _resolve;\n    reject = _reject;\n\n    timeout = setTimeout(() => {\n      // eslint-disable-next-line no-console\n      console.warn(\n        `Animation with className ${animation.className} didn't finish after ${animationTimeoutDurationMs}ms. Forcefully finishing animation and continuing with the rest of the sequence.`\n      );\n      finishAnimationPromise(String(id), element);\n    }, animationTimeoutDurationMs);\n  });\n\n  animationRegistry[id] = { animation, resolve, reject, promise, timeout };\n\n  return promise;\n};\n\nfunction finishAnimationPromise(phnAmId: string, target: HTMLElement): void {\n  const { resolve, timeout } = animationRegistry[phnAmId];\n\n  clearTimeout(timeout);\n  delete animationRegistry[phnAmId];\n  delete target.dataset.phnAmId;\n\n  resolve();\n}\n\nfunction isPlaying(sequenceIdentifier: SequenceIdentifier): boolean {\n  const sequence = sequences[sequenceIdentifier];\n\n  if (sequence === undefined) {\n    throw new Error(`Sequence ${sequenceIdentifier} has not been registered`);\n  }\n\n  return sequence.promise !== undefined;\n}\n\nfunction makeSequence(\n  sequenceSteps: SequenceStep[],\n  animationDefaults?: Partial<Omit<AnimationGeneratorType, 'name'>>\n): AnimationSequence {\n  return {\n    steps: sequenceSteps.map((step) => step.map((animation) => ({ ...animationDefaults, ...animation }))),\n    currentStepIndex: 0,\n    running: false\n  };\n}\n\nexport default {\n  initialize,\n  play,\n  isPlaying,\n  register,\n  reset\n};\n\nexport { makeSequence };\n","export const AnimationSequences = {\n  OPEN_DOUBLE_DRAWER: 'openDoubleDrawer',\n  CLOSE_DOUBLE_DRAWER: 'closeDoubleDrawer',\n  TRANSITION_SAME_LEVEL_DOUBLE_DRAWER: 'transitionSameLevelDoubleDrawer',\n  TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE: 'transitionSameLevelDoubleDrawerReverse',\n  TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER: 'transitionNextLevelDoubleDrawer',\n  TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER: 'transitionPreviousLevelDoubleDrawer',\n  OPEN_SINGLE_DRAWER: 'openSingleDrawer',\n  CLOSE_SINGLE_DRAWER: 'closeSingleDrawer',\n  TRANSITION_NEXT_LEVEL_SINGLE_DRAWER: 'transitionNextLevelSingleDrawer',\n  TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER: 'transitionPreviousLevelSingleDrawer'\n} as const;\n\nexport type AnimationSequencesType = (typeof AnimationSequences)[keyof typeof AnimationSequences];\n\nexport const AnimationDurations = {\n  highlight: 200,\n  drawerContent: 250,\n  drawer: 400,\n  backdrop: 400,\n  drawerOpen: 600\n};\n","import animationManager, {\n  AnimationStatusCallbacks,\n  makeSequence,\n  SequenceStep\n} from '../../services/animations/animation-manager';\nimport { AnimationSequences, AnimationSequencesType } from '../../utility/constants';\n\nexport type RouteChangeCallbacks = {\n  onSlideMainDrawerOutEnd: () => Promise<unknown>;\n};\n\nconst resetToFarRight = (el: HTMLElement) => {\n  el.style.left = '150%';\n  el.style.position = 'relative';\n};\n\nconst mainDrawerHTMLSelector = '#main-drawer > div:first-child';\n\nexport const registerOpenDoubleDrawerSequence = ({\n  onAnimationStarts,\n  onAnimationEnds\n}: Required<AnimationStatusCallbacks>): void => {\n  const sequence: SequenceStep[] = [\n    [\n      {\n        onStart: onAnimationStarts,\n        elementSelector: 'phn-double-drawer',\n        animation: {\n          className: 'opening-animation',\n          cleanUpAfterAnimation: (element) => {\n            element.style.left = '0px';\n          }\n        }\n      },\n      {\n        elementSelector: 'phn-backdrop',\n        animation: {\n          className: 'fade-in-animation',\n          cleanUpAfterAnimation: (element) => {\n            element.style.opacity = '1';\n            element.style.backgroundColor = 'rgba(0, 0, 0, 0.6)';\n          }\n        },\n        onEnd: onAnimationEnds\n      }\n    ]\n  ];\n\n  animationManager.register(AnimationSequences.OPEN_DOUBLE_DRAWER, makeSequence(sequence));\n};\n\nexport const registerCloseDoubleDrawerSequence = ({\n  onBackdropFadeOutEnd,\n  onAnimationStarts,\n  onAnimationEnds\n}: Required<AnimationStatusCallbacks> & {\n  onBackdropFadeOutEnd: () => Promise<void>;\n}): void => {\n  const sequence: SequenceStep[] = [\n    [\n      {\n        elementSelector: 'phn-double-drawer',\n        onStart: onAnimationStarts,\n        animation: {\n          className: 'closing-animation',\n          cleanUpBeforeAnimation: (element) => {\n            element.style.left = '';\n          }\n        }\n      },\n      {\n        elementSelector: 'phn-backdrop',\n        animation: {\n          className: 'fade-out-animation',\n          cleanUpBeforeAnimation: (element) => {\n            element.style.opacity = '';\n            element.style.backgroundColor = '';\n          }\n        },\n        onEnd: () => {\n          onBackdropFadeOutEnd();\n          onAnimationEnds();\n        }\n      }\n    ]\n  ];\n\n  animationManager.register(AnimationSequences.CLOSE_DOUBLE_DRAWER, makeSequence(sequence));\n};\n\nexport const registerTransitionSequence = (\n  { onSlideMainDrawerOutEnd }: RouteChangeCallbacks,\n  direction: 'normal' | 'reverse' = 'normal'\n): void => {\n  animationManager.register(\n    `transitionSameLevelDoubleDrawer${direction === 'reverse' ? 'Reverse' : ''}`,\n    makeSequence([\n      [\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className:\n              direction === 'reverse' ? 'transition-backward-animation-out' : 'transition-forward-animation-out',\n            cleanUpAfterAnimation: resetToFarRight\n          },\n          onEnd: onSlideMainDrawerOutEnd\n        }\n      ],\n      [\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className: direction === 'reverse' ? 'transition-forward-animation-in' : 'transition-forward-animation-in',\n            cleanUpBeforeAnimation: (element) => {\n              element.style.left = '';\n              element.style.position = '';\n            }\n          }\n        }\n      ]\n    ])\n  );\n};\n\nexport const registerForwardToNextMenuSequence = ({ onSlideMainDrawerOutEnd }: RouteChangeCallbacks): void => {\n  animationManager.register(\n    'transitionNextLevelDoubleDrawer',\n    makeSequence([\n      [\n        {\n          elementSelector: '#side-drawer > div',\n          animation: {\n            className: 'transition-forward-animation-out'\n          }\n        },\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className: 'transition-forward-animation-out'\n          },\n          onEnd: onSlideMainDrawerOutEnd\n        }\n      ],\n      [\n        {\n          elementSelector: '#side-drawer > div',\n          animation: {\n            className: 'transition-forward-animation-in'\n          }\n        },\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className: 'transition-forward-animation-in'\n          }\n        }\n      ]\n    ])\n  );\n};\nexport const registerBackToPreviousMenuSequence = ({ onSlideMainDrawerOutEnd }: RouteChangeCallbacks): void => {\n  animationManager.register(\n    'transitionPreviousLevelDoubleDrawer',\n    makeSequence([\n      [\n        {\n          elementSelector: '#side-drawer > div',\n          animation: {\n            className: 'transition-backward-animation-out'\n          }\n        },\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className: 'transition-backward-animation-out'\n          },\n          onEnd: onSlideMainDrawerOutEnd\n        }\n      ],\n      [\n        {\n          elementSelector: '#side-drawer > div',\n          animation: {\n            className: 'transition-backward-animation-in'\n          }\n        },\n        {\n          elementSelector: mainDrawerHTMLSelector,\n          animation: {\n            className: 'transition-backward-animation-in'\n          }\n        }\n      ]\n    ])\n  );\n};\n\nexport const isPlayingDoubleDrawerAnimation = (): boolean => {\n  const doubleDrawerAnimationSequences: AnimationSequencesType[] = [\n    AnimationSequences.OPEN_DOUBLE_DRAWER,\n    AnimationSequences.CLOSE_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER,\n    AnimationSequences.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE\n  ];\n\n  return doubleDrawerAnimationSequences.some((sequence) => {\n    try {\n      return animationManager.isPlaying(sequence);\n    } catch {\n      return false;\n    }\n  });\n};\n","var M = Object.defineProperty;\nvar W = (r, t, e) => t in r ? M(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : r[t] = e;\nvar o = (r, t, e) => (W(r, typeof t != \"symbol\" ? t + \"\" : t, e), e);\nconst y = {\n  BEFORE_MERGE: \"BEFORE_MERGE\",\n  AFTER_MERGE: \"AFTER_MERGE\"\n}, w = {\n  clean: {\n    enabled: !1,\n    executionPlace: y.AFTER_MERGE,\n    values: [\"\", void 0, null]\n  },\n  logging: {\n    enabled: !0,\n    level: \"warn\"\n  },\n  validation: {\n    enabled: !1,\n    allowUnknown: !1,\n    verbose: !0\n  },\n  webProperties: {\n    enabled: !0,\n    eventNamePattern: /.*/,\n    reactiveUrl: !0,\n    reactiveDimensions: !0\n  }\n};\nclass U {\n  /**\n   * Creates a PCOM (default) data layer schema specific object, that contains the given event name.\n   *\n   * @param data - Contains the event name in a standardized {@link IFactoryData} like way.\n   *\n   * @returns The event name in the PCOM (default) data layer schema specific object.\n   *\n   * @example\n   * myEventNameFactory.create({ event: 'MY_EVENT_NAME' });\n   * // returns:\n   * // {\n   * //   context: {\n   * //     eventAction: 'MY_EVENT_NAME'\n   * //   }\n   * // }\n   */\n  create(t) {\n    return typeof t.event != \"string\" || t.event.length === 0 ? {} : {\n      context: {\n        eventAction: t.event\n      }\n    };\n  }\n}\nconst S = (r, t) => {\n  let e;\n  for (e in r)\n    if (!(!r || !r[e]) && t(r[e], e) === !1)\n      return !1;\n  return !0;\n}, _ = (r, t) => S(r, (e, s) => {\n  for (const i in r[s])\n    if (t(e[i], i, e, s) === !1)\n      return !1;\n  return !0;\n}), ne = (r) => {\n  if (m(r))\n    return !0;\n  let t = 0, e = 0;\n  return S(r, (s) => {\n    t++, m(s) && e++;\n  }), t === e;\n}, m = (r) => {\n  for (const t in r)\n    return !1;\n  return !0;\n}, P = (r, t = ((e) => (e = w.clean) == null ? void 0 : e.values)() || []) => (_(\n  r,\n  (s, i, n, l) => {\n    t.includes(s) && (delete n[i], m(n) && delete r[l]);\n  }\n), r), G = (r, t) => r && (_(\n  r,\n  (e, s, i, n) => {\n    t.includes(`${n.toString()}.${s.toString()}`) && (delete i[s], m(i) && delete r[n]);\n  }\n), r), k = (r) => (_(\n  r,\n  (t, e, s) => (typeof t != \"function\" || (s[e] = t()), !0)\n), r);\nclass H {\n  /**\n   * Creates a new instance of {@link FrameTicker}.\n   *\n   * @param callback The functionality that should be called\n   * @param ticksPerSecond How many times should the functionality been called in one second\n   */\n  constructor(t, e = 10) {\n    o(this, \"tickInterval\");\n    o(this, \"callback\");\n    o(this, \"_tickTime\", Date.now());\n    o(this, \"_tickActive\", !1);\n    this.callback = t, this.tickInterval = 1e3 / e;\n  }\n  /**\n   * Start the {@link FrameTicker}.\n   */\n  start() {\n    this._tickActive || (this._tickActive = !0, this.run());\n  }\n  /**\n   * Stop the {@link FrameTicker}.\n   */\n  stop() {\n    this._tickActive = !1;\n  }\n  /**\n   * Internal function executed on each _tick_.\n   *\n   * @private\n   */\n  run() {\n    if (!this._tickActive)\n      return;\n    requestAnimationFrame(this.run.bind(this));\n    const t = Date.now(), e = t - this._tickTime;\n    e < this.tickInterval || (this._tickTime = t - e % this.tickInterval, this.callback());\n  }\n}\nconst B = (r, t) => {\n  const e = t.split(\".\");\n  if (e.length !== 2)\n    return;\n  const s = r[e[0]];\n  if (s)\n    return s[e[1]];\n}, C = (r) => {\n  if (!r)\n    return [];\n  const t = [];\n  return _(\n    r,\n    (e, s, i, n) => {\n      t.push(`${n.toString()}.${s.toString()}`);\n    }\n  ), t;\n}, j = w.logging;\nvar x = /* @__PURE__ */ ((r) => (r[r.error = 0] = \"error\", r[r.warn = 1] = \"warn\", r[r.log = 2] = \"log\", r))(x || {});\nconst v = class v {\n  /**\n   * Creates an instance of the {@link Logger} class.\n   *\n   * @param prefix A prefix that is used in all logs\n   *   (`[PREFIX] MESSAGE`, i.e. `[GlobalDataLayer] This is a serious message`).\n   * @param options Options to be merged as settings with the {@link DEFAULT_SETTINGS.logging}.\n   */\n  constructor(t, e) {\n    /**\n     * The prefix that is used in all logs.\n     * @private\n     */\n    o(this, \"prefix\");\n    /**\n     * The merged settings. Also see the options of the {@link constructor} and the {@link DEFAULT_SETTINGS.logging}.\n     *\n     * @see {@link TLoggerSettings}\n     *\n     * @private\n     */\n    o(this, \"settings\");\n    this.prefix = t, this.settings = {\n      ...j,\n      ...e\n    };\n  }\n  /**\n   * Helper function to merge the options of a log method call with the current {@link settings}.\n   *\n   * @param options  Options to be merged with the available {@link settings}\n   *\n   * @returns The merged temporary settings.\n   *\n   * @private\n   */\n  _getMergedSettings(t) {\n    return t ? {\n      ...this.settings,\n      ...t\n    } : this.settings;\n  }\n  /**\n   * Check, if this log message is allowed.\n   *\n   * @see {@link TLoggerSettings.enabled} and {@link TLoggerSettings.level} and {@link isAvailable}\n   *\n   * @param type Type of the current log message.\n   * @param settings The current (temporary) settings.\n   *\n   * @returns `true`if the log message is allowed.\n   *\n   * @private\n   */\n  _isAllowed(t, e) {\n    if (!v.isAvailable || !e.enabled)\n      return !1;\n    const s = x[e.level];\n    switch (t) {\n      case \"error\":\n      case \"warn\":\n        return s >= x[t];\n      case \"info\":\n      case \"log\":\n      case \"debug\":\n      case \"dir\":\n        return s >= 2;\n      default:\n        return !1;\n    }\n  }\n  /**\n   * A helper method to execute the log messages of all different types.\n   *\n   * @param msg The message text.\n   * @param type The type of the message.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   *\n   * @private\n   */\n  _log(t, e = \"log\", s) {\n    const i = this._getMergedSettings(s);\n    if (this._isAllowed(e, i))\n      switch (e) {\n        case \"dir\":\n          console.log(`[${this.prefix}] ${e}:`), console[e](t);\n          break;\n        default:\n          console[e](`[${this.prefix}] ${t}`);\n      }\n  }\n  /**\n   * Write a normal log message.\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  log(t, e) {\n    this._log(t, \"log\", e);\n  }\n  /**\n   * Write a log message of type `dir`.\n   *\n   * This message will be split in two messages, the prefix with \" dir:\" and the\n   * {@link https://developer.mozilla.org/en-US/docs/Web/API/console/dir dir} output as interactive list.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/dir console.dir()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  dir(t, e) {\n    this._log(t, \"dir\", e);\n  }\n  /**\n   * Write a log message of type `debug`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/debug console.debug()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  debug(t, e) {\n    this._log(t, \"debug\", e);\n  }\n  /**\n   * Write a log message of type `error`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/error console.error()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  error(t, e) {\n    this._log(t, \"error\", e);\n  }\n  /**\n   * Write a log message of type `info`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/info console.info()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  info(t, e) {\n    this._log(t, \"info\", e);\n  }\n  /**\n   * Write a log message of type `warn`.\n   *\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/API/console/warn console.warn()}\n   *\n   * @param msg The message text.\n   * @param options Temporary options, that will be merged with the current {@link settings}.\n   */\n  warn(t, e) {\n    this._log(t, \"warn\", e);\n  }\n};\n/**\n * Check if there is a console available that makes logging possible.\n */\no(v, \"isAvailable\", (() => typeof console < \"u\")());\nlet b = v;\nconst u = (...r) => {\n  const t = {};\n  return r.forEach((e) => {\n    if (m(e))\n      return;\n    const s = {\n      ...t,\n      ...e\n    };\n    let i;\n    for (i in s)\n      typeof s[i] == \"object\" && !Array.isArray(s[i]) ? t[i] = {\n        ...t[i],\n        ...e[i]\n      } : t[i] = s[i];\n  }), t;\n};\nclass q {\n  /**\n   * Creates a PCOM (default) data layer schema specific object, that contains the given web properties.\n   *\n   * @param data - Contains the web properties in a standardized {@link IFactoryData} like way.\n   *\n   * @returns The given web properties in the PCOM (default) data layer schema specific object.\n   *\n   * @example\n   * myWebPropertiesFactory.create({ userAgent: 'MY_USE_AGENT' });\n   * // returns:\n   * // {\n   * //   visitor: {\n   * //     userAgent: 'MY_USE_AGENT'\n   * //   }\n   * // }\n   */\n  create(t) {\n    return P(\n      {\n        context: {\n          timestamp: t.timestamp,\n          server: t.hostname\n        },\n        pageExperience: {\n          pageId: t.url\n        },\n        visitor: {\n          deviceBrowserBreakpoint: t.breakpoint,\n          deviceBrowserHeight: t.height,\n          deviceBrowserOrientation: t.orientation,\n          deviceBrowserWidth: t.width,\n          deviceType: t.deviceType,\n          useragent: t.userAgent\n        }\n      },\n      [void 0]\n    );\n  }\n}\nconst K = w.webProperties, V = () => window.location.href.replace(/[?#].*/, \"\"), Y = () => (/* @__PURE__ */ new Date()).toISOString(), Q = () => window.location.hostname, R = () => window.innerHeight.toString(), D = () => window.innerHeight > window.innerWidth ? \"p\" : \"l\", T = () => window.innerWidth.toString(), X = () => window.matchMedia(\"(hover: none), (pointer: coarse)\").matches ? \"mobile\" : \"desktop\", z = () => window.navigator.userAgent, J = (r) => {\n  if (!r.breakpoints || r.breakpoints.length < 1)\n    return;\n  const { breakpoints: t } = r, e = () => {\n    const s = window.innerWidth;\n    let i = 0, n = 0;\n    for (; n < t.length && s >= t[n]; )\n      i = t[n], n++;\n    return i.toString();\n  };\n  return r.reactiveDimensions ? e : e();\n}, Z = (r, t) => {\n  const e = {\n    ...K,\n    ...r\n  }, i = {\n    breakpoint: J(e),\n    timestamp: Y(),\n    hostname: Q(),\n    url: e.reactiveUrl ? V : V(),\n    height: e.reactiveDimensions ? R : R(),\n    orientation: e.reactiveDimensions ? D : D(),\n    width: e.reactiveDimensions ? T : T(),\n    deviceType: X(),\n    userAgent: z()\n  };\n  return t ? t.create(i) : i;\n}, ee = (r, t) => {\n  switch (t) {\n    case \"string\":\n    case \"number\":\n    case \"boolean\":\n      return typeof r === t;\n    case \"any[]\":\n      return Array.isArray(r) && r.length > 0;\n    case \"Record<string, any>\":\n      return typeof r == \"object\" && !Array.isArray(r) && Object.keys(r).length > 0;\n    case \"any\":\n      return !0;\n    default:\n      if ((typeof r == \"boolean\" || typeof r == \"number\" || typeof r == \"string\") && t.indexOf(\"|\") > 0)\n        return t.split(\"|\").map((s) => {\n          const i = s.trim();\n          return /^'.*'$/.test(i) ? i.replace(/(^ ?'?|'? ?$)/g, \"\") : /^(true|false)$/.test(i) ? i === \"true\" : /^-?(\\d*\\.)?\\d+$/.test(i) ? Number.parseFloat(i) : i.replace(/(^ ?'?|'? ?$)/g, \"\");\n        }).includes(r);\n  }\n  return !0;\n}, te = (r, t, e) => {\n  const s = {\n    level: null,\n    issues: []\n  };\n  if (!e.enabled || !e.eventMatrix)\n    return s;\n  const { events: i, ...n } = e.eventMatrix, l = i.indexOf(r);\n  if (l === -1)\n    return s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"EVENT_NOT_FOUND\",\n      name: r,\n      message: `'${r}': Event does not exist.`\n    }), s;\n  const a = C(t), d = Object.keys(n), c = a.filter(\n    (g) => !d.includes(g)\n  );\n  c.length > 0 && (e.allowUnknown || G(t, c), c.forEach((g) => {\n    s.level = s.level ?? \"warn\", s.issues.push({\n      level: \"warn\",\n      type: \"PROPERTY_DOES_NOT_EXIST\",\n      name: g,\n      message: `'${g}': Property does not exist in the given Event Matrix.${e.allowUnknown ? \"\" : \" It was omitted from the DataLayer payload.\"}`\n    });\n  }));\n  let h;\n  for (h in n) {\n    const g = n[h], f = typeof g.e[l] < \"u\", p = g.r === 1, E = t ? B(t, h) : void 0, N = typeof E < \"u\";\n    if (f && // Does the event want this property?\n    p && // Is the property mandatory in general?\n    !N && (s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"REQUIRED_PROPERTY_MISSING\",\n      name: h,\n      message: `'${h}': The required property is missing.`\n    }), !e.verbose) || N && !ee(E, g.t) && (s.level = \"error\", s.issues.push({\n      level: \"error\",\n      type: \"WRONG_PROPERTY_TYPE\",\n      name: h,\n      message: `'${h}': Wrong type detected. Expected '${g.t}', got '${typeof E}'.`\n    }), !e.verbose))\n      return s;\n  }\n  return s;\n};\nclass L {\n  constructor(t = \"DataLayerExtension\", e) {\n    /**\n     * A\n     * @protected\n     */\n    o(this, \"_logger\");\n    o(this, \"_className\");\n    o(this, \"_dataLayerInstance\");\n    this._className = t, this._logger = new b(this.className, e);\n  }\n  get dataLayerInstance() {\n    return this._dataLayerInstance;\n  }\n  set dataLayerInstance(t) {\n    this._dataLayerInstance = t;\n  }\n  get className() {\n    return this._className;\n  }\n  set className(t) {\n    this._className = t;\n  }\n  get isRegistered() {\n    return typeof this._dataLayerInstance < \"u\";\n  }\n}\nconst A = {\n  eventName: \"UNKNOWN\",\n  thresholds: {\n    filled: 0.5,\n    visible: 0.3,\n    minValidityPeriod: 1\n  },\n  triggerUpdates: {\n    enabled: !1,\n    eventName: \"VIEWPORT_TRACKER_STATUS_CHANGE\"\n  },\n  tickerSettings: {\n    ticksPerSecond: 10\n  }\n};\nclass se extends Event {\n  constructor(e, s) {\n    super(e);\n    o(this, \"registeredElement\");\n    this.registeredElement = s;\n  }\n}\nclass $ extends L {\n  /**\n   * Creates a new instance of {@link ViewportTrackerExtension} with optional settings of type\n   * {@link TViewportTrackerSettings}.\n   *\n   * @param options The settings to initialize the instance. Will be merged with the defaults.\n   */\n  constructor(e) {\n    var s;\n    super(\"ViewportTrackerExtension\", e == null ? void 0 : e.logger);\n    o(this, \"settings\");\n    o(this, \"observer\", null);\n    o(this, \"frameTicker\");\n    o(this, \"registeredElements\", []);\n    o(this, \"visibleElements\", []);\n    this.settings = e ? u(A, e) : A, this.observer = this.createObserver(), this.frameTicker = new H(\n      this.checkVisibilityOfElements.bind(this),\n      (s = this.settings.tickerSettings) == null ? void 0 : s.ticksPerSecond\n    );\n  }\n  /**\n   * Will create and return the mandatory {@link IntersectionObserver}. The function will log an error if this is not\n   * possible.\n   *\n   * @returns The ready-to-use {@link IntersectionObserver} instance or null.\n   *\n   * @private\n   */\n  createObserver() {\n    return !window || !(\"IntersectionObserver\" in window) ? (this._logger.error(\"The ViewportTrackerExtension will need IntersectionObserver to work.\"), null) : new IntersectionObserver(this.observerHandler.bind(this), {\n      threshold: 0,\n      rootMargin: \"0px 0px\"\n    });\n  }\n  /**\n   * Register an {@link HTMLElement} to be observed.\n   *\n   * @param element The {@link HTMLElement} to register with optional _DataLayer_ properties.\n   */\n  registerElement(e) {\n    var s;\n    this.unregisterElement(e.el), this.registeredElements.push({\n      el: e.el,\n      properties: e.properties,\n      state: {\n        isFilled: !1,\n        isVisible: !1,\n        passedValidityPeriod: !1\n      }\n    }), (s = this.observer) == null || s.observe(e.el);\n  }\n  /**\n   * Register multiple {@link HTMLElement}s to be observed.\n   *\n   * @param elements The {@link HTMLElement}s to register with optional _DataLayer_ properties.\n   */\n  registerElements(e) {\n    for (const s of e)\n      this.registerElement(s);\n  }\n  /**\n   * Unregister an {@link HTMLElement} from observation.\n   *\n   * @param element The {@link HTMLElement} to unregister.\n   */\n  unregisterElement(e) {\n    var i;\n    (i = this.observer) == null || i.unobserve(e);\n    const s = this.getRegisteredElementIndex(e);\n    s < 0 || this.registeredElements.splice(s, 1);\n  }\n  /**\n   * Unregister multiple {@link HTMLElement}s from observation.\n   *\n   * @param elements The {@link HTMLElement}s to unregister.\n   */\n  unregisterElements(e) {\n    for (const s of e)\n      this.unregisterElement(s);\n  }\n  /**\n   * Helper function to retrieve the index of a registered {@link HTMLElement} from the `registeredElements` array.\n   *\n   * @param el The {@link HTMLElement} to find.\n   * @returns The index of the element if found, otherwise `-1`.\n   *\n   * @private\n   */\n  getRegisteredElementIndex(e) {\n    return this.registeredElements.findIndex((s) => s.el === e);\n  }\n  /**\n   * Helper function to retrieve a registered {@link HTMLElement} from the `registeredElements` array.\n   *\n   * @param el The {@link HTMLElement} to find.\n   *\n   * @returns The found element, otherwise `undefined`.\n   *\n   * @private\n   */\n  getRegisteredElement(e) {\n    const s = this.getRegisteredElementIndex(e);\n    if (!(s < 0))\n      return this.registeredElements[s];\n  }\n  /**\n   * The {@link IntersectionObserver} callback function to handle updates to the registered {@link TRegisteredElement}s\n   * {@link HTMLElement}s. Registers or unregisters items based on the given settings and changes their state.\n   *\n   * @param entries Intersection element entries.\n   *\n   * @private\n   */\n  observerHandler(e) {\n    for (const s of e) {\n      const i = s.target, n = this.getRegisteredElement(i);\n      if (n) {\n        if (s.isIntersecting) {\n          this.visibleElements.findIndex((l) => l === n.el) === -1 && this.visibleElements.push(n.el);\n          continue;\n        }\n        this.removeFromVisibleStore(n.el), (n.state.isFilled || n.state.isVisible) && requestAnimationFrame(() => {\n          this.processViewportIntersection(n, {\n            isVisible: !1,\n            isFilled: !1,\n            passedValidityPeriod: !1\n          });\n        });\n      }\n    }\n    this.visibleElements.length > 0 && this.frameTicker.start();\n  }\n  /**\n   * Callback for the {@link FrameTicker} to frequently check the state of all elements which are currently marked as\n   * _in the viewport_.\n   *\n   * @private\n   */\n  checkVisibilityOfElements() {\n    if (this.visibleElements.length === 0)\n      return;\n    const e = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0), s = window.scrollY;\n    for (let i = 0; i < this.visibleElements.length; i++) {\n      const n = this.visibleElements[i], l = this.getRegisteredElement(n);\n      if (!l || !this.settings.triggerUpdates.enabled && l.state.passedValidityPeriod)\n        continue;\n      const { isVisible: a, isFilled: d } = $.percentWithinViewport(n, s, e), c = {\n        isVisible: a >= this.settings.thresholds.visible,\n        isFilled: d >= this.settings.thresholds.filled,\n        passedValidityPeriod: l.state.passedValidityPeriod\n      };\n      this.processViewportIntersection(l, c);\n    }\n  }\n  /**\n   * Get to know how much of the {@link HTMLElement} is visible the viewport.\n   *\n   * @param el The element in the viewport.\n   * @param scrollY The scrollY of the current window.\n   * @param viewportHeight The height of the viewport.\n   *\n   * @returns The % visible of the HTMLElement in the viewport.\n   *\n   * @private\n   */\n  static percentWithinViewport(e, s, i) {\n    const n = { top: s, bottom: s + i }, l = e.getBoundingClientRect(), a = {\n      top: l.y + s,\n      bottom: l.y + l.height + s\n    }, d = l.height;\n    let c = d;\n    a.top < n.top && (c = d - (s - a.top)), a.bottom > n.bottom && (c = c - (a.bottom - n.bottom));\n    let h = c / d, g = c / i;\n    return (n.top > a.bottom || n.bottom < a.top) && (h = 0, g = 0), n.top < a.top && n.bottom > a.bottom && (h = 1), a.top < n.top && a.bottom > n.bottom && (g = 1), {\n      isVisible: h,\n      isFilled: g\n    };\n  }\n  /**\n   * Processes a {@link TRegisteredElement} items intersection. If the element matches the\n   * {@link TViewportTrackerSettings.thresholds `thresholds`}, the {@link IGlobalDataLayer.push} method is called.\n   *\n   * Also dispatches the update event of the {@link TViewportTrackerSettings.triggerUpdates `triggerUpdates`} feature.\n   *\n   * @param registeredElement The registered element to process.\n   * @param isVisible Indicates, if the element is {@link TViewportTrackerSettings.thresholds.visible visible}.\n   * @param isFilled Indicates, if the element is {@link TViewportTrackerSettings.thresholds.filled filled}.\n   *\n   * @private\n   */\n  processViewportIntersection(e, { isVisible: s, isFilled: i }) {\n    const n = e.state || {\n      isVisible: !1,\n      isFilled: !1\n    }, l = Date.now(), a = {\n      isVisible: s,\n      isFilled: i,\n      timeVisible: n.isVisible !== s ? l : n.timeVisible,\n      timeFilled: n.isFilled !== i ? l : n.timeFilled,\n      passedValidityPeriod: n.passedValidityPeriod\n    }, d = (c) => (l - c) / 1e3;\n    if (n.isVisible !== a.isVisible || n.isFilled !== a.isFilled)\n      a.passedValidityPeriod = !1, e.state = a, this.dispatchEvent(e);\n    else if (!a.passedValidityPeriod && (a.isVisible || a.isFilled)) {\n      const c = d(a.timeVisible), h = d(a.timeFilled);\n      (s && c >= this.settings.thresholds.minValidityPeriod || i && h >= this.settings.thresholds.minValidityPeriod) && (a.passedValidityPeriod = !0, e.state = a, this.pushEvent(e), this.dispatchEvent(e));\n    }\n  }\n  /**\n   * Helper function to remove an {@link HTMLElement} from the state of being in the viewport. This will stop the\n   * {@link FrameTicker} checks from being processed for this {@link TRegisteredElement}.\n   *\n   * @param element The HTMLElement to remove.\n   *\n   * @private\n   */\n  removeFromVisibleStore(e) {\n    let s = -1;\n    for (; (s = this.visibleElements.findIndex((i) => i === e)) >= 0; )\n      this.visibleElements.splice(s, 1);\n    this.visibleElements.length === 0 && this.frameTicker.stop();\n  }\n  /**\n   * Will call the {@link IGlobalDataLayer.push} with the given {@link TViewportTrackerSettings.eventName `eventName`},\n   * whenever a {@link TRegisteredElement} matches the given {@link TViewportTrackerSettings.thresholds `thresholds`}.\n   *\n   * @param item The registered {@link HTMLElement} with its {@link TRegisteredElement.properties `properties` payload}.\n   *\n   * @private\n   */\n  pushEvent(e) {\n    if (!this.dataLayerInstance) {\n      this._logger.warn(\"This extension is not registered to a GlobalDataLayer instance.\");\n      return;\n    }\n    const { properties: s } = e, i = typeof s == \"function\" ? s() : s || {};\n    this.dataLayerInstance.push(this.settings.eventName, i);\n  }\n  /**\n   * Dispatches a {@link ViewportTrackerStatusChangeEvent}.\n   *\n   * @param registeredElement The registered {@link HTMLElement} to use as target.\n   *\n   * @private\n   */\n  dispatchEvent(e) {\n    this.settings.triggerUpdates && this.settings.triggerUpdates.enabled && e.el.dispatchEvent(\n      new se(this.settings.triggerUpdates.eventName, e)\n    );\n  }\n}\nconst F = (r) => r.length > 0, O = \"PageNameExtender_unknown_pageName\", I = {\n  initialPageName: O,\n  separator: \"/\"\n};\nclass ae extends L {\n  /**\n   * Constructor of PageNameExtender\n   *\n   * @param options Settings object for this extension.\n   */\n  constructor(e) {\n    super(\"PageNameExtenderExtension\", e == null ? void 0 : e.logger);\n    o(this, \"settings\");\n    /**\n     * Internal page name store. To handle the different levels.\n     */\n    o(this, \"pageName\", []);\n    /**\n     * Internal basic page name length. This is defined in the {@link set} method and used to make sure there is\n     * an option to keep ({@link reduce}) or replace ({@link set}) the basic page name.\n     */\n    o(this, \"basePageNameLength\", 0);\n    this.settings = e ? u(I, e) : I, this.set(this.settings.initialPageName);\n  }\n  /**\n   * Update the complete stored {@link pageName} with a string or an array of strings.\n   *\n   * @param pageName If a simple string is given, it will be separated by the given {@link settings} separator.\n   * @param keepExtensions Keep the parts which were added by {@link extend} method.\n   *\n   * @returns The new {@link pageName} joined with the {@link settings} separator.\n   */\n  set(e, s = !1) {\n    const i = this.basePageNameLength;\n    return typeof e == \"string\" && (e = e.split(this.settings.separator).filter(F)), e.length === 0 ? (this._logger.warn(\"`pageName` must not be empty\"), \"\") : (e[0] === O && this._logger.info(\n      \"No `initialPageName` was provided. Make sure the `pageName` is provided later via the `set` method.\"\n    ), this.basePageNameLength = e.length, s && e.push(...this.pageName.slice(i - 1)), this.pageName = e, this.get());\n  }\n  /**\n   * Get the current {@link pageName}.\n   *\n   * @param basePageNameOnly If you want to ignore the parts which were added by {@link extend}.\n   *\n   * @returns The current {@link pageName} joined with the {@link settings} separator.\n   */\n  get(e = !1) {\n    return (e ? this.pageName.slice(0, this.basePageNameLength) : this.pageName).join(\n      this.settings.separator\n    );\n  }\n  /**\n   * Add (multiple) sub levels to the {@link pageName}.\n   *\n   * @param levels If a simple string is given it will be split by the given {@link settings} separator.\n   *\n   * @returns The new {@link pageName} joined with the given {@link settings} separator.\n   */\n  extend(e) {\n    return Array.isArray(e) && (e = e.join(this.settings.separator)), e = e.split(this.settings.separator).filter(F), e.length === 0 ? this._logger.warn(\"`levels` must not be empty\") : this.pageName.push(...e), this.get();\n  }\n  /**\n   * Remove (multiple) sub levels from the {@link pageName}.\n   *\n   * @param [levelCount='last'] Number of levels that should be removed. You can also use a\n   *   {@link TPageNameExtenderReduceType} to define the \"last\" or \"all\" (except the root).\n   * @param keepBasePageName If the basic page name given by {@link set} should also be reducible. This\n   *   cannot be restored.\n   *\n   * @returns The new {@link pageName} joined with the given {@link settings} separator.\n   */\n  reduce(e = \"last\", s = !0) {\n    let i;\n    return e === \"all\" ? i = this.pageName.length - (s ? this.basePageNameLength : 1) : e === \"last\" ? i = this.pageName.length > (s ? this.basePageNameLength : 1) ? 1 : 0 : (i = e, (this.pageName.length <= e || s && this.pageName.length - this.basePageNameLength < e) && (this._logger.info(\n      `${this.pageName.length - (s ? this.basePageNameLength : 1)} - ${e} must not delete first level or more`\n    ), i = this.pageName.length - (s ? this.basePageNameLength : 1))), this.pageName.splice(i * -1, i), this.basePageNameLength > this.pageName.length && (this.basePageNameLength = this.pageName.length), this.get();\n  }\n  /**\n   * Get a temporary pre-fixed version of the current {@link pageName}.\n   *\n   * @param [prefix=''] The value that should be prepended temporarily.\n   *\n   * @returns The current {@link pageName} joined with the given {@link settings} separator pre-fixed with the given\n   *   string value.\n   */\n  getWithPrefix(e = \"\") {\n    return e + this.get();\n  }\n  /**\n   * Get a temporary post-fixed version of the current {@link pageName}.\n   *\n   * @param [postfix=''] The value that should be appended temporarily.\n   *\n   * @returns The current {@link pageName} joined with the given {@link Settings} separator post-fixed with the given\n   *   string value.\n   */\n  getWithPostfix(e = \"\") {\n    return this.get() + e;\n  }\n}\nclass ie {\n  /**\n   * Create an instance of the GlobalDataLayer library. This constructor has to be overwritten to initialize the needed\n   * factories ({@link _eventNamePayloadFactory} and {@link _webPayloadFactory}).\n   *\n   * @param options All options are merged with the {@link DEFAULT_SETTINGS} of type {@link TSettings}.\n   * @param [dataStore] The array where all the pushes are added to. The default tries to get or generate the\n   *   `window.pagData` array. If this is not possible, it creates an empty array, that is exposed via\n   *   {@link DataLayerStore}.\n   * @param [className] The class name of the library is here, because code can be uglified and/or minified later.\n   *\n   * @protected\n   */\n  constructor(t, e, s = \"GlobalDataLayer\") {\n    /**\n     * The class name of the library. This is needed, because code can be uglified and/or minified later.\n     * @protected\n     */\n    o(this, \"_className\");\n    /**\n     * The merged settings. Also see the options of the {@link constructor} and the {@link DEFAULT_SETTINGS}.\n     * @protected\n     */\n    o(this, \"_settings\");\n    /**\n     * An internal store where all default properties are added to.\n     * @protected\n     */\n    o(this, \"_defaultProperties\");\n    /**\n     * An internal logger, which has to be used for all console logs.\n     * @protected\n     */\n    o(this, \"_logger\");\n    /**\n     * A flag that indicates if the _Web Properties_ feature was already handled.\n     *\n     * @see {@link getWebProperties}\n     *\n     * @protected\n     */\n    o(this, \"_webPropertiesHandled\", !1);\n    /**\n     * the _DataLayer_ store array, that is used to push all the data.\n     *\n     * This can be transferred to the library with the second parameter `dataStore` of the {@link constructor}.\n     *\n     * @protected\n     */\n    o(this, \"_dataLayerStore\");\n    /**\n     * An internal store where all registered extensions are added to.\n     * @protected\n     */\n    o(this, \"_extensions\", /* @__PURE__ */ new Map());\n    const i = u(\n      w,\n      t || {}\n    );\n    this._className = s, this._logger = new b(this._className, i.logging), this._settings = i, e ? this._dataLayerStore = e : typeof window < \"u\" ? (this._dataLayerStore = window.pagData = window.pagData || [], this._logger.info(\"`dataLayerStore` was set to default `window.pagData`\")) : (this._dataLayerStore = [], this._logger.info(\"`dataLayerStore` was set to default `[]`\")), this._defaultProperties = [];\n  }\n  /**\n   * An internal function to set everything up after initialization is done. This has to be called at the end of the\n   * overwritten constructors.\n   * @protected\n   */\n  setup() {\n    this._handleDefaultWebProperties();\n  }\n  /**\n   * The current settings object.\n   * @readonly\n   */\n  get Settings() {\n    return this._settings;\n  }\n  /**\n   * Get the _DataLayer_ store, that is used to push all the data.\n   * @readonly\n   */\n  get DataLayerStore() {\n    return this._dataLayerStore;\n  }\n  /**\n   * Get a registered {@link DataLayerExtension} class instance based of the input type.\n   *\n   * @param TConstructor The class to search for.\n   *\n   * @returns The registered instance of the extension class, `undefined` if not found.\n   */\n  getRegisteredExtension(t) {\n    const e = new t();\n    return this.getRegisteredExtensionByClassName(e.className);\n  }\n  /**\n   * Get a registered {@link DataLayerExtension} class instance based of a classname.\n   *\n   * @param className The name of class instance to compare.\n   *\n   * @returns The registered instance of the extension class, undefined if not found.\n   */\n  getRegisteredExtensionByClassName(t) {\n    return this._extensions.has(t) ? this._extensions.get(t) : void 0;\n  }\n  /**\n   * Get all registered {@link DataLayerExtension}.\n   *\n   * @returns All registered DataLayerExtensions as array.\n   */\n  getRegisteredExtensions() {\n    const t = [];\n    for (const e of this._extensions.values())\n      t.push(e);\n    return t;\n  }\n  /**\n   * Register a new {@link DataLayerExtension} class for this instance.\n   *\n   * @param extension The extension class instance to register.\n   * @param override If there is an existing instance already registered, we override it, otherwise we do nothing.\n   */\n  registerExtension(t, e = !1) {\n    if (!e && this._extensions.has(t.className)) {\n      this._logger.warn(`Tried to register extension class <${t.className}> which already exists.`);\n      return;\n    }\n    t.dataLayerInstance = this, this._extensions.set(t.className, t), e ? this._logger.info(`Overriden registration for extension class <${t.className}>.`) : this._logger.info(`Registered extension class <${t.className}>.`);\n  }\n  /**\n   * Remove a registered {@link DataLayerExtension} instance.\n   *\n   * @param TConstructor The class to search for.\n   */\n  removeExtension(t) {\n    const e = new t();\n    if (this._extensions.has(e.className)) {\n      this._extensions.delete(e.className);\n      return;\n    }\n    this._logger.warn(`Tried to remove not existing extension class <${e.className}>.`);\n  }\n  /**\n   * Remove a registered {@link DataLayerExtension} instance by class name.\n   *\n   * @param className the name of the class\n   */\n  removeExtensionByClassName(t) {\n    if (this._extensions.has(t)) {\n      this._extensions.delete(t);\n      return;\n    }\n    this._logger.warn(`Tried to remove not existing extension class <${t}>.`);\n  }\n  /**\n   * Push a GlobalDataLayer Event with payload to the given data layer store. The method can fail and return `false`\n   *   because ...\n   *\n   *   - the given `eventName` was invalid\n   *   - the validation failed\n   *\n   * A settings object can be added as the third parameter to every call. This will then temporary override the provided\n   * settings for the time of the push action.\n   *\n   * @param eventName The name of the event that should be pushed.\n   * @param [payload] The _DataLayer_ properties to be merged and added to the data layer.\n   * @param [options] Temporary override the settings.\n   *\n   * @returns A boolean to indicate, if the push was successful.\n   */\n  push(t, e = [{}], s) {\n    var d, c;\n    if (t.length === 0)\n      return !1;\n    const i = s && !m(s) ? u(this._settings, s) : this._settings;\n    Array.isArray(e) || (e = [e]), e.forEach(k);\n    const n = this._eventNamePayloadFactory.create({ event: t }), l = k(this.getDefaultProperties(t));\n    i.clean.enabled && i.clean.executionPlace === y.BEFORE_MERGE && [l || {}, ...e].forEach(\n      (h) => P(h, i.clean.values)\n    );\n    const a = u(\n      n,\n      l || {},\n      ...e\n    );\n    if (i.clean.enabled && i.clean.executionPlace === y.AFTER_MERGE && P(a, i.clean.values), (d = i == null ? void 0 : i.validation) != null && d.enabled && ((c = i == null ? void 0 : i.validation) != null && c.eventMatrix)) {\n      const h = te(t, a, i.validation), g = h.issues.sort((f, p) => f.level !== p.level && p.level === \"warn\" ? -1 : 0).map((f) => `- [${f.level}]: ${f.message}`).join(`\n`);\n      switch (h.level) {\n        case \"error\":\n          return this._logger.error(\n            `Validation failed for event '${t}' with errors/warnings: \n${g}`,\n            i.logging\n          ), !1;\n        case \"warn\":\n          this._logger.warn(\n            `Validation success for event '${t}' with warnings: \n${g}`,\n            i.logging\n          );\n          break;\n        default:\n          this._logger.info(`Validation success for event '${t}'.`, i.logging);\n          break;\n      }\n    }\n    return this._dataLayerStore.push(a), !0;\n  }\n  /**\n   * Return the default properties for the given identifier.\n   *\n   * @param identifier The identifier to get the default properties for.\n   *\n   * @returns The found default properties for the identifier, otherwise `undefined`.\n   */\n  getDefaultProperties(t) {\n    const e = {\n      byName: [],\n      byArray: [],\n      byRegex: []\n    };\n    this._defaultProperties.forEach((i) => {\n      if (i.identifier === t)\n        return e.byName.push(i.data);\n      if (Array.isArray(i.identifier) && i.identifier.includes(t))\n        return e.byArray.push(i.data);\n      if (i.identifier instanceof RegExp && i.identifier.test(t))\n        return e.byRegex.push(i.data);\n    });\n    const s = [...e.byRegex, ...e.byArray, ...e.byName];\n    if (s.length)\n      return u(...s);\n  }\n  /**\n   * Set default properties, which will later be merged with the payload of a {@link push}, when the provided identifier\n   * matches the `eventName`.\n   *\n   * @param identifier The identifier to use the default properties for.\n   * @param data The default properties which will be used with the provided identifier to merge those properties with the payload.\n   */\n  setDefaultProperties(t, e) {\n    const s = this._defaultProperties.find((i) => i.identifier === t);\n    if (s) {\n      s.data = u(s.data, e);\n      return;\n    }\n    this._defaultProperties.push({\n      identifier: t,\n      data: e\n    });\n  }\n  /**\n   * Checks if the web properties feature ({@link getWebProperties}) is already handled or does the setup with the\n   * current settings.\n   *\n   * @private\n   */\n  _handleDefaultWebProperties() {\n    if (this._webPropertiesHandled || !this._settings.webProperties.enabled)\n      return;\n    const t = Z(\n      this._settings.webProperties,\n      this._webPayloadFactory\n    );\n    this.setDefaultProperties(this._settings.webProperties.eventNamePattern, t), this._webPropertiesHandled = !0;\n  }\n}\nclass oe extends ie {\n  /**\n   * Create an instance of the GlobalDataLayer library.\n   *\n   * @param options All options are merged with the {@link DEFAULT_SETTINGS} of type {@link TSettings}.\n   * @param [dataStore] The array where all the pushes are added to. The default tries to get or generate the\n   *   `window.pagData` array. If this is not possible, it creates an empty array, that is exposed via\n   *   {@link DataLayerStore}.\n   * @param [className] The class name of the library is here, because code can be uglified and/or minified later.\n   *\n   * @protected\n   */\n  constructor(e, s, i = \"GlobalDataLayer\") {\n    super(e, s, i);\n    o(this, \"_eventNamePayloadFactory\");\n    o(this, \"_webPayloadFactory\");\n    this._eventNamePayloadFactory = new U(), this._webPayloadFactory = new q(), this.setup();\n  }\n  setup() {\n    super.setup();\n  }\n}\nexport {\n  y as CleanExecutionPlace,\n  w as DEFAULT_SETTINGS,\n  L as DataLayerExtension,\n  U as EventNameFactory,\n  H as FrameTicker,\n  oe as GlobalDataLayer,\n  ie as GlobalDataLayerBaseClass,\n  b as Logger,\n  ae as PageNameExtenderExtension,\n  $ as ViewportTrackerExtension,\n  se as ViewportTrackerStatusChangeEvent,\n  q as WebPropertiesFactory,\n  P as clean,\n  G as cleanByDataLayerPaths,\n  _ as each,\n  S as eachFirstLevel,\n  k as executeEachFunction,\n  B as get,\n  C as getDataLayerPaths,\n  Z as getWebProperties,\n  m as isEmpty,\n  ne as isEmptyDataLayer,\n  u as merge,\n  te as validate\n};\n","import { GlobalDataLayer } from '@porsche/globaldatalayer';\nimport { TContextEnvironment, TDataLayer } from '@porsche/globaldatalayer-events/projects/pcom/all/types';\nimport { Environment, Environments } from '../../entities/environment';\nimport { splitLocale } from '../../entities/locale';\nimport { DATA_LAYER_APPLICATION_NAME, DATA_LAYER_APP_ID, EventAction } from '../../utility/constants';\nimport { isString } from '../../utility/helper';\n\nfunction getEnvironmentAbbreviation(env: Environment): TContextEnvironment {\n  switch (env) {\n    case Environments.PRODUCTION:\n      return 'P';\n    case Environments.PREVIEW:\n      return 'PP';\n    default:\n      return 'K';\n  }\n}\n\nclass GlobalDataLayerService {\n  homeNavEventId = /^PAGHomeNav_/;\n  gdl!: GlobalDataLayer<TDataLayer>;\n\n  constructor() {\n    this.initialise();\n  }\n\n  initialise() {\n    this.gdl = new GlobalDataLayer();\n  }\n\n  pushDataLayerEvent(eventAction: EventAction, eventData?: TDataLayer): void {\n    if (eventData) {\n      this.gdl.push(eventAction, eventData);\n    } else {\n      this.gdl.push(eventAction);\n    }\n  }\n\n  setEnvironment(env: Environment) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      context: { environment: getEnvironmentAbbreviation(env) }\n    });\n  }\n\n  setPageName(pageName?: string) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      pageExperience: {\n        pageName: pageName\n      }\n    });\n  }\n\n  setUser(userId: string, loginStatus: boolean) {\n    this.gdl.setDefaultProperties(this.homeNavEventId, {\n      ids: { userId },\n      visitor: { loginStatus }\n    });\n  }\n\n  setLocale(locale: string) {\n    try {\n      const { country, language } = splitLocale(locale);\n\n      this.gdl.setDefaultProperties(this.homeNavEventId, {\n        context: { country: country, language: language }\n      });\n    } catch (err) {\n      // throw the error away\n    }\n  }\n\n  setDefaultProperties(locale: string, pageName?: string): void {\n    let defaultGDLProperties: TDataLayer = {\n      context: { applicationId: DATA_LAYER_APP_ID },\n      visitor: { loginStatus: false }\n    };\n\n    try {\n      const { country, language } = splitLocale(locale);\n\n      defaultGDLProperties = {\n        ...defaultGDLProperties,\n        context: { ...defaultGDLProperties.context, country, language, applicationName: DATA_LAYER_APPLICATION_NAME }\n      };\n    } catch (err) {\n      // throw the error away\n    }\n\n    if (isString(pageName)) {\n      defaultGDLProperties = { ...defaultGDLProperties, pageExperience: { pageName: pageName } };\n    }\n\n    this.gdl.setDefaultProperties(this.homeNavEventId, defaultGDLProperties);\n  }\n}\n\nexport default new GlobalDataLayerService();\n","import { FOCUSABLE_ELEMENTS_SELECTOR } from '../../utility/constants';\nimport { getHTMLElement } from '../../utility/helper';\n\nexport function getAllFocusableElements(element: Element | null): HTMLElement[] {\n  const htmlElements: HTMLElement[] = [];\n\n  element?.querySelectorAll(FOCUSABLE_ELEMENTS_SELECTOR).forEach((element) => {\n    const htmlElement = getHTMLElement(element);\n\n    if (htmlElement !== null) {\n      htmlElements.push(htmlElement);\n    }\n  });\n\n  return htmlElements;\n}\n","import { h, JSX } from '@stencil/core';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { isString } from '../../utility/helper';\n\nexport const MainDrawerContent = ({\n  activeRoutingKey,\n  locale,\n  breakpoint,\n  backButtonText,\n  onClickBack,\n  receivedContent\n}: {\n  activeRoutingKey: string;\n  locale: string;\n  breakpoint: number;\n  backButtonText: string;\n  onClickBack: () => void;\n  receivedContent: boolean;\n}): JSX.Element => (\n  <div class=\"drawer-content\">\n    <div class=\"main-drawer-header\">\n      {isString(backButtonText) ? (\n        <phn-back-button\n          class=\"back-button\"\n          onClick={onClickBack}\n          text={backButtonText}\n          analyticsId={navContentStore.state.menu.id}\n          activeRoutingKey={activeRoutingKey}\n        />\n      ) : null}\n    </div>\n\n    <phn-router\n      activeRoutingKey={activeRoutingKey}\n      breakpoint={breakpoint}\n      locale={locale}\n      receivedContent={receivedContent}\n    />\n  </div>\n);\n","import { h, JSX } from '@stencil/core';\nimport { navContentStore } from '../../state/nav-content-store';\nimport { isString } from '../../utility/helper';\n\nexport const SideDrawerContent = ({\n  activeRoutingKey,\n  locale,\n  backButtonText,\n  onClickBack\n}: {\n  activeRoutingKey: string;\n  locale: string;\n  backButtonText: string;\n  onClickBack: () => void;\n}): JSX.Element => {\n  return (\n    <div class=\"drawer-content\">\n      <span class=\"first-focus\" tabIndex={-1} aria-hidden=\"true\" />\n\n      <div class=\"side-drawer-header\">\n        {isString(backButtonText) ? (\n          <phn-back-button\n            class=\"back-button\"\n            onClick={onClickBack}\n            text={backButtonText}\n            analyticsId={navContentStore.state.menu.id}\n            activeRoutingKey={activeRoutingKey}\n          />\n        ) : null}\n      </div>\n\n      <phn-side-drawer activeRoutingKey={activeRoutingKey} locale={locale} />\n    </div>\n  );\n};\n","import { Component, Element, Event, EventEmitter, Fragment, h, Host, Listen, Prop, State, Watch } from '@stencil/core';\nimport { findTopLevelRoutingKey, RoutingKeyPointers, RoutingKeys } from '../../entities/routing-key';\nimport analyticsManager from '../../services/analytics/analytics-manager';\nimport globalDataLayerService from '../../services/analytics/global-data-layer-service';\nimport animationManager from '../../services/animations/animation-manager';\nimport { getBackButtonText } from '../../services/menu-items-service';\nimport { navContentStore } from '../../state/nav-content-store';\nimport {\n  ClickElementTypes,\n  DisplayElementTypes,\n  ElementTypes,\n  EventActions,\n  FOCUSABLE_ELEMENTS_SELECTOR\n} from '../../utility/constants';\nimport { focusOnElement, getHTMLElement, isString } from '../../utility/helper';\nimport {\n  registerBackToPreviousMenuSequence,\n  registerCloseDoubleDrawerSequence,\n  registerForwardToNextMenuSequence,\n  registerOpenDoubleDrawerSequence,\n  registerTransitionSequence,\n  RouteChangeCallbacks\n} from './double-drawer-animation-sequences';\nimport { getAllFocusableElements } from './helper';\nimport { MainDrawerContent } from './main-drawer-content';\nimport { SideDrawerContent } from './side-drawer-content';\nimport { DrawerStatusTypes, DrawerStatusValues } from '../../utility/constants/app';\n\n@Component({\n  tag: 'phn-double-drawer',\n  styleUrl: 'double-drawer.scss',\n  scoped: true\n})\nexport class DoubleDrawer {\n  @Prop() breakpoint!: number;\n  @Prop() locale!: string;\n  @Prop() initialUsingKeyboard = false;\n  @Prop() routingKeyHistory: string[] = [];\n  @Prop() routingKeyPointer: number = RoutingKeyPointers.LEVEL_ZERO;\n  @Prop() receivedContent!: boolean;\n\n  @Event() clickDrawerHeaderClose!: EventEmitter<void>;\n  @Event() clickDrawerHeaderBack!: EventEmitter<void>;\n  @Event() drawerClosed!: EventEmitter<void>;\n  @Event() drawerChanged!: EventEmitter<boolean>;\n  @Event() backdropClosed!: EventEmitter<void>;\n  @Event({ composed: true, bubbles: true }) phnDrawerStatus!: EventEmitter<{\n    status: DrawerStatusTypes;\n  }>;\n\n  @Element() el!: HTMLPhnDoubleDrawerElement;\n\n  @State() usingKeyboard = false;\n  @State() animatingRoutingKeyPointer = RoutingKeyPointers.LEVEL_ZERO;\n  @State() isAnimating = true;\n  @State() animatingRoutingKey = '';\n\n  @Watch('routingKeyPointer')\n  watchRoutingKeyPointer(newPointer: number, oldPointer: number): void {\n    if (oldPointer < newPointer) {\n      const topLevelRoutingKey = findTopLevelRoutingKey(this.routingKeyHistory[this.routingKeyPointer]);\n      if (topLevelRoutingKey === RoutingKeys.DEALER_SEARCH) {\n        animationManager.play('transitionSameLevelDoubleDrawer').then(() => this.focusOnInitialElement());\n      } else {\n        animationManager.play('transitionNextLevelDoubleDrawer').then(() => this.focusOnInitialElement());\n      }\n    }\n  }\n\n  @Watch('routingKeyHistory')\n  watchRoutingKeyHistory(newHistory: string[], oldHistory: string[]): void {\n    if (newHistory.length < oldHistory.length || this.animateIfSameLength(newHistory, oldHistory)) {\n      animationManager.play('transitionSameLevelDoubleDrawer').then(() => this.focusOnInitialElement());\n    }\n  }\n\n  @Listen('resize', { target: 'window' })\n  onResizeWindow(): void {\n    if (this.animatingRoutingKeyPointer !== this.routingKeyPointer) {\n      this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n      this.animatingRoutingKeyPointer = this.routingKeyPointer;\n    }\n  }\n\n  @Listen('keydown', { passive: false })\n  handleKeyDown(e: KeyboardEvent): void {\n    if (e.key !== 'Tab') {\n      return;\n    }\n\n    let activeRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    if (activeRoutingKey.startsWith(RoutingKeys.DEALER_SEARCH)) {\n      activeRoutingKey = activeRoutingKey.split('/')[0];\n    }\n\n    const eventSourceElement = getHTMLElement(e.target);\n    if (eventSourceElement === null) {\n      return;\n    }\n\n    const focusableSideDrawerElements = getAllFocusableElements(this.el.querySelector('#side-drawer'));\n    let focusableMainDrawerElements = getAllFocusableElements(this.el.querySelector('#main-drawer'));\n\n    if (focusableSideDrawerElements.length === 0 || focusableMainDrawerElements.length === 0) {\n      return;\n    }\n\n    const highlightedSideDrawerElementIndex = focusableSideDrawerElements.findIndex(\n      (el) => el.getAttribute('data-id') === activeRoutingKey\n    );\n    const highlightedSideDrawerElement = focusableSideDrawerElements[highlightedSideDrawerElementIndex];\n\n    if (activeRoutingKey === RoutingKeys.DEALER_SEARCH) {\n      focusableMainDrawerElements = focusableMainDrawerElements.filter(\n        (element) => element.nodeName !== 'BUTTON' && element.nodeName !== 'A'\n      );\n    }\n\n    const lastSideDrawerElement = focusableSideDrawerElements[focusableSideDrawerElements.length - 1];\n    const lastMainDrawerElement = focusableMainDrawerElements[focusableMainDrawerElements.length - 1];\n\n    const closeButton = this.el.querySelector('.close-button');\n\n    if (!e.shiftKey) {\n      if (eventSourceElement === highlightedSideDrawerElement) {\n        e.preventDefault();\n        focusOnElement(focusableMainDrawerElements[0]);\n        return;\n      }\n\n      if (eventSourceElement === lastSideDrawerElement) {\n        e.preventDefault();\n        if (closeButton !== null) {\n          focusOnElement(closeButton);\n        }\n      }\n\n      if (eventSourceElement === lastMainDrawerElement) {\n        e.preventDefault();\n\n        const nextSideDrawerElementIndex =\n          highlightedSideDrawerElementIndex + 1 >= focusableSideDrawerElements.length\n            ? 0\n            : highlightedSideDrawerElementIndex + 1;\n\n        const nextSideDrawerElement = getHTMLElement(focusableSideDrawerElements[nextSideDrawerElementIndex]);\n\n        focusOnElement(nextSideDrawerElement);\n      }\n\n      if (eventSourceElement === closeButton) {\n        e.preventDefault();\n        focusOnElement(focusableSideDrawerElements[0]);\n      }\n    } else if (e.shiftKey) {\n      if (eventSourceElement === focusableMainDrawerElements[0]) {\n        e.preventDefault();\n        if (highlightedSideDrawerElement !== null) {\n          focusOnElement(highlightedSideDrawerElement);\n        }\n      }\n\n      if (eventSourceElement === closeButton) {\n        e.preventDefault();\n        focusOnElement(lastSideDrawerElement);\n      }\n    }\n  }\n\n  @Listen('mobileMenuItemClick')\n  handleMobileMenuItemClick(event: CustomEvent<string[]>): void {\n    if (animationManager.isPlaying('transitionNextLevelDoubleDrawer')) {\n      event.stopPropagation();\n    }\n  }\n\n  @Listen('sideDrawerItemClick')\n  handleSideDrawerItemClick(event: CustomEvent<string[]>): void {\n    if (animationManager.isPlaying('transitionSameLevelDoubleDrawer')) {\n      event.stopPropagation();\n    }\n  }\n\n  private focusOnInitialElement(): void {\n    const isNavigatingBackwards = this.routingKeyPointer < this.routingKeyHistory.length - 1;\n\n    let focusedRoutingKey = isNavigatingBackwards\n      ? this.routingKeyHistory[this.routingKeyPointer + 1]\n      : this.routingKeyHistory[this.routingKeyPointer];\n    if (focusedRoutingKey.startsWith(RoutingKeys.DEALER_SEARCH)) {\n      focusedRoutingKey = focusedRoutingKey.split('/')[0];\n    }\n\n    const autoFocusElement = getHTMLElement(this.el.querySelector('.autofocus'));\n    if (autoFocusElement !== null) {\n      focusOnElement(autoFocusElement);\n      return;\n    }\n\n    if (this.usingKeyboard) {\n      let focusableElement: HTMLElement | null = null;\n\n      if (isString(focusedRoutingKey)) {\n        focusableElement = getHTMLElement(this.el.querySelector(`[data-id=\"${focusedRoutingKey}\"]`));\n      }\n\n      if (focusableElement === null) {\n        focusableElement = getHTMLElement(this.el.querySelector(`${FOCUSABLE_ELEMENTS_SELECTOR}`));\n      }\n\n      if (focusableElement !== null) {\n        focusOnElement(focusableElement);\n      }\n\n      return;\n    }\n\n    const firstFocus = getHTMLElement(this.el.querySelector('.first-focus'));\n    if (firstFocus !== null) {\n      focusOnElement(firstFocus);\n    }\n  }\n\n  private async goBackToPreviousMenu(): Promise<void> {\n    if (this.routingKeyPointer === this.animatingRoutingKeyPointer) {\n      this.clickDrawerHeaderBack.emit();\n\n      const topLevelRoutingKey = findTopLevelRoutingKey(this.routingKeyHistory[this.routingKeyPointer]);\n      if (topLevelRoutingKey === RoutingKeys.DEALER_SEARCH) {\n        animationManager.play('transitionSameLevelDoubleDrawerReverse').then(() => this.focusOnInitialElement());\n      } else {\n        animationManager.play('transitionPreviousLevelDoubleDrawer').then(() => this.focusOnInitialElement());\n      }\n    }\n  }\n\n  private async updateRouting(): Promise<void> {\n    this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    this.animatingRoutingKeyPointer = this.routingKeyPointer;\n\n    const isNavigatingBackwards = this.routingKeyPointer < this.routingKeyHistory.length - 1;\n    this.drawerChanged.emit(isNavigatingBackwards);\n\n    this.sendDoubleDrawerLoadDataEvent();\n  }\n\n  private sendDoubleDrawerLoadDataEvent() {\n    analyticsManager.setDrawerType(DisplayElementTypes.DoubleDrawer);\n    const activeRoutingKey: string = this.animatingRoutingKey || '';\n\n    globalDataLayerService.pushDataLayerEvent(EventActions.DRAWER_LOAD, {\n      componentDisplay: {\n        displayElementType: analyticsManager.calculateDisplayElementType(activeRoutingKey, ElementTypes.doubleDrawer),\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementName: 'Double Drawer'\n      }\n    });\n  }\n\n  private sendDataEventOfCloseButtonClick() {\n    const activeRoutingKey: string = this.animatingRoutingKey || '';\n    globalDataLayerService.pushDataLayerEvent(EventActions.MENU_CLOSE_CLICK, {\n      componentClick: {\n        clickElementId: 'mainmenu.drawer.close',\n        clickElementName: 'X',\n        clickElementType: ClickElementTypes.Button,\n        targetElement: 'level-0'\n      },\n      componentDisplay: {\n        displayElementType: analyticsManager.calculateDisplayElementType(activeRoutingKey, ElementTypes.closeButton),\n        displayElementId: analyticsManager.calculateDisplayElementId(),\n        displayElementName: 'Double Drawer'\n      }\n    });\n  }\n\n  private animateIfSameLength(newHistory: string[], oldHistory: string[]): boolean {\n    return (\n      newHistory.length === oldHistory.length &&\n      this.routingKeyPointer === newHistory.length - 1 &&\n      newHistory[newHistory.length - 1] !== oldHistory[oldHistory.length - 1]\n    );\n  }\n\n  componentWillLoad(): void {\n    this.animatingRoutingKey = this.routingKeyHistory[this.routingKeyPointer];\n    this.animatingRoutingKeyPointer = this.routingKeyPointer;\n    this.usingKeyboard = this.initialUsingKeyboard;\n  }\n\n  componentDidLoad(): void {\n    const routeChangeCallbacks: RouteChangeCallbacks = {\n      onSlideMainDrawerOutEnd: async () => this.updateRouting()\n    };\n\n    registerOpenDoubleDrawerSequence({\n      onAnimationStarts: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.startOpening });\n      },\n      onAnimationEnds: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.finishOpening });\n        this.focusOnInitialElement();\n      }\n    });\n    registerCloseDoubleDrawerSequence({\n      onBackdropFadeOutEnd: async () => {\n        this.backdropClosed.emit();\n      },\n      onAnimationStarts: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.startClosing });\n      },\n      onAnimationEnds: () => {\n        this.phnDrawerStatus.emit({ status: DrawerStatusValues.finishClosing });\n      }\n    });\n    registerBackToPreviousMenuSequence(routeChangeCallbacks);\n    registerForwardToNextMenuSequence(routeChangeCallbacks);\n    registerTransitionSequence(routeChangeCallbacks);\n    registerTransitionSequence(routeChangeCallbacks, 'reverse');\n\n    this.sendDoubleDrawerLoadDataEvent();\n  }\n\n  render(): HTMLPhnDoubleDrawerElement {\n    const previousRoutingKey = this.routingKeyHistory[this.animatingRoutingKeyPointer - 1];\n    const backButtonText = getBackButtonText(navContentStore.state, previousRoutingKey);\n    const topLevelRoutingKey = findTopLevelRoutingKey(this.animatingRoutingKey);\n    const wasPreviouslyOnDealerSearch = findTopLevelRoutingKey(previousRoutingKey) === RoutingKeys.DEALER_SEARCH;\n    const isOnDealerDetails =\n      topLevelRoutingKey === RoutingKeys.DEALER_SEARCH && this.animatingRoutingKey !== topLevelRoutingKey;\n    return (\n      <Host role=\"dialog\" aria-modal=\"true\" aria-label=\"navigation modal dialog\">\n        <phn-p-button\n          variant=\"secondary\"\n          class=\"close-button\"\n          theme=\"dark\"\n          hide-label=\"true\"\n          icon={'close'}\n          aria=\"{ 'aria-label': 'close modal dialog' }\"\n          data-test-id=\"close-button\"\n          onClick={() => {\n            this.sendDataEventOfCloseButtonClick();\n            this.clickDrawerHeaderClose.emit();\n          }}\n        />\n        {isString(this.animatingRoutingKey) ? (\n          <Fragment>\n            <div class=\"drawer\" id=\"side-drawer\">\n              <SideDrawerContent\n                activeRoutingKey={this.animatingRoutingKey}\n                locale={this.locale}\n                backButtonText={wasPreviouslyOnDealerSearch ? '' : backButtonText}\n                onClickBack={() => this.goBackToPreviousMenu()}\n              />\n            </div>\n\n            <div class=\"drawer\" id=\"main-drawer\">\n              <MainDrawerContent\n                activeRoutingKey={this.animatingRoutingKey}\n                breakpoint={this.breakpoint}\n                locale={this.locale}\n                backButtonText={isOnDealerDetails ? backButtonText : ''}\n                receivedContent={this.receivedContent}\n                onClickBack={() => this.goBackToPreviousMenu()}\n              />\n              <div class=\"bottom-gradient\" />\n            </div>\n          </Fragment>\n        ) : null}\n      </Host>\n    );\n  }\n}\n","@import '../../scss';\n\n$drawer-width: (\n  'm':  p-px-to-rem(336px),\n  'l':  p-px-to-rem(405px),\n  'xxl':  p-px-to-rem(606px),\n  'default': p-px-to-rem(330px)\n);\n$drawer-paddings: (\n  'm':  p-px-to-rem(36px),\n  'l':  p-px-to-rem(48px),\n  'xxl':  p-px-to-rem(84px),\n  'default': p-px-to-rem(28px)\n);\n\n:host {\n  position: fixed;\n  top: 0;\n  left: -1000px;\n  height: 100vh;\n  width: fit-content;\n  z-index: $phn-z-index-mega-flyout + 1;\n\n  @include pds-media-query-min('xxl') {\n    left: -1300px;\n  }\n\n  &.opening-animation {\n    left: 0px;\n    transition: left 600ms;\n  }\n\n  &.closing-animation {\n    left: -1000px;\n    transition: left 600ms;\n\n    @include pds-media-query-min('xxl') {\n      left: -1300px;\n    }\n  }\n\n  .close-button {\n    $button-width: 48px;\n    $button-margin: 28px;\n    position: absolute;\n    right: p-px-to-rem(-($button-width + $button-margin));\n    z-index: $phn-z-index-mega-flyout + 1;\n    width: p-px-to-rem($button-width);\n    height: p-px-to-rem($button-width);\n    margin-top: p-px-to-rem($button-margin);\n    cursor: pointer;\n  }\n\n  .drawer {\n    overflow-y: auto;\n    overflow-x: hidden;\n    position: relative;\n    background-color: $pds-theme-light-background-base;\n    height: 100vh;\n\n    transition: left 400ms;\n\n    &#side-drawer {\n      z-index: $phn-z-index-mega-flyout + 2;\n      float: left;\n      width: calc(map-get($drawer-width, 'default') - calc(map-get($drawer-paddings, 'default') +  map-get($drawer-paddings, 'default')));\n      padding-left: map-get($drawer-paddings, 'default');\n      padding-right: map-get($drawer-paddings, 'default');\n\n      @include pds-media-query-min('m') {\n        width: calc(map-get($drawer-width, 'm') - calc(map-get($drawer-paddings, 'm') +  map-get($drawer-paddings, 'm')));\n        padding-left: map-get($drawer-paddings, 'm');\n        padding-right: map-get($drawer-paddings, 'm');\n      }\n      @include pds-media-query-min('l') {\n        width: calc(map-get($drawer-width, 'l') - calc(map-get($drawer-paddings, 'l') +  map-get($drawer-paddings, 'l')));\n        padding-left: map-get($drawer-paddings, 'l');\n        padding-right: map-get($drawer-paddings, 'l');\n      }\n      @include pds-media-query-min('xxl') {\n        width: calc(map-get($drawer-width, 'xxl') - calc(map-get($drawer-paddings, 'xxl') +  map-get($drawer-paddings, 'xxl')));\n        padding-left: map-get($drawer-paddings, 'xxl');\n        padding-right: map-get($drawer-paddings, 'xxl');\n      }\n\n      & > div {\n        left: 0;\n      }\n\n      phn-side-drawer {\n        padding-bottom: 6rem;\n      }\n\n      .side-drawer-header {\n        box-sizing: border-box;\n        height: p-px-to-rem(92px);\n        padding-top: p-px-to-rem(42px);\n\n        @include pds-media-query-min('l') {\n          height: p-px-to-rem(96px);\n        }\n\n        @include pds-media-query-min('xxl') {\n          height: p-px-to-rem(128px);\n          padding-top: p-px-to-rem(60px);\n        }\n\n        phn-back-button {\n          margin-left: p-px-to-rem(-8px); // to make it look like the icon starts with the side-drawer-item\n          height: p-px-to-rem(24px);\n        }\n      }\n    }\n\n    &#main-drawer {\n      z-index: $phn-z-index-mega-flyout + 1;\n      float: right;\n      border-radius: 0 4px 4px 0;\n      background-color: $main-drawer-background-color;\n      box-sizing: border-box;\n      position: static;\n      width: map-get($drawer-width, 'default');\n      padding-left: map-get($drawer-paddings, 'default');\n      padding-right: map-get($drawer-paddings, 'default');\n\n      @include pds-media-query-min('m') {\n        width: map-get($drawer-width, 'm');\n        padding-left: map-get($drawer-paddings, 'm');\n        padding-right: map-get($drawer-paddings, 'm');\n      }\n      @include pds-media-query-min('l') {\n        width: map-get($drawer-width, 'l');\n        padding-left: map-get($drawer-paddings, 'l');\n        padding-right: map-get($drawer-paddings, 'l');\n      }\n      @include pds-media-query-min('xxl') {\n        width: map-get($drawer-width, 'xxl');\n        padding-left: map-get($drawer-paddings, 'xxl');\n        padding-right: map-get($drawer-paddings, 'xxl');\n      }\n\n      & > div {\n        left: 0;\n      }\n\n\n      phn-router {\n        padding-bottom: 6rem;\n      }\n\n      .main-drawer-header {\n        box-sizing: border-box;\n        height: p-px-to-rem(66px);\n        padding-top: p-px-to-rem(40px);\n        margin-bottom: p-px-to-rem(26px);\n\n        @include pds-media-query-min('l') {\n          margin-bottom: p-px-to-rem(30px);\n        }\n\n        @include pds-media-query-min('xxl') {\n          height: p-px-to-rem(84px);\n          margin-bottom: p-px-to-rem(44px);\n          padding-top: p-px-to-rem(40px);\n        }\n\n        phn-back-button {\n          // to make it look like the icon aligns with the left border of the main drawer\n          margin-left: p-px-to-rem(-8px);\n          height: p-px-to-rem(24px);\n        }\n      }\n\n      .bottom-gradient {\n        z-index: 302;\n\n        @include drawer-gradient(rgba(255, 255, 255, 0), $main-drawer-background-color);\n        width: map-get($drawer-width, 'default');\n        margin-left: map-get($drawer-width, 'default');\n        border-radius: 0 0 4px 0;\n\n        @include pds-media-query-min('m') {\n          width: map-get($drawer-width, 'm');\n          margin-left: map-get($drawer-width, 'm');\n        }\n\n        @include pds-media-query-min('l') {\n          width: map-get($drawer-width, 'l');\n          margin-left: map-get($drawer-width, 'l');\n        }\n\n        @include pds-media-query-min('xxl') {\n          width: map-get($drawer-width, 'xxl');\n          margin-left: map-get($drawer-width, 'xxl');\n        }\n      }\n    }\n  }\n}\n","import { createStore } from '@stencil/store';\n\ninterface RouterStore {\n  routingKeyHistory: string[];\n  routingKeyPointer: number;\n  initialRoutingKeyHistory: string[] | null;\n  initialRoutingKeyPointer: number | null;\n}\n\nexport const routerStore = createStore<RouterStore>({\n  routingKeyHistory: [],\n  routingKeyPointer: -1,\n  initialRoutingKeyHistory: null,\n  initialRoutingKeyPointer: null\n});\n"],"names":["state","calculateDisplayElementId","e","t","drawerType","r","isString","getPreviousRoutingKey","routerStore","routingKeyHistory","routingKeyPointer","a","getLastRoutingSegment","n","determineMainDrawerLevel","l","i","concat","o","getSideDrawerRoutingKey","calculateDisplayElementType","getDrawerType","analyticsManager","setDrawerType","getDealerResultsLoadDisplayElementId","getDealerResultsLoadDisplayElementType","DEALER_SEARCH_ELEMENT_TYPE","ElementTypes","dealerSearchForm","getModelName","link","split","length","undefined","join","getModelTargetElement","includes","toLowerCase","animationRegistry","sequences","rootElement","applyCurrentAnimationSequenceStep","currentStepIndex","steps","resolve","call","promise","finishAnimationSequence","push","executeAnimation","Promise","all","u","sent","reject","s","setTimeout","animationEndListener","getHTMLElement","target","Error","type","dataset","phnAmId","finishAnimationPromise","onStart","onEnd","animation","elementSelector","isPromise","f","Array","from","querySelectorAll","c","generateAndCleanUpAnimationPromise","animationPromiseGenerator","cleanUpBeforeAnimation","cleanUpAfterAnimation","classList","remove","className","Math","floor","random","add","toString","console","warn","String","timeout","clearTimeout","makeSequence","map","Object","assign","running","animationManager","initialize","addEventListener","play","isPlaying","register","reset","keys","forEach","AnimationSequences","OPEN_DOUBLE_DRAWER","CLOSE_DOUBLE_DRAWER","TRANSITION_SAME_LEVEL_DOUBLE_DRAWER","TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE","TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER","TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER","OPEN_SINGLE_DRAWER","CLOSE_SINGLE_DRAWER","TRANSITION_NEXT_LEVEL_SINGLE_DRAWER","TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER","resetToFarRight","style","left","position","mainDrawerHTMLSelector","registerOpenDoubleDrawerSequence","onAnimationStarts","opacity","backgroundColor","onAnimationEnds","registerCloseDoubleDrawerSequence","onBackdropFadeOutEnd","registerTransitionSequence","onSlideMainDrawerOutEnd","registerForwardToNextMenuSequence","registerBackToPreviousMenuSequence","isPlayingDoubleDrawerAnimation","some","M","defineProperty","enumerable","configurable","writable","value","W","y","w","clean","enabled","executionPlace","values","logging","level","validation","allowUnknown","verbose","webProperties","eventNamePattern","reactiveUrl","reactiveDimensions","U","prototype","create","event","context","eventAction","_","S","m","P","k","B","j","x","error","log","v","this","prefix","settings","__assign","_getMergedSettings","_isAllowed","isAvailable","_log","dir","debug","info","b","arguments","isArray","q","timestamp","server","hostname","pageExperience","pageId","url","visitor","deviceBrowserBreakpoint","breakpoint","deviceBrowserHeight","height","deviceBrowserOrientation","orientation","deviceBrowserWidth","width","deviceType","useragent","userAgent","K","V","window","location","href","replace","R","innerHeight","D","innerWidth","T","J","breakpoints","ee","indexOf","trim","test","Number","parseFloat","te","issues","eventMatrix","events","__rest","name","message","C","filter","G","p","g","d","h","ie","Map","_className","_logger","_settings","_dataLayerStore","pagData","_defaultProperties","setup","_handleDefaultWebProperties","getRegisteredExtension","getRegisteredExtensionByClassName","_extensions","has","get","getRegisteredExtensions","registerExtension","dataLayerInstance","set","removeExtension","delete","removeExtensionByClassName","_eventNamePayloadFactory","getDefaultProperties","__spreadArray","apply","sort","byName","byArray","byRegex","identifier","data","RegExp","setDefaultProperties","find","_webPropertiesHandled","Date","toISOString","matchMedia","matches","navigator","Z","_webPayloadFactory","oe","__extends","getEnvironmentAbbreviation","Environments","PRODUCTION","PREVIEW","GlobalDataLayerService","homeNavEventId","initialise","gdl","pushDataLayerEvent","setEnvironment","environment","setPageName","pageName","setUser","ids","userId","loginStatus","setLocale","splitLocale","country","language","applicationId","DATA_LAYER_APP_ID","applicationName","DATA_LAYER_APPLICATION_NAME","globalDataLayerService","getAllFocusableElements","FOCUSABLE_ELEMENTS_SELECTOR","E","MainDrawerContent","activeRoutingKey","locale","backButtonText","onClickBack","receivedContent","class","onClick","text","analyticsId","navContentStore","menu","id","SideDrawerContent","tabIndex","DoubleDrawer","RoutingKeyPointers","LEVEL_ZERO","watchRoutingKeyPointer","findTopLevelRoutingKey","RoutingKeys","DEALER_SEARCH","then","focusOnInitialElement","watchRoutingKeyHistory","animateIfSameLength","onResizeWindow","animatingRoutingKeyPointer","animatingRoutingKey","handleKeyDown","key","startsWith","el","querySelector","findIndex","getAttribute","nodeName","shiftKey","preventDefault","focusOnElement","handleMobileMenuItemClick","stopPropagation","handleSideDrawerItemClick","usingKeyboard","goBackToPreviousMenu","clickDrawerHeaderBack","emit","updateRouting","drawerChanged","sendDoubleDrawerLoadDataEvent","DisplayElementTypes","EventActions","DRAWER_LOAD","componentDisplay","displayElementType","doubleDrawer","displayElementId","displayElementName","sendDataEventOfCloseButtonClick","MENU_CLOSE_CLICK","componentClick","clickElementId","clickElementName","clickElementType","ClickElementTypes","Button","targetElement","closeButton","componentWillLoad","initialUsingKeyboard","componentDidLoad","__awaiter","__generator","phnDrawerStatus","status","DrawerStatusValues","startOpening","finishOpening","backdropClosed","startClosing","finishClosing","render","getBackButtonText","Host","role","variant","theme","icon","aria","clickDrawerHeaderClose","Fragment","createStore","initialRoutingKeyHistory","initialRoutingKeyPointer"],"sourceRoot":""}