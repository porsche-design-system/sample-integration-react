{"version":3,"file":"static/js/6249.e479cb49.chunk.js","mappings":"umDAmBaA,GAA2BC,EAAAA,EAAAA,GAAiC,CACvEC,WAAY,GACZC,QAAS,KACTC,kBASF,WACE,IACE,OAAOC,KAAKC,MAAMC,EAAAA,EAAcC,UAAUC,EAAAA,G,CAC1C,MAAOC,GACP,OAAO,I,CAEX,CAfqBC,GACnBC,WAAY,CAAC,EACbC,gBAAiB,CAAEC,QAAS,MAG9Bd,EAAyBe,SAAS,qBAAqB,SAACL,GACtDH,EAAAA,EAAcS,UAAUP,EAAAA,EAAqBJ,KAAKY,UAAUP,GAC9D,ICzBO,IAAMQ,EAA+C,CAAC,ECoKhDC,EAAkB,I,WAxJ/B,SAAAT,IACE,KAAAU,OAA8B,KAC9B,KAAAC,YAA4B,E,QAEtBX,EAAAY,UAAAC,KAAN,W,oGACMC,EAAAA,EAAeC,0BAAf,Y,iBAEA,O,sBAAA,GAAMC,KAAKC,a,OACX,OADAC,EAAAC,OACA,GAAMH,KAAKI,mB,cAAXF,EAAAC,O,+BAEAE,EAAAA,EAAOC,MAAM,iCAAkCtB,G,+BAKrDA,EAAAY,UAAAW,QAAA,SAAQvB,GACN,GAAIc,EAAAA,EAAeC,0BACjB,IACE,IAAMG,EAAaF,KAAKQ,cAAcxB,GACpBgB,KAAKS,aAAaP,GAC1BQ,U,CACV,MAAOR,GACPG,EAAAA,EAAOC,MAAM,gCAAAK,OAAgC3B,GAAkBkB,E,GAKrElB,EAAAY,UAAAgB,qBAAA,SAAqB5B,GACnB,GAAIc,EAAAA,EAAeC,0BACjB,IACE,IAAMG,EAAaF,KAAKQ,cAAcxB,EAAK6B,gBACrCC,EAAYd,KAAKS,aAAaP,GACpC,MAAuB,aAAnBY,EAAUC,KACL/B,EAAKgC,SAEPF,EAAUJ,U,CACjB,MAAOR,GACPG,EAAAA,EAAOC,MAAM,gCAAAK,OAAgC3B,EAAK6B,gBAAkBX,E,CAGxE,OAAOlB,EAAKgC,Q,EAGAhC,EAAAY,UAAAK,UAAN,W,gGACN,OAAID,KAAKN,OAAe,CAAP,EAAOuB,QAAQC,QAAQlB,KAAKN,SAE7C,GAAMM,KAAKmB,gB,OAGX,OAHAjB,EAAAC,OACMnB,EAAIoC,OACVpB,KAAKN,OAASV,EAAEqC,OACT,CAAP,EAAOrB,KAAKN,Q,QAGAV,EAAAY,UAAAQ,gBAAN,W,mFAIN,IAAWkB,KAHLtC,EAASgB,KAAKuB,YACdrB,EAAoBlB,EAAOwC,UAAUC,WACrCX,EAAyBd,KAAK0B,0BAE5BC,EAAuBb,EAAuBQ,GAC9CM,EAAa,IAAI1B,EAAkByB,GACzC3B,KAAKL,YAAYkC,KAAKD,G,iBAIpB5C,EAAAY,UAAAkC,gCAAN,W,uFACE,GAAIhC,EAAAA,EAAeC,4BACXf,EAASgB,KAAKuB,YACdrB,EAAoBlB,EAAOwC,UAAUC,WACrCX,EAAqBiB,EAAAA,EAAgBC,MAAMC,eAG/C,IAAAX,EAAA,EAAmCK,EAAAb,EAAAQ,EAAAK,EAAAO,OAAAZ,IAAxBM,EAAoBD,EAAAL,GACvBa,EAAmCP,EAAqBQ,WAAWC,KACvE,SAACrD,GAA8B,OAC7B+B,KAAM/B,EAAU+B,KAChBL,SAAU,WAAM,OAAA1B,EAAUgC,QAAV,EAFa,IAKjCmB,EAAoBN,KAAK,CACvBd,KAAM,WACNL,SAAU,WAAM,eAEZ4B,EAAa,IAAIpC,EAAiBqC,OAAAC,OAAAD,OAAAC,OAAC,CAAC,EAAIZ,GAAoB,CAAEQ,WAAYD,KAChFnC,KAAKL,YAAYkC,KAAKS,G,iBAMtBtD,EAAAY,UAAAY,cAAA,SAAcxB,GACpB,IAAMkB,EAAaF,KAAKL,YAAY8C,MAAK,SAACvC,GAAe,OAAAA,EAAWa,OAAS/B,CAApB,IACzD,IAAKkB,EAAY,MAAM,IAAIwC,EAAAA,EAAU,4BAAA/B,OAA4B3B,EAAI,UAAU2D,EAAAA,EAAeC,SAC9F,OAAO1C,C,EAGDlB,EAAAY,UAAAa,aAAA,SAAazB,GACnB,IAAMkB,EAAgBlB,EAAW6D,4BAC3B/B,EAAY9B,EAAWoD,WAAWK,MAAK,SAACzD,GAAc,OAAAA,EAAU+B,OAASb,CAAnB,IAE5D,IAAKY,EACH,MAAM,IAAI4B,EAAAA,EACR,+BAAA/B,OAA+B3B,EAAW+B,KAAI,gBAAAJ,OAAeT,EAAa,UAC1EyC,EAAAA,EAAeC,SAEnB,OAAO9B,C,EAGD9B,EAAAY,UAAA2B,UAAA,WACN,IAAKvB,KAAKN,OAAQ,MAAM,IAAIgD,EAAAA,EAAU,6CAA8CC,EAAAA,EAAeC,SACnG,OAAO5C,KAAKN,M,EAGNV,EAAAY,UAAAuB,aAAA,eAAAnC,EAAA,KACN,OAAO,IAAIiC,SAAQ,SAACf,EAASY,GAC3B,IAAMQ,EAAIwB,SAASC,cAAc,UACjCzB,EAAE0B,KAAOhE,EAAKiE,kBACdH,SAASI,KAAKC,YAAY7B,GAE1B,IAAMK,GAAeyB,EAAAA,EAAAA,GACnBN,SAASO,cAAc,oEAGrB1B,GACFA,EAAa2B,OAAS,WACpBpD,GAAQ,E,EAEVyB,EAAa4B,QAAU,WAAM,OAAAzC,EAAO,IAAI4B,EAAAA,EAAU,iCAAkCC,EAAAA,EAAeC,SAAtE,GAE7B9B,EAAO,IAAI4B,EAAAA,EAAU,4CAA6CC,EAAAA,EAAeC,S,KAK/E5D,EAAAY,UAAA8B,wBAAA,WACN,OAAOlC,C,EAGDR,EAAAY,UAAAqD,gBAAA,WACN,IAAMjE,EAAqBwE,EAAAA,EAAcxB,MAAMyB,IAC/C,MAAO,iRAAA9C,OAM4C,eAAvB3B,EAAsC,IAAM,IAAG,iO,iBC7JvD0E,IACtB,OAAOjE,CACT,C,6QC6BgBkE,EACd3E,EACAkB,EACAoB,EACAK,EACAQ,EACAG,G,QAQIsB,EANIC,EAA2E7E,EAAO8E,OAA1EC,EAAmE/E,EAAOgF,OAAlEC,EAA2DjF,EAAOkF,UAAvDC,EAAgDnF,EAAOoF,gBAAtCC,EAA+BrF,EAAOsF,KAAhCC,EAAyBvF,EAAOwF,WAApBC,EAAazF,EAAO0F,SAClFC,EAAkCzE,EAAmBxB,kBAAlCkG,EAAe1E,EAAmBhB,WACrD2F,EAAQrB,EAAAA,EAAcxB,MAAK8C,IAC7BC,EAAoC,OAAtBJ,EAA6BC,EAAWD,EAAkBK,SAAMC,EAIrE,UAAX3D,GAAsBuC,EAAOqB,OAAOC,eACtCvB,EAAyC,QAA1B9C,EAAA+C,EAAOqB,OAAOC,oBAAY,IAAArE,OAAA,EAAAA,EAAEsE,MAG7C,IAAMC,EAA8B,CAACC,EAAAA,EAAYC,oBAE7BN,IAAhBF,GAA+E,IAAZ,QAAtCnD,EAAAtD,EAAAA,EAAyB0D,MAAMvD,eAAO,IAAAmD,OAAA,EAAAA,EAAEM,SACvEmD,EAAkBxD,MAAK2D,EAAAA,EAAAA,GAA2BT,EAAYU,UAAUT,KAG1E,IAAMU,EAAwB,CAC5B,CACEC,UAAWL,EAAAA,EAAYM,OACvBC,YAAa,CAACP,EAAAA,EAAYM,QAC1BE,YAAa/B,EAAOiB,GACpBhC,KAAMe,EAAOf,MAEf,CACE2C,UAAWL,EAAAA,EAAYS,iBACvBF,YAAa,CAACP,EAAAA,EAAYS,kBAC1BD,YAAa3B,EAAgBa,GAC7BhC,KAAMmB,EAAgBnB,MAExB,CACE2C,UAAWL,EAAAA,EAAYU,SACvBH,YAAa,CAACP,EAAAA,EAAYU,UAC1BF,YAAarB,EAASO,GACtBhC,KAAMyB,EAASzB,MAEjB,CACE2C,UAAWL,EAAAA,EAAYW,WACvBJ,YAAa,CAACP,EAAAA,EAAYW,YAC1BH,YAAavB,EAAWS,GACxBhC,KAAMuB,EAAWvB,OAIfkD,EAA8B,CAClCP,UAAWL,EAAAA,EAAYC,cACvBM,YAAaR,EACbS,YAAajC,EAAOmB,GACpBhC,KAAMa,EAAOb,KACboC,KAAMxB,EACNuC,UAAsB,UAAX7E,GAAsBuC,EAAOqB,OAAOC,aAAe,WAAa,oBAG7E,GAAa,OAATd,GAA+B,KAAdA,EAAKrB,KAAa,CACrC,IAAMoD,EAA0B,CAC9BT,UAAWL,EAAAA,EAAYe,KACvBR,YAAa,CAACP,EAAAA,EAAYe,MAC1BP,YAAazB,EAAKW,GAClBhC,KAAMqB,EAAKrB,KACXoC,KAAMP,IAAQyB,EAAAA,EAAYhC,KAAOD,EAAKe,UAAOH,EAC7CsB,qBAAsBC,EAAAA,EAAaC,sBACnCN,UAAW,YAGbT,EAAKgB,OAAO,EAAG,EAAGN,E,CAGpB,G,SA4IoCpH,EAAgBkB,GACpD,IACU,IAAAoB,GAAYqF,EAAAA,EAAAA,GAAY3H,GAAO4H,QACjCjF,IAAsBkF,EAAAA,EAAAA,GAAwBvF,IAAYpB,EAEhE,OAAQJ,EAAAA,EAAegH,8BAA4C,OAAZxF,IAAqBK,C,CAC5E,MAAA3C,GAAA,CAGF,OAAO,CACT,CAtJM+H,CAAsBzF,EAAQgB,GAAmB,CACnD,IAAM0E,EAC6B,QAAjCL,EAAAA,EAAAA,GAAYrF,GAAQ2F,SACL,OAAXlC,QAAA,IAAAA,OAAW,EAAXA,EAAaU,UAAU1E,MACvBmG,EAAAA,EAAAA,GAAoB,OAAXnC,QAAA,IAAAA,OAAW,EAAXA,EAAaU,UAAU0B,eACrB,OAAXpC,QAAA,IAAAA,OAAW,EAAXA,EAAaU,UAAU0B,cACZ,OAAXpC,QAAA,IAAAA,OAAW,EAAXA,EAAaU,UAAU1E,MAEzBmG,EAAAA,EAAAA,GAASF,KACXd,EAAakB,QAAUJ,E,MAGzBd,EAAad,KAAOvB,EAAOqB,OAAO7C,IAAI+C,KACtCc,EAAamB,aAAUpC,EAKzB,GAFAS,EAAK7D,KAAKqE,GAEQ,OAAdjC,EAAoB,CACtB,IAAMqD,GAAaC,EAAAA,EAAAA,GAAW5F,GACxB6F,EAAWF,GAAaG,EAAAA,EAAAA,GAAY9F,EAAesC,EAAUyD,uBAAoBzC,EAEvFS,EAAK7D,KAAK,CACR8D,UAAWL,EAAAA,EAAYqC,WACvB9B,YAAa,CAACP,EAAAA,EAAYqC,YAC1B7B,YAAa7B,EAAUe,GACvBhC,KAAMiB,EAAUjB,KAChBoE,QAASI,EACTI,iBAAkBN,GAAcnF,EAAsB,G,CAI1D,OAAOuD,CACT,C,SAEgBmC,EACd7I,EACAkB,EACAoB,EACAK,EACAQ,EACAG,EACAxB,GAEA,IAAMc,GAAqBkG,EAAAA,EAAAA,GAAuBxF,GAElD,OAAQV,GACN,KAAKU,EACH,MAEF,KAAKgD,EAAAA,EAAYM,OACf,OAAO5G,EAAQgF,OAAO+D,OAAO1F,KAAI,SAACrD,GAAY,OAC5C2G,WAAWqC,EAAAA,EAAAA,GAAoBhJ,EAAagG,IAC5Ca,YAAa,EAACmC,EAAAA,EAAAA,GAAoBhJ,EAAagG,KAC/Cc,YAAa9G,EAAagG,GAC1BhC,KAAMhE,EAAa+B,KACnBqG,QAASpI,EAAaiJ,KAAK5F,KAAI,SAACrD,GAAQ,OAAAA,EAAIgE,IAAJ,IAAUkF,KAAK,OACvDC,kBAAkB,EAClB5B,qBAAsBC,EAAAA,EAAa4B,kBAPS,IAUhD,KAAK9C,EAAAA,EAAYe,KACjB,KAAKf,EAAAA,EAAYS,iBACjB,KAAKT,EAAAA,EAAYU,SACjB,KAAKV,EAAAA,EAAYW,WACf,IAAMpC,GAAmBwE,EAAAA,EAAAA,GAAyB/F,GAC5CyB,EAAmBuE,EAAetJ,EAAS6E,EAAkBjC,GAEnE,GAAyB,OAArBmC,EACF,OAAOA,EAAiB/C,SAASqB,KAAI,SAACrD,GAAS,OAC7C2G,WAAW4C,EAAAA,EAAAA,GAAoB1E,EAAkB7E,EAAUgG,IAC3Da,YAAa,EAAC0C,EAAAA,EAAAA,GAAoB1E,EAAkB7E,EAAUgG,KAC9Dc,YAAa9G,EAAUgG,GACvBhC,KAAMhE,EAAUgE,KAChBoC,KAAMpG,EAAUoG,KAL6B,IAarD,OAAOzB,EAAe3E,EAASkB,EAAqBoB,EAAQK,EAAeQ,EAAqBrB,EAClG,C,SAEgB0H,EAAwBxJ,GAGtC,QAF2B8I,EAAAA,EAAAA,GAAuB9I,IAGhD,KAAKA,EACH,MAGF,KAAKsG,EAAAA,EAAYC,cACf,OAAOD,EAAAA,EAAYC,cAGrB,KAAKD,EAAAA,EAAYM,OACf,OAAON,EAAAA,EAAYM,OAGrB,KAAKN,EAAAA,EAAYe,KACjB,KAAKf,EAAAA,EAAYS,iBACjB,KAAKT,EAAAA,EAAYU,SACjB,KAAKV,EAAAA,EAAYW,WACf,IAAM3E,GAAmB+G,EAAAA,EAAAA,GAAyBrJ,GAClD,OAAOyJ,EAAAA,EAAAA,GAAsBnH,GAGjC,OAAOgE,EAAAA,EAAYoD,SACrB,C,SAEgBJ,EACdtJ,EACAkB,EACAoB,G,MAEQa,EAA4DnD,EAAOoF,gBAAlD9B,EAA2CtD,EAAOwF,WAAtC1D,EAA+B9B,EAAOsF,KAAhC1C,EAAyB5C,EAAO2J,WAApB9E,EAAa7E,EAAO0F,SAErEX,GAAwCpC,EAAA,GAC5CA,EAAC2D,EAAAA,EAAYS,kBAAmB5D,EAChCR,EAAC2D,EAAAA,EAAYW,YAAa3D,EAC1BX,EAAC2D,EAAAA,EAAYe,MAAOvF,EACpBa,EAAC2D,EAAAA,EAAYsD,MAAOhH,EACpBD,EAAC2D,EAAAA,EAAYU,UAAWnC,EAAA,GACxBvC,GAEF,QAAoB2D,IAAhBlB,GAA6C,OAAhBA,EAC/B,OAAO,MAELmD,EAAAA,EAAAA,GAASnD,EAAYlD,kBACvBkD,EAAY/C,UAAW0C,EAAAA,EAAAA,KAAmB9C,qBAAqBmD,IAGjE,IAAME,GAAiCwE,EAAAA,EAAAA,GAAsBvI,GAC7D,OAAO+D,IAA2B3C,EAC9ByC,GACA8E,EAAAA,EAAAA,GAAiB9E,EAAaE,EACpC,C,SAcgB6E,EAAkB9J,EAAkBkB,GAClD,KAAKgH,EAAAA,EAAAA,GAAShH,GACZ,MAAO,GAGT,IAAMoB,GAAqBwG,EAAAA,EAAAA,GAAuB5H,GAElD,OAAQoB,GACN,KAAKgE,EAAAA,EAAYM,OACf,OAAO5G,EAAQgF,OAAOhB,KAGxB,KAAKsC,EAAAA,EAAYC,cACf,OAAuC,IAAnCvG,EAAQ8E,OAAOiF,gBACV,GAEF/J,EAAQ8E,OAAOkF,QAAQC,aAEhC,KAAK3D,EAAAA,EAAYe,KACjB,KAAKf,EAAAA,EAAYS,iBACjB,KAAKT,EAAAA,EAAYsD,KACjB,KAAKtD,EAAAA,EAAYW,WACf,IAAMtE,EAAc2G,EAAevG,EAAAA,EAAgBC,MAAO9B,EAAoBoB,GAE9E,GAAoB,OAAhBK,EACF,OAAOA,EAAYqB,KAOzB,MAAO,EACT,C,SAEgBkG,EAAgBlK,EAAkBkB,EAAoBoB,G,QAEhEiD,EADIjC,EAAuFtD,EAAO8E,OAAtFhD,EAA+E9B,EAAOkF,UAA3EtC,EAAoE5C,EAAOgF,OAAnEH,EAA4D7E,EAAOoF,gBAAlDL,EAA2C/E,EAAOwF,WAAtCP,EAA+BjF,EAAOsF,KAAhCH,EAAyBnF,EAAO2J,WAApBtE,EAAarF,EAAO0F,SAEtG,OAAQpD,GACN,KAAKgE,EAAAA,EAAYsD,KACjB,KAAKtD,EAAAA,EAAYe,KACjB,KAAKf,EAAAA,EAAYW,WACjB,KAAKX,EAAAA,EAAYU,SACjB,KAAKV,EAAAA,EAAYS,iBASf,QAAoBd,KARpBV,GAAc5C,EAAA,GACZA,EAAC2D,EAAAA,EAAYS,kBAAmBlC,EAChClC,EAAC2D,EAAAA,EAAYW,YAAalC,EAC1BpC,EAAC2D,EAAAA,EAAYe,MAAOpC,EACpBtC,EAAC2D,EAAAA,EAAYsD,MAAOzE,EACpBxC,EAAC2D,EAAAA,EAAYU,UAAW3B,EAAA,GACxB/C,IAGA,MAAO,GAGT,IAAMmD,GAAiCgE,EAAAA,EAAAA,GAAsBvI,GAC7D,OAAOuE,IAA2BnD,EAClB,OAAXiD,QAAA,IAAAA,OAAW,EAAXA,EAAavB,KACwC,QAArDb,GAAA0G,EAAAA,EAAAA,GAAiBtE,EAAaE,UAAuB,IAAAtC,OAAA,EAAAA,EAAEa,KAE9D,KAAKsC,EAAAA,EAAY6D,OACjB,KAAK7D,EAAAA,EAAYM,OACf,IAAMjB,GAAY8D,EAAAA,EAAAA,GAAsBvI,GAGxC,OAFAqE,EAAc3C,EAAOmG,OAAOtF,MAAK,SAACzD,GAAiB,OAAA2F,IAAc3F,EAAagG,EAA3B,SAE5BC,IAAhBV,EAA4B3C,EAAOoB,KAAkB,OAAXuB,QAAA,IAAAA,OAAW,EAAXA,EAAaS,GAEhE,KAAKM,EAAAA,EAAYC,cACf,OAAOjD,EAAO4C,OAAOlC,KAEvB,KAAKsC,EAAAA,EAAYqC,WACf,OAAgB,OAAT7G,QAAA,IAAAA,OAAS,EAATA,EAAWkC,KAGtB,MAAO,EACT,C,SAEgBoG,EACdpK,EACAkB,EACAoB,GAEM,IAAAK,EAAwBI,EAAAA,EAAgBC,MAAtCG,EAASR,EAAAuC,UAAE5B,EAAMX,EAAAqC,OACjBlD,EAAkB0C,EAAAA,EAAcxB,MAAKqH,cAE7C,GAAIrK,IAAuBsG,EAAAA,EAAYqC,WAErC,OADmBJ,EAAAA,EAAAA,GAAWzG,IACV2G,EAAAA,EAAAA,GAAY3G,GAAwB,OAATqB,QAAA,IAAAA,OAAS,EAATA,EAAWuF,mBAAoB,IAAM,GAGtF,GAAI1I,IAAuBsG,EAAAA,EAAYC,cAAe,CAC9C,IAAA1B,EAAoCvF,EAAAA,EAAyB0D,MAA3D+B,EAAiBF,EAAAnF,kBAAEuF,EAAUJ,EAAA3E,WAC/BiF,EAAoC,OAAtBJ,EAA6BE,EAAWF,EAAkBiB,SAAMC,EAC9EZ,EACJ/C,GAA2C,QAAjCqF,EAAAA,EAAAA,GAAYrF,GAAQ2F,SACf,OAAX9C,QAAA,IAAAA,OAAW,EAAXA,EAAasB,UAAU1E,MACvBmG,EAAAA,EAAAA,GAAoB,OAAX/C,QAAA,IAAAA,OAAW,EAAXA,EAAasB,UAAU0B,eACrB,OAAXhD,QAAA,IAAAA,OAAW,EAAXA,EAAasB,UAAU0B,cACZ,OAAXhD,QAAA,IAAAA,OAAW,EAAXA,EAAasB,UAAU1E,KAE7B,OAAOgD,EAAoBM,EAAkB,E,CAG/C,GAAIrF,IAAuBsG,EAAAA,EAAYM,SACjCsB,EAAAA,EAAAA,GAAShH,GAAmB,CAC9B,IAAMqE,GAAYkE,EAAAA,EAAAA,GAAsBvI,GAClCuE,EAAcnC,EAAOyF,OAAOtF,MAAK,SAACzD,GAAiB,OAAAuF,IAAcvF,EAAagG,EAA3B,IACzD,GAAIP,EACF,OAAOA,EAAYwD,KAAK5F,KAAI,SAACrD,GAAQ,OAAAA,EAAIgE,IAAJ,IAAUkF,KAAK,M,CAK1D,MAAO,EACT,C,gUCzWYoB,EAAAtK,E,6MAbCsG,EAAc,CACzBoD,UAAW,WACXnD,cAAe,gBACfqD,KAAM,OACNvC,KAAM,OACN8C,OAAQ,SACRxB,WAAY,aACZ5B,iBAAkB,mBAClBE,WAAY,aACZD,SAAU,WACVJ,OAAQ,U,SAgBM2C,I,IAAoB,IAAAvJ,EAAA,GAAAkB,EAAA,EAAAA,EAAAqJ,UAAArH,OAAAhC,IAAAlB,EAAAkB,GAAAqJ,UAAArJ,GAClC,OAAOlB,EACJwK,QAAiB,SAACxK,EAAUkB,GAAQ,OAAAuJ,EAAAA,EAAA,GAAIzK,GAAQ,IAAK0K,EAAAA,EAAAA,GAAUxJ,GAAKyJ,MAAM,MAAI,EAA1C,GAA6C,IACjFC,OAAOC,SACP3B,KAAK,IACV,C,SAEgBJ,EAAuB9I,GACrC,IAAIkI,EAAAA,EAAAA,GAASlI,GACX,OAAOuD,OAAOuH,OAAOxE,GAAa7C,MAAK,SAACvC,GAAe,OAAAlB,EAAiB+K,WAAW7J,EAA5B,GAE3D,C,SAMgB8H,I,IAAoB,IAAAhJ,EAAA,GAAAkB,EAAA,EAAAA,EAAAqJ,UAAArH,OAAAhC,IAAAlB,EAAAkB,GAAAqJ,UAAArJ,GAClC,OAAOqI,EAAmByB,WAAC,EAADP,EAAC,CAAAnE,EAAYM,QAAW5G,GAAI,GACxD,C,SAEgBwG,I,IAA2B,IAAAxG,EAAA,GAAAkB,EAAA,EAAAA,EAAAqJ,UAAArH,OAAAhC,IAAAlB,EAAAkB,GAAAqJ,UAAArJ,GACzC,OAAOqI,EAAmByB,WAAC,EAADP,EAAC,CAAAnE,EAAYC,eAAkBvG,GAAI,GAC/D,C,SAEgBiL,I,IAAuB,IAAAjL,EAAA,GAAAkB,EAAA,EAAAA,EAAAqJ,UAAArH,OAAAhC,IAAAlB,EAAAkB,GAAAqJ,UAAArJ,GACrC,OAAOqI,EAAmByB,WAAC,EAADP,EAAC,CAAAnE,EAAYqC,YAAe3I,GAAI,GAC5D,C,SAEgBkL,I,IAA6B,IAAAlL,EAAA,GAAAkB,EAAA,EAAAA,EAAAqJ,UAAArH,OAAAhC,IAAAlB,EAAAkB,GAAAqJ,UAAArJ,GAC3C,OAAOqI,EAAmByB,WAAC,EAADP,EAAC,CAAAnE,EAAYS,kBAAqB/G,GAAI,GAClE,C,SAEgByJ,EAAsBzJ,GACpC,OAAOA,EAAW2K,MAAM,KAAKQ,OAAO,GAAG,EACzC,C,SAEgB9B,EAAyBrJ,GACvC,OAAOA,EAAW2K,MAAM,KAAKQ,MAAM,GAAI,GAAGjC,KAAK,IACjD,C,SAEgBkC,EAAyBpL,GAEvC,OAD2B8I,EAAuB9I,IAEhD,KAAKsG,EAAYoD,UACf,OAAO,EAET,KAAK1J,EACH,OAAO,EAET,QACE,OAAOA,EAAiB2K,MAAM,KAAKzH,OAAS,EAGlD,C,SAEgBmI,EAAsBrL,GACpC,IAAMkB,EAAqBmI,EAAyBrJ,GACpD,OAAKkI,EAAAA,EAAAA,GAAShH,GAIPA,EAHEoF,EAAYoD,SAIvB,EA5EY1J,EAAAsK,IAAAA,EAAkB,KAC5BtK,EAAA,4BACAA,EAAAA,EAAA,yBACAA,EAAAA,EAAA,wB","sources":["../node_modules/@porschehn/navigation/dist/esm-es5/src/state/dealer-search-results-store.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/utility/constants/ab-testing.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/ab-testing/matomo-ab-testing-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/ab-testing/ab-testing-constructor-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/services/menu-items-service.ts","../node_modules/@porschehn/navigation/dist/esm-es5/src/entities/routing-key.ts"],"sourcesContent":["import { createStore } from '@stencil/store';\nimport { PPNDealerSearchResult } from '../entities/dealer-response';\nimport windowService from '../services/window-service';\nimport { SAVED_DEALER_COOKIE } from '../utility/constants';\n\nexport interface DealerSearchResults {\n  searchTerm: string;\n  results: string[] | null;\n  savedDealerCookie: SavedDealerCookie | null;\n  ppnDealers: { [dealerId: string]: PPNDealerSearchResult };\n  dealersOfRegion: any;\n}\n\nexport interface SavedDealerCookie {\n  id: string;\n  latitude: number;\n  longitude: number;\n}\n\nexport const dealerSearchResultsStore = createStore<DealerSearchResults>({\n  searchTerm: '',\n  results: null,\n  savedDealerCookie: readDealerCookie(),\n  ppnDealers: {},\n  dealersOfRegion: { regions: [] }\n});\n\ndealerSearchResultsStore.onChange('savedDealerCookie', (newValue) => {\n  windowService.setCookie(SAVED_DEALER_COOKIE, JSON.stringify(newValue));\n});\n\nfunction readDealerCookie(): SavedDealerCookie | null {\n  try {\n    return JSON.parse(windowService.getCookie(SAVED_DEALER_COOKIE));\n  } catch (err) {\n    return null;\n  }\n}\n","export type ExperimentDefinition = Record<string, unknown>;\n\nexport type AvailableExperiment = (typeof experimentsDefinitions)[keyof typeof experimentsDefinitions];\n\nexport const experimentsDefinitions: ExperimentDefinition = {};\n\nexport interface MatomoClient {\n  track: () => void;\n  AbTesting: {\n    Experiment: { new (definition: unknown): Experiment };\n  };\n}\n\nexport interface Experiment {\n  name: string;\n  getActivatedVariationName: () => string;\n  variations: Variation[];\n}\n\nexport interface Variation {\n  name: string;\n  activate: () => unknown;\n}\n","import { navStateStore } from '../../state/nav-state-store';\nimport { NaviError, NaviErrorTypes } from '../../utility/navi-error';\nimport { IAbTestingService } from './ab-testing-service.interface';\nimport {\n  AvailableExperiment,\n  Experiment,\n  experimentsDefinitions,\n  MatomoClient,\n  Variation\n} from '../../utility/constants/ab-testing';\nimport Logger from '../logger';\nimport { getHTMLElement } from '../../utility/helper';\nimport featureToggles from '../feature-toggles';\nimport { TMenu, VariationDefinition } from '../../entities/content';\nimport { navContentStore } from '../../state/nav-content-store';\n\nexport class MatomoAbTestingService implements IAbTestingService {\n  client: MatomoClient | null = null;\n  experiments: Experiment[] = [];\n\n  async init(): Promise<void> {\n    if (featureToggles.isABTestingToggleActive()) {\n      try {\n        await this.setClient();\n        await this.loadExperiments();\n      } catch (e) {\n        Logger.error('Could not initialize AbTesting', e as Error);\n      }\n    }\n  }\n\n  execute(experimentName: AvailableExperiment): void {\n    if (featureToggles.isABTestingToggleActive()) {\n      try {\n        const experiment = this.getExperiment(experimentName);\n        const variation = this.getVariation(experiment);\n        variation.activate();\n      } catch (e) {\n        Logger.error(`Could not execute experiment ${experimentName}`, e as Error);\n      }\n    }\n  }\n\n  executeContentChange(menu: TMenu): TMenu[] {\n    if (featureToggles.isABTestingToggleActive()) {\n      try {\n        const experiment = this.getExperiment(menu.experienceName);\n        const variation = this.getVariation(experiment);\n        if (variation.name === 'original') {\n          return menu.children;\n        }\n        return variation.activate() as unknown as TMenu[];\n      } catch (e) {\n        Logger.error(`Could not execute experiment ${menu.experienceName}`, e as Error);\n      }\n    }\n    return menu.children;\n  }\n\n  private async setClient(): Promise<MatomoClient> {\n    if (this.client) return Promise.resolve(this.client);\n\n    await this.injectScript();\n    const w = window as any;\n    this.client = w.Matomo as MatomoClient;\n    return this.client;\n  }\n\n  private async loadExperiments(): Promise<void> {\n    const client = this.getClient();\n    const ExperimentCreator = client.AbTesting.Experiment;\n    const experimentsDefinitions = this.getAbTestingDefinitions();\n    for (const experimentKey in experimentsDefinitions) {\n      const experimentDefinition = experimentsDefinitions[experimentKey];\n      const experiment = new ExperimentCreator(experimentDefinition);\n      this.experiments.push(experiment);\n    }\n  }\n\n  async loadContentGeneratorExperiments(): Promise<void> {\n    if (featureToggles.isABTestingToggleActive()) {\n      const client = this.getClient();\n      const ExperimentCreator = client.AbTesting.Experiment;\n      const contentDefinitions = navContentStore.state.abExperiences;\n\n      if (contentDefinitions) {\n        for (const experimentDefinition of contentDefinitions) {\n          const variationDefinition: Variation[] = experimentDefinition.variations.map(\n            (variation: VariationDefinition) => ({\n              name: variation.name,\n              activate: () => variation.children\n            })\n          );\n          variationDefinition.push({\n            name: 'original',\n            activate: () => null\n          });\n          const experiment = new ExperimentCreator({ ...experimentDefinition, variations: variationDefinition });\n          this.experiments.push(experiment);\n        }\n      }\n    }\n  }\n\n  private getExperiment(name: AvailableExperiment): Experiment {\n    const experiment = this.experiments.find((experiment) => experiment.name === name);\n    if (!experiment) throw new NaviError(`No experiment with name: ${name} found`, NaviErrorTypes.GENERAL);\n    return experiment;\n  }\n\n  private getVariation(experiment: Experiment): Variation {\n    const variationName = experiment.getActivatedVariationName();\n    const variation = experiment.variations.find((variation) => variation.name === variationName);\n\n    if (!variation)\n      throw new NaviError(\n        `No variation in experiment: ${experiment.name} with name: ${variationName} found`,\n        NaviErrorTypes.GENERAL\n      );\n    return variation;\n  }\n\n  private getClient(): MatomoClient {\n    if (!this.client) throw new NaviError('No client is set, you must call init first', NaviErrorTypes.GENERAL);\n    return this.client;\n  }\n\n  private injectScript(): Promise<boolean> {\n    return new Promise((resolve, reject) => {\n      const s = document.createElement('script');\n      s.text = this.getMatomoScript();\n      document.head.appendChild(s);\n\n      const matomoScript = getHTMLElement(\n        document.querySelector('script[src=\"//cdn.matomo.cloud/porsche.matomo.cloud/matomo.js\"]')\n      );\n\n      if (matomoScript) {\n        matomoScript.onload = () => {\n          resolve(true);\n        };\n        matomoScript.onerror = () => reject(new NaviError('Could not inject Matomo script', NaviErrorTypes.GENERAL));\n      } else {\n        reject(new NaviError('There is no HTML Script element available', NaviErrorTypes.GENERAL));\n      }\n    });\n  }\n\n  private getAbTestingDefinitions() {\n    return experimentsDefinitions;\n  }\n\n  private getMatomoScript(): string {\n    const currentEnvironment = navStateStore.state.env;\n    return `var _paq = window._paq = window._paq || [];\n    _paq.push(['trackPageView']);\n    _paq.push(['enableLinkTracking']);\n    (function() {\n      var u=\"https://porsche.matomo.cloud/\";\n      _paq.push(['setTrackerUrl', u+'matomo.php']);\n      _paq.push(['setSiteId', ${currentEnvironment === 'production' ? '7' : '8'}]);\n      var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];\n      g.async=true; g.src='//cdn.matomo.cloud/porsche.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);\n    })\n   ();`;\n  }\n}\n\nexport const MatomoAbTesting = new MatomoAbTestingService();\n","import { IAbTestingService } from './ab-testing-service.interface';\nimport { MatomoAbTesting } from './matomo-ab-testing-service';\n\nexport default function abTestingService(): IAbTestingService {\n  return MatomoAbTesting;\n}\n","import { Content, findMenuItemById, Series, TMenu, TShopMenu } from '../entities/content';\nimport { isCountryInOneOfRegions, splitLocale } from '../entities/locale';\nimport {\n  constructRoutingKey,\n  findTopLevelRoutingKey,\n  getDealerDetailsRoutingKey,\n  getLastRoutingSegment,\n  getModelsRoutingKey,\n  removeLastRoutingSegment,\n  RoutingKey,\n  RoutingKeys\n} from '../entities/routing-key';\nimport { DealerSearchResults, dealerSearchResultsStore } from '../state/dealer-search-results-store';\nimport { navContentStore } from '../state/nav-content-store';\nimport { navStateStore } from '../state/nav-state-store';\nimport { EventAction, EventActions } from '../utility/constants';\nimport { Application } from '../utility/constants/app';\nimport { getUsername, IsLoggedIn, isString } from '../utility/helper';\nimport featureToggles from './feature-toggles';\nimport abTestingService from './ab-testing/ab-testing-constructor-service';\n\nexport type MenuItemProps = {\n  elementId: string;\n  routingKeys: string[];\n  analyticsId: string;\n  text: string;\n  link?: string;\n  subtext?: string;\n  iconRight?: string;\n  showIconModifier?: boolean;\n  datalayerEventAction?: EventAction;\n  onClick?: () => void;\n};\n\nexport function getLevel1Items(\n  content: Content,\n  dealerSearchResults: DealerSearchResults,\n  locale: string,\n  loggedInState: string,\n  unreadMessagesCount: number,\n  userConsentGiven: boolean\n): MenuItemProps[] {\n  const { dealer, models, myPorsche, vehiclePurchase, shop, experience, services } = content;\n  const { savedDealerCookie, ppnDealers } = dealerSearchResults;\n  const { app } = navStateStore.state;\n  const savedDealer = savedDealerCookie !== null ? ppnDealers[savedDealerCookie.id] : undefined;\n\n  // outbound link needed for Singapore market\n  let outboundLink;\n  if (locale === 'en-SG' && dealer.search.outboundLink) {\n    outboundLink = dealer.search.outboundLink?.link;\n  }\n\n  const dealerRoutingKeys: string[] = [RoutingKeys.DEALER_SEARCH];\n\n  if (savedDealer !== undefined && dealerSearchResultsStore.state.results?.length != 1) {\n    dealerRoutingKeys.push(getDealerDetailsRoutingKey(savedDealer.ppnDealer.id));\n  }\n\n  const menu: MenuItemProps[] = [\n    {\n      elementId: RoutingKeys.MODELS,\n      routingKeys: [RoutingKeys.MODELS],\n      analyticsId: models.id,\n      text: models.text\n    },\n    {\n      elementId: RoutingKeys.VEHICLE_PURCHASE,\n      routingKeys: [RoutingKeys.VEHICLE_PURCHASE],\n      analyticsId: vehiclePurchase.id,\n      text: vehiclePurchase.text\n    },\n    {\n      elementId: RoutingKeys.SERVICES,\n      routingKeys: [RoutingKeys.SERVICES],\n      analyticsId: services.id,\n      text: services.text\n    },\n    {\n      elementId: RoutingKeys.EXPERIENCE,\n      routingKeys: [RoutingKeys.EXPERIENCE],\n      analyticsId: experience.id,\n      text: experience.text\n    }\n  ];\n\n  const dealerSearch: MenuItemProps = {\n    elementId: RoutingKeys.DEALER_SEARCH,\n    routingKeys: dealerRoutingKeys,\n    analyticsId: dealer.id,\n    text: dealer.text,\n    link: outboundLink,\n    iconRight: locale === 'en-SG' && dealer.search.outboundLink ? 'external' : 'arrow-head-right'\n  };\n\n  if (shop !== null && shop.text !== '') {\n    const shopItem: MenuItemProps = {\n      elementId: RoutingKeys.SHOP,\n      routingKeys: [RoutingKeys.SHOP],\n      analyticsId: shop.id,\n      text: shop.text,\n      link: app !== Application.shop ? shop.link : undefined,\n      datalayerEventAction: EventActions.NAVIGATION_LINK_CLICK,\n      iconRight: 'external'\n    };\n\n    menu.splice(2, 0, shopItem);\n  }\n\n  if (isDealerSearchEnabled(locale, userConsentGiven)) {\n    const savedDealerName =\n      splitLocale(locale).language === 'en'\n        ? savedDealer?.ppnDealer.name\n        : isString(savedDealer?.ppnDealer.nameLocalized)\n        ? savedDealer?.ppnDealer.nameLocalized\n        : savedDealer?.ppnDealer.name;\n\n    if (isString(savedDealerName)) {\n      dealerSearch.subtext = savedDealerName;\n    }\n  } else {\n    dealerSearch.link = dealer.search.map.link;\n    dealerSearch.onClick = undefined;\n  }\n\n  menu.push(dealerSearch);\n\n  if (myPorsche !== null) {\n    const isLoggedIn = IsLoggedIn(loggedInState);\n    const username = isLoggedIn ? getUsername(loggedInState, myPorsche.loggedInFallback) : undefined;\n\n    menu.push({\n      elementId: RoutingKeys.MY_PORSCHE,\n      routingKeys: [RoutingKeys.MY_PORSCHE],\n      analyticsId: myPorsche.id,\n      text: myPorsche.text,\n      subtext: username,\n      showIconModifier: isLoggedIn && unreadMessagesCount > 0\n    });\n  }\n\n  return menu;\n}\n\nexport function getSideDrawerItems(\n  content: Content,\n  dealerSearchResults: DealerSearchResults,\n  locale: string,\n  loggedInState: string,\n  unreadMessagesCount: number,\n  activeRoutingKey: string,\n  userConsentGiven: boolean\n): MenuItemProps[] {\n  const topLevelRoutingKey = findTopLevelRoutingKey(activeRoutingKey);\n\n  switch (topLevelRoutingKey) {\n    case activeRoutingKey:\n      break;\n\n    case RoutingKeys.MODELS:\n      return content.models.series.map((modelsSeries) => ({\n        elementId: getModelsRoutingKey(modelsSeries.id),\n        routingKeys: [getModelsRoutingKey(modelsSeries.id)],\n        analyticsId: modelsSeries.id,\n        text: modelsSeries.name,\n        subtext: modelsSeries.tags.map((tag) => tag.text).join(' | '),\n        renderSignatures: true,\n        datalayerEventAction: EventActions.MODEL_RANGE_CLICK\n      }));\n\n    case RoutingKeys.SHOP:\n    case RoutingKeys.VEHICLE_PURCHASE:\n    case RoutingKeys.SERVICES:\n    case RoutingKeys.EXPERIENCE: {\n      const parentRoutingKey = removeLastRoutingSegment(activeRoutingKey);\n      const menuDrawerParent = getMenuContent(content, parentRoutingKey, topLevelRoutingKey);\n\n      if (menuDrawerParent !== null) {\n        return menuDrawerParent.children.map((childItem) => ({\n          elementId: constructRoutingKey(parentRoutingKey, childItem.id),\n          routingKeys: [constructRoutingKey(parentRoutingKey, childItem.id)],\n          analyticsId: childItem.id,\n          text: childItem.text,\n          link: childItem.link\n        }));\n      }\n\n      break;\n    }\n  }\n\n  return getLevel1Items(content, dealerSearchResults, locale, loggedInState, unreadMessagesCount, userConsentGiven);\n}\n\nexport function getSideDrawerRoutingKey(activeRoutingKey: string): string {\n  const topLevelRoutingKey = findTopLevelRoutingKey(activeRoutingKey);\n\n  switch (topLevelRoutingKey) {\n    case activeRoutingKey: {\n      break;\n    }\n\n    case RoutingKeys.DEALER_SEARCH: {\n      return RoutingKeys.DEALER_SEARCH;\n    }\n\n    case RoutingKeys.MODELS: {\n      return RoutingKeys.MODELS;\n    }\n\n    case RoutingKeys.SHOP:\n    case RoutingKeys.VEHICLE_PURCHASE:\n    case RoutingKeys.SERVICES:\n    case RoutingKeys.EXPERIENCE: {\n      const parentRoutingKey = removeLastRoutingSegment(activeRoutingKey);\n      return getLastRoutingSegment(parentRoutingKey);\n    }\n  }\n  return RoutingKeys.MAIN_MENU;\n}\n\nexport function getMenuContent(\n  content: Content,\n  routingKey: string,\n  topLevelRoutingKey: string\n): TMenu | TShopMenu | null {\n  const { vehiclePurchase, experience, shop, legacyMore, services } = content;\n\n  const menuContent: TMenu | undefined | null = {\n    [RoutingKeys.VEHICLE_PURCHASE]: vehiclePurchase,\n    [RoutingKeys.EXPERIENCE]: experience,\n    [RoutingKeys.SHOP]: shop,\n    [RoutingKeys.MORE]: legacyMore,\n    [RoutingKeys.SERVICES]: services\n  }[topLevelRoutingKey];\n\n  if (menuContent === undefined || menuContent === null) {\n    return null;\n  }\n  if (isString(menuContent.experienceName)) {\n    menuContent.children = abTestingService().executeContentChange(menuContent);\n  }\n\n  const idOfLastRoutingSegment: string = getLastRoutingSegment(routingKey);\n  return idOfLastRoutingSegment === topLevelRoutingKey\n    ? menuContent\n    : findMenuItemById(menuContent, idOfLastRoutingSegment);\n}\n\nexport function isDealerSearchEnabled(locale: string, userConsentGiven: boolean): boolean {\n  try {\n    const { country } = splitLocale(locale);\n    const returnDealerSearch = !isCountryInOneOfRegions(country) && userConsentGiven;\n\n    return (featureToggles.isDealerSearchChinaEnabled() || country !== 'CN') && returnDealerSearch;\n  } catch {\n    // ignore error\n  }\n  return true;\n}\n\nexport function getBackButtonText(content: Content, previousRoutingKey: string): string {\n  if (!isString(previousRoutingKey)) {\n    return '';\n  }\n\n  const topLevelRoutingKey = findTopLevelRoutingKey(previousRoutingKey);\n\n  switch (topLevelRoutingKey) {\n    case RoutingKeys.MODELS: {\n      return content.models.text;\n    }\n\n    case RoutingKeys.DEALER_SEARCH:\n      if (content.dealer.numberOfDealers === 1) {\n        return '';\n      }\n      return content.dealer.details.backToSearch;\n\n    case RoutingKeys.SHOP:\n    case RoutingKeys.VEHICLE_PURCHASE:\n    case RoutingKeys.MORE:\n    case RoutingKeys.EXPERIENCE: {\n      const menuContent = getMenuContent(navContentStore.state, previousRoutingKey, topLevelRoutingKey);\n\n      if (menuContent !== null) {\n        return menuContent.text;\n      }\n\n      break;\n    }\n  }\n\n  return '';\n}\n\nexport function getHeadlineText(content: Content, routingKey: string, topLevelRoutingKey: string): string {\n  const { dealer, myPorsche, models, vehiclePurchase, experience, shop, legacyMore, services } = content;\n  let menuContent: TMenu | undefined | null | Series;\n  switch (topLevelRoutingKey) {\n    case RoutingKeys.MORE:\n    case RoutingKeys.SHOP:\n    case RoutingKeys.EXPERIENCE:\n    case RoutingKeys.SERVICES:\n    case RoutingKeys.VEHICLE_PURCHASE: {\n      menuContent = {\n        [RoutingKeys.VEHICLE_PURCHASE]: vehiclePurchase,\n        [RoutingKeys.EXPERIENCE]: experience,\n        [RoutingKeys.SHOP]: shop,\n        [RoutingKeys.MORE]: legacyMore,\n        [RoutingKeys.SERVICES]: services\n      }[topLevelRoutingKey];\n\n      if (menuContent === undefined) {\n        return '';\n      }\n\n      const idOfLastRoutingSegment: string = getLastRoutingSegment(routingKey);\n      return idOfLastRoutingSegment === topLevelRoutingKey\n        ? (menuContent?.text as string)\n        : (findMenuItemById(menuContent, idOfLastRoutingSegment)?.text as string);\n    }\n    case RoutingKeys.SERIES:\n    case RoutingKeys.MODELS: {\n      const routingId = getLastRoutingSegment(routingKey);\n      menuContent = models.series.find((modelsSeries) => routingId === modelsSeries.id);\n\n      return menuContent === undefined ? models.text : menuContent?.id;\n    }\n    case RoutingKeys.DEALER_SEARCH: {\n      return dealer.search.text;\n    }\n    case RoutingKeys.MY_PORSCHE: {\n      return myPorsche?.text as string;\n    }\n  }\n  return '';\n}\n\nexport function getSubtext(\n  topLevelRoutingKey?: RoutingKey,\n  activeRoutingKey?: string,\n  locale?: string\n): string | undefined {\n  const { myPorsche, models } = navContentStore.state;\n  const { loggedInState } = navStateStore.state;\n\n  if (topLevelRoutingKey === RoutingKeys.MY_PORSCHE) {\n    const isLoggedIn = IsLoggedIn(loggedInState);\n    return isLoggedIn ? getUsername(loggedInState, myPorsche?.loggedInFallback || '') : '';\n  }\n\n  if (topLevelRoutingKey === RoutingKeys.DEALER_SEARCH) {\n    const { savedDealerCookie, ppnDealers } = dealerSearchResultsStore.state;\n    const savedDealer = savedDealerCookie !== null ? ppnDealers[savedDealerCookie.id] : undefined;\n    const savedDealerName =\n      locale && splitLocale(locale).language === 'en'\n        ? savedDealer?.ppnDealer.name\n        : isString(savedDealer?.ppnDealer.nameLocalized)\n        ? savedDealer?.ppnDealer.nameLocalized\n        : savedDealer?.ppnDealer.name;\n\n    return savedDealerCookie ? savedDealerName : '';\n  }\n\n  if (topLevelRoutingKey === RoutingKeys.MODELS) {\n    if (isString(activeRoutingKey)) {\n      const routingId = getLastRoutingSegment(activeRoutingKey);\n      const menuContent = models.series.find((modelsSeries) => routingId === modelsSeries.id);\n      if (menuContent) {\n        return menuContent.tags.map((tag) => tag.text).join(' | ');\n      }\n    }\n  }\n\n  return '';\n}\n","import { getString, isString } from '../utility/helper';\n\nexport const RoutingKeys = {\n  MAIN_MENU: 'mainmenu',\n  DEALER_SEARCH: 'find_a_dealer',\n  MORE: 'more',\n  SHOP: 'shop',\n  SERIES: 'series',\n  MY_PORSCHE: 'my_porsche',\n  VEHICLE_PURCHASE: 'vehicle_purchase',\n  EXPERIENCE: 'experience',\n  SERVICES: 'services',\n  MODELS: 'models'\n} as const;\n\nexport enum RoutingKeyPointers {\n  LEVEL_ZERO = -1,\n  LEVEL_ONE = 0,\n  LEVEL_TWO = 1\n}\n\nexport type RoutingKey = (typeof RoutingKeys)[keyof typeof RoutingKeys];\n\nexport interface RoutingKeyWithClick {\n  initialRoutingKey: RoutingKey | string;\n  isKeyboardClick: boolean;\n}\n\nexport function constructRoutingKey(...args: string[]): string {\n  return args\n    .reduce<string[]>((segments, arg) => [...segments, ...getString(arg).split('/')], [])\n    .filter(Boolean)\n    .join('/');\n}\n\nexport function findTopLevelRoutingKey(activeRoutingKey: string): RoutingKey | undefined {\n  if (isString(activeRoutingKey)) {\n    return Object.values(RoutingKeys).find((routingKey) => activeRoutingKey.startsWith(routingKey));\n  }\n}\n\nexport function getSeriesRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.SERIES, ...args);\n}\n\nexport function getModelsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MODELS, ...args);\n}\n\nexport function getDealerDetailsRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.DEALER_SEARCH, ...args);\n}\n\nexport function getMyPorscheRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.MY_PORSCHE, ...args);\n}\n\nexport function getVehiclePurchaseRoutingKey(...args: string[]): string {\n  return constructRoutingKey(RoutingKeys.VEHICLE_PURCHASE, ...args);\n}\n\nexport function getLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(-1)[0];\n}\n\nexport function removeLastRoutingSegment(routingKey: string): string {\n  return routingKey.split('/').slice(0, -1).join('/');\n}\n\nexport function determineMainDrawerLevel(activeRoutingKey: string): number {\n  const topLevelRoutingKey = findTopLevelRoutingKey(activeRoutingKey);\n  switch (topLevelRoutingKey) {\n    case RoutingKeys.MAIN_MENU: {\n      return 1;\n    }\n    case activeRoutingKey: {\n      return 2;\n    }\n    default: {\n      return activeRoutingKey.split('/').length + 1;\n    }\n  }\n}\n\nexport function getPreviousRoutingKey(routingKey: string): string {\n  const previousRoutingKey = removeLastRoutingSegment(routingKey);\n  if (!isString(previousRoutingKey)) {\n    return RoutingKeys.MAIN_MENU;\n  }\n\n  return previousRoutingKey;\n}\n"],"names":["dealerSearchResultsStore","createStore","searchTerm","results","savedDealerCookie","JSON","parse","windowService","getCookie","SAVED_DEALER_COOKIE","e","readDealerCookie","ppnDealers","dealersOfRegion","regions","onChange","setCookie","stringify","experimentsDefinitions","MatomoAbTesting","client","experiments","prototype","init","featureToggles","isABTestingToggleActive","this","setClient","t","sent","loadExperiments","logger","error","execute","getExperiment","getVariation","activate","concat","executeContentChange","experienceName","r","name","children","Promise","resolve","injectScript","window","Matomo","n","getClient","AbTesting","Experiment","getAbTestingDefinitions","i","o","push","loadContentGeneratorExperiments","navContentStore","state","abExperiences","length","a","variations","map","s","Object","assign","find","NaviError","NaviErrorTypes","GENERAL","getActivatedVariationName","document","createElement","text","getMatomoScript","head","appendChild","getHTMLElement","querySelector","onload","onerror","navStateStore","env","abTestingService","getLevel1Items","I","u","dealer","g","models","l","myPorsche","d","vehiclePurchase","R","shop","c","experience","E","services","y","v","S","app","K","id","undefined","search","outboundLink","link","m","RoutingKeys","DEALER_SEARCH","getDealerDetailsRoutingKey","ppnDealer","f","elementId","MODELS","routingKeys","analyticsId","VEHICLE_PURCHASE","SERVICES","EXPERIENCE","C","iconRight","p","SHOP","Application","datalayerEventAction","EventActions","NAVIGATION_LINK_CLICK","splice","splitLocale","country","isCountryInOneOfRegions","isDealerSearchChinaEnabled","isDealerSearchEnabled","L","language","isString","nameLocalized","subtext","onClick","h","IsLoggedIn","x","getUsername","loggedInFallback","MY_PORSCHE","showIconModifier","getSideDrawerItems","findTopLevelRoutingKey","series","getModelsRoutingKey","tags","join","renderSignatures","MODEL_RANGE_CLICK","removeLastRoutingSegment","getMenuContent","constructRoutingKey","getSideDrawerRoutingKey","getLastRoutingSegment","MAIN_MENU","legacyMore","MORE","findMenuItemById","getBackButtonText","numberOfDealers","details","backToSearch","getHeadlineText","SERIES","getSubtext","loggedInState","RoutingKeyPointers","arguments","reduce","__spreadArray","getString","split","filter","Boolean","values","startsWith","apply","getMyPorscheRoutingKey","getVehiclePurchaseRoutingKey","slice","determineMainDrawerLevel","getPreviousRoutingKey"],"sourceRoot":""}