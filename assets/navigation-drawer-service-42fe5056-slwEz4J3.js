import{c as S,F as m,q as d,H as y,J as f,n as w,K as v,j as u,k as l,t as N,M as D,O,P as R,Q as A,i as C,f as E,V as _,E as b}from"./nav-content-store-3a60a6a5-DLLiQusp.js";class T{constructor(){this.initialBodyStyleValues={top:"",position:"",inlineSize:"",overflowY:""},this.initialDocumentScrollTop=0}get location(){return typeof window>"u"?null:window.location}set location(e){e&&(window.location=e)}get sessionStorage(){return window.sessionStorage}get localStorage(){return window.localStorage}set version(e){Object.assign(window,{PHN_HEADER_VERSION:e})}get version(){return window.PHN_HEADER_VERSION}set drawerVersion(e){Object.assign(window,{PHN_DRAWER_VERSION:e})}get drawerVersion(){return window.PHN_DRAWER_VERSION}set navigationLoaded(e){Object.assign(window,{PHN_NAVIGATION_LOADED:e})}get bodyOverflow(){return document.body.style.overflow}get bodyHeight(){return document.body.style.height}requestAnimationFrame(e){return window.requestAnimationFrame(e)}createDiv(){return window.document.createElement("div")}getBreakpoint(){const e=Math.max(window.document.documentElement.clientWidth||0,window.innerWidth||0),t=Object.keys(d).reverse().find(n=>y(d,n)&&e>=d[n]);return typeof t=="string"&&y(d,t)?d[t]:0}get redirected(){return window.REDIRECTED===!0||window.location.search.includes("cs_redirect=")}createIframe(e,t){const n=window.document.createElement("iframe");n.id=e,n.style.display="none",n.src=t,window.document.body.appendChild(n)}removeElement(e){var t;(t=window.document.getElementById(e))==null||t.remove()}redirectToUrl(e){window.location.assign(e)}cookieConsentGiven(){const e=window,t={googleMaps:!1,newRelic:!1};return Object.keys(f).forEach(o=>{var r,a,c;const i=(c=e==null?void 0:e.usercentrics)==null?void 0:c.getConsents(((a=(r=e.GlobalConsent)==null?void 0:r.Processor)==null?void 0:a[o])??f[o]);i!=null&&i.consentStatus&&(t[o]=i.consentStatus)}),t}generateRandom(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=new Uint8Array(e);window.crypto.getRandomValues(n);const o=[];for(let i=0;i<n.byteLength;i+=1){const r=n[i]%t.length;o.push(t[r])}return o.join("")}maybeCheckMarketingConsent(){var t;const e=window;typeof((t=e==null?void 0:e.usercentrics)==null?void 0:t.getConsents)=="function"?(w.state.userConsent=this.cookieConsentGiven(),window.addEventListener("consents_changed_finished",()=>{w.state.userConsent=this.cookieConsentGiven()})):w.state.userConsent=v}async deriveChallenge(e){if(e.length<43||e.length>128)throw new u("invalid code length",l.INVALID_INPUT);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let a=0;a<e.length;a+=1)n[a]=e.charCodeAt(a);const o=await window.crypto.subtle.digest("SHA-256",n),i=new Uint8Array(o);let r="";for(let a=0;a<i.byteLength;a+=1)r+=String.fromCharCode(i[a]);return window.btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}async hashString(e){const t=new TextEncoder().encode(e),n=await window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}getScrollbarWidth(){const e=window.document.createElement("div");e.style.overflow="scroll",window.document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return window.document.body.removeChild(e),Number.isNaN(t)?"0px":`${t}px`}async fetchGoogleMapsApi(e,t=`https://maps.googleapis.com/maps/api/js?key=${e}&loading=async&libraries=places`){var i,r;if(((r=(i=window.google)==null?void 0:i.maps)==null?void 0:r.version)!==void 0||document.getElementById("googleMaps"))return window.google;const o=document.createElement("script");return o.src=t,o.id="googleMaps",document.head.appendChild(o),new Promise((a,c)=>{o.onerror=()=>{c(new u("Failed to load google maps script.",l.GENERAL))},o.onload=()=>{a(window.google)}})}async getNavigatorLatLong(){return new Promise((e,t)=>{window.navigator.geolocation.getCurrentPosition(({coords:{latitude:n,longitude:o}})=>{e({latitude:n,longitude:o})},n=>t(new u(`geolocation.getCurrentPosition failed with ${n.code}: ${n.message}`,I(n))))})}getCookie(e){var t;return N((t=document.cookie.split("; ").find(n=>n.startsWith(`${e}=`)))==null?void 0:t.split("=")[1])}setCookie(e,t){document.cookie=`${e}=${t};domain=${D};expires=${new Date(Date.now()+O*10).toUTCString()};`}btoa(e){return window.btoa(e)}lockScroll(){this.initialBodyStyleValues=R(document.body.style,this.initialBodyStyleValues),this.initialDocumentScrollTop=document.documentElement.scrollTop,document.body.style.top=`-${document.documentElement.scrollTop}px`,document.body.style.position="fixed",document.body.style.inlineSize="100%",document.body.style.overflowY="scroll"}unlockScroll(){Object.entries(this.initialBodyStyleValues).forEach(([e,t])=>document.body.style.setProperty(A(e),t)),document.documentElement.scrollTop=this.initialDocumentScrollTop}hasScrollbar(){return window.document.body.offsetHeight>window.innerHeight}async waitForElement(e,t){if(!C(t))return e;const n=E(e.querySelector(t));return n!==null?n:new Promise(o=>{const i=new MutationObserver(()=>{const r=E(e.querySelector(t));r!==null&&(o(r),i.disconnect())});i.observe(e,{childList:!0,subtree:!0})})}}function I(s){switch(s.code){case s.PERMISSION_DENIED:return l.GEOLOCATION_DENIED;case s.POSITION_UNAVAILABLE:case s.TIMEOUT:return l.RETRY;default:return l.GENERAL}}const h=new T;function $(){window.PHN_ERROR_QUEUE||(window.PHN_ERROR_QUEUE=[])}function k(s){var e;(e=window.PHN_ERROR_QUEUE)==null||e.push(s)}const H="https://logs.nav.porsche.com";class P{constructor(){this.version=_,this.breakpoint=0,this.locale=null}init(e,t){this.breakpoint=h.getBreakpoint(),this.locale=t}log(e,t,n,o,i){var a,c;const{env:r}=w.state;if(r!==b.TEST)try{const g=JSON.stringify({name:e,breakpoint:this.breakpoint,locale:this.locale,version:this.version,hostname:(a=h.location)==null?void 0:a.hostname,pathname:(c=h.location)==null?void 0:c.pathname,id:n,errorType:i??"",level:t,message:o,env:r});r===b.PRODUCTION?t!=="debug"&&fetch(H,{method:"POST",body:g,mode:"no-cors"}):console[t](g)}catch{}}info(e,t=""){this.log("PHN_HEADER_LOG_ENTRY","info",e,t)}error(e,t){const n=t instanceof u?t.type:l.GENERAL;this.log("PHN_HEADER_LOG_ENTRY","error",e,t.message,n),k(t)}}const p=new P,L={savedSearchesCount:0,savedVehiclesCount:0},q=S(L),x=0,V=480,M=760,U=1e3,G=1300,B=1760,j=1920,F={base:x,xs:V,s:M,m:U,l:G,xl:B,xxl:j};async function Q(){try{await customElements.whenDefined("phn-nd-contextual-drawer"),await m("phn-nd-contextual-drawer").openDrawer()}catch(s){p.error("open-contextual-drawer",s)}}async function Y(s){try{await customElements.whenDefined("phn-nd-navigation-drawer-initiater"),await m("phn-nd-navigation-drawer-initiater").openDrawer(s)}catch(e){p.error("open-navigation-drawer",e)}}async function K(){try{await customElements.whenDefined("phn-nd-navigation-drawer-initiater"),await m("phn-nd-navigation-drawer-initiater").closeDrawer()}catch(s){p.error("close-navigation-drawer",s)}}export{Q as a,F as b,K as c,k as e,q as f,$ as i,p as l,Y as o,h as w};
